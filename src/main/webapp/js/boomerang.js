BOOMR_start=new Date().getTime();function BOOMR_check_doc_domain(b){var c;if(!b){if(window.parent===window||!document.getElementById("boomr-if-as")){return}b=document.domain}if(b.indexOf(".")===-1){return}try{c=window.parent.document;return}catch(a){document.domain=b}try{c=window.parent.document;return}catch(a){b=b.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(b)}BOOMR_check_doc_domain();(function(i){var f,g,e,a,c,j,b,h;if(i.parent!==i&&document.getElementById("boomr-if-as")&&document.getElementById("boomr-if-as").nodeName.toLowerCase()==="script"){i=i.parent;a=document.getElementById("boomr-if-as").src}e=i.document;if(!i.BOOMR){i.BOOMR={}}BOOMR=i.BOOMR;if(BOOMR.version){return}BOOMR.version="0.9.1425404208";BOOMR.window=i;if(!BOOMR.plugins){BOOMR.plugins={}}(function(){try{if(new i.CustomEvent("CustomEvent")!==undefined){c=function(k,l){return new i.CustomEvent(k,l)}}}catch(d){}try{if(!c&&e.createEvent&&e.createEvent("CustomEvent")){c=function(l,m){var k=e.createEvent("CustomEvent");m=m||{cancelable:false,bubbles:false};k.initCustomEvent(l,m.bubbles,m.cancelable,m.detail);return k}}}catch(d){}if(!c&&e.createEventObject){c=function(l,m){var k=e.createEventObject();k.type=k.propertyName=l;k.detail=m.detail;return k}}if(!c){c=function(){return undefined}}}());j=function(d,k){var l=c(d,{detail:k});if(!l){return}BOOMR.setImmediate(function(){if(e.dispatchEvent){e.dispatchEvent(l)}else{if(e.fireEvent){e.fireEvent("onpropertychange",l)}}})};if(typeof document.hidden!=="undefined"){b="visibilityState";h="visibilitychange"}else{if(typeof document.mozHidden!=="undefined"){b="mozVisibilityState";h="mozvisibilitychange"}else{if(typeof document.msHidden!=="undefined"){b="msVisibilityState";h="msvisibilitychange"}else{if(typeof document.webkitHidden!=="undefined"){b="webkitVisibilityState";h="webkitvisibilitychange"}}}}f={beacon_url:"",beacon_type:"AUTO",site_domain:i.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",strip_query_string:false,onloadfired:false,handlers_attached:false,events:{page_ready:[],page_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},errors:{},disabled_plugins:{},xb_handler:function(d){return function(k){var l;if(!k){k=i.event}if(k.target){l=k.target}else{if(k.srcElement){l=k.srcElement}}if(l.nodeType===3){l=l.parentNode}if(l&&l.nodeName.toUpperCase()==="OBJECT"&&l.type==="application/x-shockwave-flash"){return}f.fireEvent(d,l)}},fireEvent:function(d,o){var l,m,k;d=d.toLowerCase();if(!this.events.hasOwnProperty(d)){return false}if(this.public_events.hasOwnProperty(d)){j(this.public_events[d],o)}k=this.events[d];for(l=0;l<k.length;l++){try{m=k[l];m.fn.call(m.scope,o,m.cb_data)}catch(n){BOOMR.addError(n,"fireEvent."+d+"<"+l+">")}}return true}};g={t_lstart:null,t_start:BOOMR_start,t_end:null,url:a,utils:{objectToString:function(p,n,l){var m=[],d;if(!p||typeof p!=="object"){return p}if(n===undefined){n="\n\t"}if(!l){l=0}if(Object.prototype.toString.call(p)==="[object Array]"){for(d=0;d<p.length;d++){if(l>0&&p[d]!==null&&typeof p[d]==="object"){m.push(this.objectToString(p[d],n+(n==="\n\t"?"\t":""),l-1))}else{if(n==="&"){m.push(encodeURIComponent(p[d]))}else{m.push(p[d])}}}n=","}else{for(d in p){if(Object.prototype.hasOwnProperty.call(p,d)){if(l>0&&p[d]!==null&&typeof p[d]==="object"){m.push(encodeURIComponent(d)+"="+this.objectToString(p[d],n+(n==="\n\t"?"\t":""),l-1))}else{if(n==="&"){m.push(encodeURIComponent(d)+"="+encodeURIComponent(p[d]))}else{m.push(d+"="+p[d])}}}}}return m.join(n)},getCookie:function(d){if(!d){return null}d=" "+d+"=";var k,l;l=" "+e.cookie+";";if((k=l.indexOf(d))>=0){k+=d.length;l=l.substring(k,l.indexOf(";",k));return l}return null},setCookie:function(m,n,d){var o,l,k,q,p;if(!m||!f.site_domain){return false}o=this.objectToString(n,"&");l=m+"="+o;q=[l,"path=/","domain="+f.site_domain];if(d){p=new Date();p.setTime(p.getTime()+d*1000);p=p.toGMTString();q.push("expires="+p)}if(l.length<500){e.cookie=q.join("; ");k=this.getCookie(m);if(o===k){return true}}else{}return false},getSubCookies:function(o){var n,m,d,q,k=false,p={};if(!o){return null}if(typeof o!=="string"){return null}n=o.split("&");for(m=0,d=n.length;m<d;m++){q=n[m].split("=");if(q[0]){q.push("");p[decodeURIComponent(q[0])]=decodeURIComponent(q[1]);k=true}}return k?p:null},removeCookie:function(d){return this.setCookie(d,{},-86400)},cleanupURL:function(d){if(!d){return""}if(f.strip_query_string){return d.replace(/\?.*/,"?qs-redacted")}return d},hashQueryString:function(k,d){if(!k){return k}if(k.match(/^\/\//)){k=location.protocol+k}if(!k.match(/^(https?|file):/)){return""}if(d){k=k.replace(/#.*/,"")}if(!BOOMR.utils.MD5){return k}return k.replace(/\?([^#]*)/,function(m,l){return"?"+(l.length>10?BOOMR.utils.MD5(l):l)})},pluginConfig:function(p,d,m,l){var k,n=0;if(!d||!d[m]){return false}for(k=0;k<l.length;k++){if(d[m][l[k]]!==undefined){p[l[k]]=d[m][l[k]];n++}}return(n>0)},addObserver:function(m,k,n,r,l,q){var p={observer:null,timer:null};if(!window.MutationObserver||!r||!m){return null}function d(o){var s=false;if(p.timer){clearTimeout(p.timer);p.timer=null}if(r){s=r.call(q,o,l);if(!s){r=null}}if(!s&&p.observer){p.observer.disconnect();p.observer=null}if(typeof s==="number"&&s>0){p.timer=setTimeout(d,s)}}p.observer=new MutationObserver(d);if(n){p.timer=setTimeout(d,p.timeout)}p.observer.observe(m,k);return p},addListener:function(l,k,d){if(l.addEventListener){l.addEventListener(k,d,false)}else{if(l.attachEvent){l.attachEvent("on"+k,d)}}},removeListener:function(l,k,d){if(l.removeEventListener){l.removeEventListener(k,d,false)}else{if(l.detachEvent){l.detachEvent("on"+k,d)}}},pushVars:function(p,r,q){var n,o,d=0,m;for(n in r){if(r.hasOwnProperty(n)){if(Object.prototype.toString.call(r[n])==="[object Array]"){for(o=0;o<r[n].length;++o){d+=BOOMR.utils.pushVars(p,r[n][o],n+"["+o+"]")}}else{m=document.createElement("input");m.name=(q?(q+"["+n+"]"):n);m.value=(r[n]===undefined||r[n]===null?"":r[n]);p.appendChild(m);d+=encodeURIComponent(m.name).length+encodeURIComponent(m.value).length+2}}}return d},sendData:function(l,o){var k=document.createElement("input"),n=[f.beacon_url];l.method=o;l.id="beacon_form";l.enctype="application/x-www-form-urlencoded";if(f.secondary_beacons&&f.secondary_beacons.length){n.push.apply(n,f.secondary_beacons)}function d(q){var p=document.getElementById(q);if(p){p.parentNode.removeChild(p)}}function m(){var q,p="boomerang_post-"+encodeURIComponent(l.action)+"-"+Math.random();try{q=document.createElement('<iframe name="'+p+'">')}catch(r){q=document.createElement("iframe")}l.action=n.shift();l.target=q.name=q.id=p;q.style.display=l.style.display="none";q.src="javascript:false";d(q.id);d(l.id);document.body.appendChild(q);document.body.appendChild(l);l.submit();if(n.length){BOOMR.setImmediate(m)}setTimeout(function(){d(q.id)},10000)}m()}},init:function(l){var n,d,m=["beacon_url","beacon_type","site_domain","user_ip","strip_query_string","secondary_beacons"];BOOMR_check_doc_domain();if(!l){l={}}for(n=0;n<m.length;n++){if(l[m[n]]!==undefined){f[m[n]]=l[m[n]]}}if(l.log!==undefined){this.log=l.log}if(!this.log){this.log=function(){}}for(d in this.plugins){if(this.plugins.hasOwnProperty(d)){if(l[d]&&l[d].hasOwnProperty("enabled")&&l[d].enabled===false){f.disabled_plugins[d]=1;continue}if(f.disabled_plugins[d]){delete f.disabled_plugins[d]}if(typeof this.plugins[d].init==="function"){try{this.plugins[d].init(l)}catch(o){BOOMR.addError(o,d+".init")}}}}if(f.handlers_attached){return this}if(!f.onloadfired&&(l.autorun===undefined||l.autorun!==false)){if(e.readyState&&e.readyState==="complete"){BOOMR.loadedLate=true;this.setImmediate(BOOMR.page_ready,null,null,BOOMR)}else{if(i.onpagehide||i.onpagehide===null){BOOMR.utils.addListener(i,"pageshow",BOOMR.page_ready)}else{BOOMR.utils.addListener(i,"load",BOOMR.page_ready)}}}BOOMR.utils.addListener(i,"DOMContentLoaded",function(){f.fireEvent("dom_loaded")});(function(){var k,p;if(h!==undefined){BOOMR.utils.addListener(e,h,function(){f.fireEvent("visibility_changed")});BOOMR.subscribe("visibility_changed",function(){BOOMR.lastVisibilityEvent[BOOMR.visibilityState()]=BOOMR.now()})}BOOMR.utils.addListener(e,"mouseup",f.xb_handler("click"));k=e.getElementsByTagName("form");for(p=0;p<k.length;p++){BOOMR.utils.addListener(k[p],"submit",f.xb_handler("form_submit"))}if(!i.onpagehide&&i.onpagehide!==null){BOOMR.utils.addListener(i,"unload",function(){BOOMR.window=i=null})}}());f.handlers_attached=true;return this},page_ready:function(d){if(!d){d=i.event}if(!d){d={name:"load"}}if(f.onloadfired){return this}f.fireEvent("page_ready",d);f.onloadfired=true;return this},setImmediate:function(l,m,k,n){var d=function(){l.call(n||null,m,k||{});d=null};if(i.setImmediate){i.setImmediate(d)}else{if(i.msSetImmediate){i.msSetImmediate(d)}else{if(i.webkitSetImmediate){i.webkitSetImmediate(d)}else{if(i.mozSetImmediate){i.mozSetImmediate(d)}else{setTimeout(d,10)}}}}},now:(window.performance&&window.performance.now?function(){return Math.round(window.performance.now()+window.performance.timing.navigationStart)}:Date.now||function(){return new Date().getTime()}),visibilityState:(b===undefined?function(){return"visible"}:function(){return e[b]}),lastVisibilityEvent:{},subscribe:function(d,o,k,q){var l,n,p,m;d=d.toLowerCase();if(!f.events.hasOwnProperty(d)){return this}p=f.events[d];for(l=0;l<p.length;l++){n=p[l];if(n.fn===o&&n.cb_data===k&&n.scope===q){return this}}p.push({fn:o,cb_data:k||{},scope:q||null});if(d==="page_ready"&&f.onloadfired){this.setImmediate(o,null,k,q)}if(d==="page_unload"){m=function(r){if(o){o.call(q,r||i.event,k)}};if(i.onpagehide||i.onpagehide===null){BOOMR.utils.addListener(i,"pagehide",m)}else{BOOMR.utils.addListener(i,"unload",m)}BOOMR.utils.addListener(i,"beforeunload",m)}return this},addError:function(k,l,d){if(typeof k!=="string"){k=String(k)}if(l!==undefined){k="["+l+":"+BOOMR.now()+"] "+k}if(d){k+=":: "+d}if(f.errors[k]){f.errors[k]++}else{f.errors[k]=1}},addVar:function(l,m){if(typeof l==="string"){f.vars[l]=m}else{if(typeof l==="object"){var n=l,d;for(d in n){if(n.hasOwnProperty(d)){f.vars[d]=n[d]}}}}return this},removeVar:function(k){var d,l;if(!arguments.length){return this}if(arguments.length===1&&Object.prototype.toString.apply(k)==="[object Array]"){l=k}else{l=arguments}for(d=0;d<l.length;d++){if(f.vars.hasOwnProperty(l[d])){delete f.vars[l[d]]}}return this},hasVar:function(d){return f.vars.hasOwnProperty(d)},requestStart:function(k){var d=BOOMR.now();BOOMR.plugins.RT.startTimer("xhr_"+k,d);return{loaded:function(l){BOOMR.responseEnd(k,d,l)}}},responseEnd:function(k,d,l){if(typeof k==="object"&&k.url){f.fireEvent("xhr_load",k)}else{BOOMR.plugins.RT.startTimer("xhr_"+k,d);f.fireEvent("xhr_load",{name:"xhr_"+k,data:l})}},sendBeacon:function(){var l,o,m,d,n,p=[];for(l in this.plugins){if(this.plugins.hasOwnProperty(l)){if(f.disabled_plugins[l]){continue}if(!this.plugins[l].is_complete()){return false}}}f.vars.pgu=BOOMR.utils.cleanupURL(e.URL.replace(/#.*/,""));if(!f.vars.u){f.vars.u=f.vars.pgu}if(f.vars.pgu===f.vars.u){delete f.vars.pgu}f.vars.v=BOOMR.version;if(BOOMR.visibilityState()){f.vars["vis.st"]=BOOMR.visibilityState();if(BOOMR.lastVisibilityEvent.visible){f.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible}if(BOOMR.lastVisibilityEvent.hidden){f.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden}}if(i!==window){f.vars["if"]=""}for(l in f.errors){if(f.errors.hasOwnProperty(l)){p.push(l+(f.errors[l]>1?" (*"+f.errors[l]+")":""))}}if(p.length>0){f.vars.errors=p.join("\n")}f.errors={};f.fireEvent("before_beacon",f.vars);if(!f.beacon_url){return true}o=document.createElement("form");n=BOOMR.utils.pushVars(o,f.vars);f.fireEvent("onbeacon",f.vars);if(!n){return this}BOOMR.utils.sendData(o,f.beacon_type==="AUTO"?(n>2000?"POST":"GET"):"POST");return true}};delete BOOMR_start;if(typeof BOOMR_lstart==="number"){g.t_lstart=BOOMR_lstart;delete BOOMR_lstart}else{if(typeof BOOMR.window.BOOMR_lstart==="number"){g.t_lstart=BOOMR.window.BOOMR_lstart}}(function(){var d;if(typeof console==="object"&&console.log!==undefined){g.log=function(k,n,o){console.log(o+": ["+n+"] "+k)}}d=function(k){return function(l,n){this.log(l,k,"boomerang"+(n?"."+n:""));return this}};g.debug=d("debug");g.info=d("info");g.warn=d("warn");g.error=d("error")}());(function(){var d;for(d in g){if(g.hasOwnProperty(d)){BOOMR[d]=g[d]}}if(!BOOMR.xhr_excludes){BOOMR.xhr_excludes={}}}());j("onBoomerangLoaded",{BOOMR:BOOMR})}(window));(function(a){var c=a.document,b;BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};if(BOOMR.plugins.RT){return}b={onloadfired:false,unloadfired:false,visiblefired:false,initialized:false,complete:false,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:true,navigationType:0,navigationStart:undefined,responseStart:undefined,t_start:undefined,cached_t_start:undefined,t_fb_approx:undefined,r:undefined,r2:undefined,basic_timers:{t_done:1,t_resp:1,t_page:1},addedVars:[],updateCookie:function(h,i){var g,e,f,d;if(!this.cookie){return false}f=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{};if(typeof h==="object"){for(d in h){if(h.hasOwnProperty(d)){if(h[d]===undefined){if(f.hasOwnProperty(d)){delete f[d]}}else{if(d==="nu"||d==="r"){h[d]=BOOMR.utils.hashQueryString(h[d],true)}f[d]=h[d]}}}}e=BOOMR.now();if(i){f[i]=e}if(!BOOMR.utils.setCookie(this.cookie,f,this.cookie_exp)){return false}g=BOOMR.now();if(g-e>50){BOOMR.utils.removeCookie(this.cookie);BOOMR.error("took more than 50ms to set cookie... aborting: "+e+" -> "+g,"rt")}return true},initFromCookie:function(){var d,e;e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie));if(!e){return}e.s=Math.max(+e.ul||0,+e.cl||0);if(e.s&&(e.r||e.nu)){this.r=e.r;d=BOOMR.utils.hashQueryString(c.URL,true);if(!this.strict_referrer||(e.nu&&e.nu===d&&e.s<+e.cl+15)||(e.s===+e.ul&&this.r===this.r2)){this.t_start=e.s;if(+e.hd>e.s){this.t_fb_approx=parseInt(e.hd,10)}}else{this.t_start=this.t_fb_approx=undefined}}this.updateCookie({s:undefined,r:undefined,nu:undefined,ul:undefined,cl:undefined,hd:undefined})},getBoomerangTimings:function(){var h,d,m,g,i,j;function f(n,k){var o=Math.round(n?n:0),e=Math.round(k?k:0);o=(o===0?0:(o-e));return o?o:""}if(BOOMR.t_start){BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start);BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end);BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start);if(BOOMR.t_lstart){BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart);BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)}}try{if(window.performance&&window.performance.getEntriesByName){m={"rt.bmr":BOOMR.url};for(g in m){if(m.hasOwnProperty(g)&&m[g]){h=window.performance.getEntriesByName(m[g]);if(!h||h.length===0){continue}h=h[0];i=f(h.startTime,0);j=[i,f(h.responseEnd,i),f(h.responseStart,i),f(h.requestStart,i),f(h.connectEnd,i),f(h.secureConnectionStart,i),f(h.connectStart,i),f(h.domainLookupEnd,i),f(h.domainLookupStart,i),f(h.redirectEnd,i),f(h.redirectStart,i)].join(",").replace(/,+$/,"");BOOMR.addVar(g,j);b.addedVars.push(g)}}}}catch(l){BOOMR.addError(l,"rt.getBoomerangTimings")}},checkPreRender:function(){if(BOOMR.visibilityState()!=="prerender"){return false}BOOMR.plugins.RT.startTimer("t_load",this.navigationStart);BOOMR.plugins.RT.endTimer("t_load");BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart);BOOMR.plugins.RT.startTimer("t_postrender");return true},initFromNavTiming:function(){var d,f,e;if(this.navigationStart){return}f=a.performance||a.msPerformance||a.webkitPerformance||a.mozPerformance;if(f&&f.navigation){this.navigationType=f.navigation.type}if(f&&f.timing){d=f.timing}else{if(a.chrome&&a.chrome.csi&&a.chrome.csi().startE){d={navigationStart:a.chrome.csi().startE};e="csi"}else{if(a.gtbExternal&&a.gtbExternal.startE()){d={navigationStart:a.gtbExternal.startE()};e="gtb"}}}if(d){BOOMR.addVar("rt.start",e||"navigation");this.navigationStart=d.navigationStart||d.fetchStart||undefined;this.responseStart=d.responseStart||undefined;if(navigator.userAgent.match(/Firefox\/[78]\./)){this.navigationStart=d.unloadEventStart||d.fetchStart||undefined}}else{}return},validateLoadTimestamp:function(f,e){var d=f;if(e&&e.timing&&e.timing.loadEventEnd){d=e.timing.loadEventEnd}else{if(BOOMR.loadedLate){if(a.performance&&a.performance.timing){if(a.performance.timing.loadEventStart&&a.performance.timing.loadEventStart<BOOMR.t_end){d=a.performance.timing.loadEventStart}}else{d=BOOMR.t_lstart||BOOMR.t_start||f}}}return d},setPageLoadTimers:function(d,f,g){var e;if(d!=="xhr"){b.initFromCookie();b.initFromNavTiming();if(b.checkPreRender()){return false}}if(d==="xhr"){if(g&&g.timing){e=g.timing.responseStart}}else{if(b.responseStart){e=b.responseStart}else{if(b.timers.hasOwnProperty("t_page")){BOOMR.plugins.RT.endTimer("t_page")}else{if(b.t_fb_approx){e=b.t_fb_approx}}}}if(e){BOOMR.plugins.RT.endTimer("t_resp",e);if(b.timers.t_load){BOOMR.plugins.RT.setTimer("t_page",b.timers.t_load.end-e)}else{BOOMR.plugins.RT.setTimer("t_page",f-e)}}if(b.timers.hasOwnProperty("t_postrender")){BOOMR.plugins.RT.endTimer("t_postrender");BOOMR.plugins.RT.endTimer("t_prerender")}return true},setSupportingTimestamps:function(d){if(d){BOOMR.addVar("rt.tstart",d)}if(typeof b.t_start==="number"&&b.t_start!==d){BOOMR.addVar("rt.cstart",b.t_start)}BOOMR.addVar("rt.bstart",BOOMR.t_start);if(BOOMR.t_lstart){BOOMR.addVar("rt.blstart",BOOMR.t_lstart)}BOOMR.addVar("rt.end",b.timers.t_done.end)},determineTStart:function(e,f){var d;if(e==="xhr"){if(f&&f.name&&b.timers[f.name]){d=b.timers[f.name].start}else{if(f&&f.timing&&f.timing.requestStart){d=f.timing.requestStart}}BOOMR.addVar("rt.start","manual")}else{if(b.navigationStart){d=b.navigationStart}else{if(b.t_start&&b.navigationType!==2){d=b.t_start;BOOMR.addVar("rt.start","cookie")}else{if(b.cached_t_start){d=b.cached_t_start}else{BOOMR.addVar("rt.start","none");d=undefined}}}}b.cached_t_start=d;return d},page_ready:function(){this.onloadfired=true},check_visibility:function(){if(BOOMR.visibilityState()==="visible"){b.visiblefired=true}if(b.visibilityState==="prerender"&&BOOMR.visibilityState()!=="prerender"){BOOMR.plugins.RT.done(null,"visible")}b.visibilityState=BOOMR.visibilityState()},page_unload:function(d){if(!this.unloadfired){BOOMR.plugins.RT.done(d,"unload")}this.updateCookie({r:c.URL},d.type==="beforeunload"?"ul":"hd");this.unloadfired=true},_iterable_click:function(e,f,h,d){var g;if(!h){return}while(h&&h.nodeName.toUpperCase()!==f){h=h.parentNode}if(h&&h.nodeName.toUpperCase()===f){g=d(h);this.updateCookie({nu:g},"cl");BOOMR.addVar("nu",BOOMR.utils.cleanupURL(g));b.addedVars.push("nu")}},onclick:function(d){b._iterable_click("Click","A",d,function(e){return e.href})},onsubmit:function(d){b._iterable_click("Submit","FORM",d,function(f){var e=f.getAttribute("action")||c.URL||"";return e.match(/\?/)?e:e+"?"})},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(d){if(b.addedVars&&b.addedVars.length>0){BOOMR.removeVar(b.addedVars);b.addedVars=[]}}};BOOMR.plugins.RT={init:function(d){if(a!==BOOMR.window){a=BOOMR.window}c=a.document;BOOMR.utils.pluginConfig(b,d,"RT",["cookie","cookie_exp","strict_referrer"]);b.r=b.r2=BOOMR.utils.hashQueryString(c.referrer,true);b.initFromCookie();b.getBoomerangTimings();if(b.initialized){return this}b.complete=false;b.timers={};b.check_visibility();BOOMR.subscribe("page_ready",b.page_ready,null,b);BOOMR.subscribe("visibility_changed",b.check_visibility,null,b);BOOMR.subscribe("page_ready",this.done,"load",this);BOOMR.subscribe("xhr_load",this.done,"xhr",this);BOOMR.subscribe("dom_loaded",b.domloaded,null,b);BOOMR.subscribe("page_unload",b.page_unload,null,b);BOOMR.subscribe("click",b.onclick,null,b);BOOMR.subscribe("form_submit",b.onsubmit,null,b);BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this);BOOMR.subscribe("onbeacon",b.clear,null,b);b.initialized=true;return this},startTimer:function(d,e){if(d){if(d==="t_page"){this.endTimer("t_resp",e)}b.timers[d]={start:(typeof e==="number"?e:BOOMR.now())}}return this},endTimer:function(d,e){if(d){b.timers[d]=b.timers[d]||{};if(b.timers[d].end===undefined){b.timers[d].end=(typeof e==="number"?e:BOOMR.now())}}return this},setTimer:function(d,e){if(d){b.timers[d]={delta:e}}return this},addTimersToBeacon:function(g,e){var f,h,d=[];for(f in b.timers){if(b.timers.hasOwnProperty(f)){h=b.timers[f];if(typeof h.delta!=="number"){if(typeof h.start!=="number"){h.start=b.cached_t_start}h.delta=h.end-h.start}if(isNaN(h.delta)){continue}if(b.basic_timers.hasOwnProperty(f)){BOOMR.addVar(f,h.delta);b.addedVars.push(f)}else{d.push(f+"|"+h.delta)}}}if(d.length){BOOMR.addVar("t_other",d.join(","));b.addedVars.push("t_other")}if(e==="beacon"){b.timers={};b.complete=false}},done:function(j,f){try{}catch(h){}var e,g,i=BOOMR.now(),d=false;b.complete=false;g=b.validateLoadTimestamp(i,j);if(f==="load"||f==="visible"||f==="xhr"){if(!b.setPageLoadTimers(f,g,j)){return this}}e=b.determineTStart(f,j);if(j&&j.data){j=j.data}if(f==="xhr"&&j){d=j.subresource}this.endTimer("t_done",g);BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","r","r2","rt.tstart","rt.cstart","rt.bstart","rt.end","rt.subres","rt.abld","http.errno","http.method","xhr.sync");b.setSupportingTimestamps(e);this.addTimersToBeacon();BOOMR.addVar("r",BOOMR.utils.cleanupURL(b.r));if(b.r2!==b.r){BOOMR.addVar("r2",BOOMR.utils.cleanupURL(b.r2))}if(f==="xhr"&&j){if(j.url){BOOMR.addVar("u",BOOMR.utils.cleanupURL(j.url.replace(/#.*/,"")));b.addedVars.push("u")}if(j.status&&(j.status<-1||j.status>=400)){BOOMR.addVar("http.errno",j.status)}if(j.method&&j.method!=="GET"){BOOMR.addVar("http.method",j.method)}if(j.headers){BOOMR.addVar("http.hdr",j.headers)}if(j.synchronous){BOOMR.addVar("xhr.sync",1)}if(j.initiator){BOOMR.addVar("http.initiator",j.initiator)}b.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator")}if(d){BOOMR.addVar("rt.subres",1);b.addedVars.push("rt.subres")}b.updateCookie();if(f==="unload"){BOOMR.addVar("rt.quit","");if(!b.onloadfired){BOOMR.addVar("rt.abld","")}if(!b.visiblefired){BOOMR.addVar("rt.ntvu","")}}b.complete=true;BOOMR.sendBeacon();return this},is_complete:function(){return b.complete}}}(window));(function(){var b,a;BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};if(BOOMR.plugins.BW){return}a=[{name:"image-0.png",size:11773,timeout:1400},{name:"image-1.png",size:40836,timeout:1200},{name:"image-2.png",size:165544,timeout:1300},{name:"image-3.png",size:382946,timeout:1500},{name:"image-4.png",size:1236278,timeout:1200},{name:"image-5.png",size:4511798,timeout:1200},{name:"image-6.png",size:9092136,timeout:1200}];a.end=a.length;a.start=0;a.l={name:"image-l.gif",size:35,timeout:1000};b={base_url:"",timeout:15000,nruns:5,latency_runs:10,user_ip:"",test_https:false,cookie_exp:7*86400,cookie:"BA",results:[],latencies:[],latency:null,runs_left:0,aborted:false,complete:true,running:false,initialized:false,ncmp:function(d,c){return(d-c)},iqr:function(f){var e=f.length-1,d,j,h,c=[],g;d=(f[Math.floor(e*0.25)]+f[Math.ceil(e*0.25)])/2;j=(f[Math.floor(e*0.75)]+f[Math.ceil(e*0.75)])/2;h=(j-d)*1.5;if(h===0){return f}e++;for(g=0;g<e&&f[g]<j+h;g++){if(f[g]>d-h){c.push(f[g])}}return c},calc_latency:function(){var f,d,g=0,e=0,h,k,c,l,j;this.latencies.shift();j=this.iqr(this.latencies.sort(this.ncmp));d=j.length;for(f=0;f<d;f++){g+=j[f];e+=j[f]*j[f]}h=Math.round(g/d);c=Math.sqrt(e/d-g*g/(d*d));l=(1.96*c/Math.sqrt(d)).toFixed(2);c=c.toFixed(2);k=Math.round((j[Math.floor(d/2)]+j[Math.ceil(d/2)])/2);return{mean:h,median:k,stddev:c,stderr:l}},calc_bw:function(){var x,w,s=0,o,e=[],u=[],d=0,m=0,B=0,t=0,p,z,A,f,c,v,g,l,k,y,q,h=[];for(x=0;x<this.nruns;x++){if(!this.results[x]||!this.results[x].r){continue}o=this.results[x].r;k=0;for(w=o.length-1;w>=0&&k<3;w--){if(!o[w]){break}if(o[w].t===null){continue}s++;k++;y=a[w].size*1000/o[w].t;e.push(y);if(o[w].t>this.latency.mean){q=a[w].size*1000/(o[w].t-this.latency.mean);u.push(q)}else{h.push(w+"_"+o[w].t)}}}if(e.length>3){e=this.iqr(e.sort(this.ncmp));u=this.iqr(u.sort(this.ncmp))}else{e=e.sort(this.ncmp);u=u.sort(this.ncmp)}s=Math.max(e.length,u.length);for(x=0;x<s;x++){if(x<e.length){d+=e[x];m+=Math.pow(e[x],2)}if(x<u.length){B+=u[x];t+=Math.pow(u[x],2)}}s=e.length;p=Math.round(d/s);z=Math.sqrt(m/s-Math.pow(d/s,2));A=Math.round(1.96*z/Math.sqrt(s));z=Math.round(z);s=e.length-1;f=Math.round((e[Math.floor(s/2)]+e[Math.ceil(s/2)])/2);if(u.length<1){h.push("l=="+u.length);c=p;v=z;g=A;l=f}else{s=u.length;c=Math.round(B/s);v=Math.sqrt(t/s-Math.pow(B/s,2));g=(1.96*v/Math.sqrt(s)).toFixed(2);v=v.toFixed(2);s=u.length-1;l=Math.round((u[Math.floor(s/2)]+u[Math.ceil(s/2)])/2)}return{mean:p,stddev:z,stderr:A,median:f,mean_corrected:c,stddev_corrected:v,stderr_corrected:g,median_corrected:l,debug_info:h}},load_img:function(f,e,k){var c=this.base_url+a[f].name+"?t="+BOOMR.now()+Math.random(),d=0,j=0,g=new Image(),h=this;function l(i){return function(){if(k){k.call(h,f,j,e,i)}if(i!==null){g.onload=g.onerror=null;g=null;clearTimeout(d);h=k=null}}}g.onload=l(true);g.onerror=l(false);d=setTimeout(l(null),a[f].timeout+Math.min(400,this.latency?this.latency.mean:400));j=BOOMR.now();g.src=c},lat_loaded:function(c,d,f,g){if(f!==this.latency_runs+1){return}if(g!==null){var e=BOOMR.now()-d;this.latencies.push(e)}if(this.latency_runs===0){this.latency=this.calc_latency()}BOOMR.setImmediate(this.iterate,null,null,this)},img_loaded:function(d,e,f,g){if(f!==this.runs_left+1){return}if(this.results[this.nruns-f].r[d]){return}if(g===null){this.results[this.nruns-f].r[d+1]={t:null,state:null,run:f};return}var c={start:e,end:BOOMR.now(),t:null,state:g,run:f};if(g){c.t=c.end-c.start}this.results[this.nruns-f].r[d]=c;if(d>=a.end-1||this.results[this.nruns-f].r[d+1]!==undefined){if(f===this.nruns){a.start=d}BOOMR.setImmediate(this.iterate,null,null,this)}else{this.load_img(d+1,f,this.img_loaded)}},finish:function(){if(!this.latency){this.latency=this.calc_latency()}var d=this.calc_bw(),c={bw:d.median_corrected,bw_err:parseFloat(d.stderr_corrected,10),lat:this.latency.mean,lat_err:parseFloat(this.latency.stderr,10),bw_time:Math.round(BOOMR.now()/1000)};BOOMR.addVar(c);if(d.debug_info.length>0){BOOMR.addVar("bw_debug",d.debug_info.join(","))}if(!isNaN(c.bw)&&c.bw>0){BOOMR.utils.setCookie(this.cookie,{ba:Math.round(c.bw),be:c.bw_err,l:c.lat,le:c.lat_err,ip:this.user_ip,t:c.bw_time},(this.user_ip?this.cookie_exp:0))}this.complete=true;this.running=false},iterate:function(){if(!this.aborted){if(!this.runs_left){this.finish()}else{if(this.latency_runs){this.load_img("l",this.latency_runs--,this.lat_loaded)}else{this.results.push({r:[]});this.load_img(a.start,this.runs_left--,this.img_loaded)}}}},setVarsFromCookie:function(){var j,g,i,h,d,c,k,f,e;j=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(b.cookie));if(j&&j.ba){g=parseInt(j.ba,10);i=parseFloat(j.be,10);h=parseInt(j.l,10)||0;d=parseFloat(j.le,10)||0;c=j.ip.replace(/\.\d+$/,"0");k=parseInt(j.t,10);f=this.user_ip.replace(/\.\d+$/,"0");e=Math.round(BOOMR.now()/1000);if(c===f&&k>=e-this.cookie_exp&&g>0){this.complete=true;BOOMR.addVar({bw:g,lat:h,bw_err:i,lat_err:d,bw_time:k});return true}}return false}};BOOMR.plugins.BW={init:function(c){if(b.initialized){return this}BOOMR.utils.pluginConfig(b,c,"BW",["base_url","timeout","nruns","cookie","cookie_exp","test_https"]);if(c&&c.user_ip){b.user_ip=c.user_ip}if(!b.base_url){return this}a.start=0;b.runs_left=b.nruns;b.latency_runs=10;b.results=[];b.latencies=[];b.latency=null;b.complete=b.aborted=false;BOOMR.removeVar("ba","ba_err","lat","lat_err");if(!b.setVarsFromCookie()){BOOMR.subscribe("page_ready",this.run,null,this)}b.initialized=true;return this},run:function(){var c;if(b.running||b.complete){return this}c=document.createElement("a");c.href=b.base_url;if(!b.test_https&&c.protocol==="https:"){b.complete=true;return this}b.base_url=c.href;b.running=true;setTimeout(this.abort,b.timeout);b.iterate();return this},abort:function(){b.aborted=true;if(b.running){b.finish()}},is_complete:function(){return true}}}());BOOMR.t_end=new Date().getTime();