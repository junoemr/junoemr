{"version":3,"sources":["webpack:///./generated/JunoInternalApi/ScheduleApi.ts","webpack:///./src/schedule/calendarApiAdapter.ts","webpack:///./src/index.ts","webpack:///./src/help/helpController.js","webpack:///./src/help/supportController.js","webpack:///./src/help/module.js","webpack:///./src/settings/quickLinkController.js","webpack:///./src/settings/changePasswordController.js","webpack:///./src/settings/settingsController.js","webpack:///./src/settings/module.js","webpack:///./src/document/documentsController.js","webpack:///./src/document/module.js","webpack:///./src/report/reportSHMentalHealthController.js","webpack:///./src/report/reportRegistrationIntakeController.js","webpack:///./src/report/reportPatientChartListController.js","webpack:///./src/report/reportOldPatientsController.js","webpack:///./src/report/reportNoShowAppointmentSheetController.js","webpack:///./src/report/reportFollowUpIntakeController.js","webpack:///./src/report/reportEdbListController.js","webpack:///./src/report/reportDaySheetController.js","webpack:///./src/report/reportBadAppointmentSheetController.js","webpack:///./src/report/reportsController.js","webpack:///./src/report/module.js","webpack:///./src/patient/search/remotePatientResultsController.js","webpack:///./src/patient/search/patientSearchController.js","webpack:///./src/patient/search/module.js","webpack:///./src/inbox/inboxController.js","webpack:///./src/inbox/module.js","webpack:///./src/consults/consultResponseController.js","webpack:///./src/consults/consultResponseListController.js","webpack:///./src/consults/consultRequestController.js","webpack:///./src/consults/consultRequestListController.js","webpack:///./src/consults/consultResponseAttachmentController.js","webpack:///./src/consults/consultRequestAttachmentController.js","webpack:///./src/consults/module.js","webpack:///./src/billing/billingController.js","webpack:///./src/admin/integration/know2act/Know2actTemplateController.js","webpack:///./src/admin/integration/know2act/Know2actNotificationController.js","webpack:///./src/admin/integration/know2act/Know2actConfigController.js","webpack:///./src/admin/integration/know2act/module.js","webpack:///./src/admin/integration/module.js","webpack:///./src/admin/adminController.js","webpack:///./src/admin/module.js","webpack:///./src/schedule/appointmentViewController.js","webpack:///./src/schedule/appointmentAddController.js","webpack:///./src/schedule/scheduleController.js","webpack:///./src/schedule/module.js","webpack:///./src/tickler/ticklerCommentController.js","webpack:///./src/tickler/ticklerNoteController.js","webpack:///./src/tickler/ticklerAddController.js","webpack:///./src/tickler/ticklerViewController.js","webpack:///./src/tickler/ticklerListController.js","webpack:///./src/tickler/module.js","webpack:///./src/record/tracker/trackerController.js","webpack:///./src/record/tracker/module.js","webpack:///./src/record/phr/phrController.js","webpack:///./src/record/phr/module.js","webpack:///./src/record/details/detailsController.js","webpack:///./src/record/details/module.js","webpack:///./src/record/forms/formsController.js","webpack:///./src/record/forms/module.js","webpack:///./src/record/summary/saveWarningController.js","webpack:///./src/record/summary/groupNotesController.js","webpack:///./src/record/summary/recordPrintController.js","webpack:///./src/record/summary/summaryController.js","webpack:///./src/record/summary/module.js","webpack:///./src/record/recordController.js","webpack:///./src/record/module.js","webpack:///./src/patientlist/patientListProgramController.js","webpack:///./src/patientlist/patientListDemographicSetController.js","webpack:///./src/patientlist/patientListConfigController.js","webpack:///./src/patientlist/patientListAppointmentListController.js","webpack:///./src/patientlist/patientListController.js","webpack:///./src/patientlist/patientListState.js","webpack:///./src/patientlist/module.js","webpack:///./src/dashboard/ticklerConfigureController.js","webpack:///./src/dashboard/dashboardController.js","webpack:///./src/dashboard/module.js","webpack:///./src/patient/newPatientController.js","webpack:///./src/patient/module.js","webpack:///./src/layout/navBarController.js","webpack:///./src/layout/bodyController.js","webpack:///./src/layout/module.js","webpack:///./src/common/directives/clinicaid/zero_pad.js","webpack:///./src/common/directives/clinicaid/scroll.js","webpack:///./src/common/directives/clinicaid/scroll_handler.js","webpack:///./src/common/directives/clinicaid/resize.js","webpack:///./src/common/directives/clinicaid/resize_handler.js","webpack:///./src/common/directives/clinicaid/file_model.js","webpack:///./src/common/directives/clinicaid/compile_html.js","webpack:///./src/common/directives/clinicaid/ca_zero_pad.js","webpack:///./src/common/directives/clinicaid/ca_sticky_search_results_footer.js","webpack:///./src/common/directives/clinicaid/ca_quill.js","webpack:///./src/common/directives/clinicaid/ca_pagination.js","webpack:///./src/common/directives/clinicaid/ca_key_bind_scope.js","webpack:///./src/common/directives/clinicaid/ca_info_messages.js","webpack:///./src/common/directives/clinicaid/ca_focus_field.js","webpack:///./src/common/directives/clinicaid/ca_field_toggle.js","webpack:///./src/common/directives/clinicaid/ca_field_time.js","webpack:///./src/common/directives/clinicaid/ca_field_text.js","webpack:///./src/common/directives/clinicaid/ca_field_select.js","webpack:///./src/common/directives/clinicaid/ca_field_number.js","webpack:///./src/common/directives/clinicaid/ca_field_date.js","webpack:///./src/common/directives/clinicaid/ca_field_date3.js","webpack:///./src/common/directives/clinicaid/ca_field_currency.js","webpack:///./src/common/directives/clinicaid/ca_field_currency_filter.js","webpack:///./src/common/directives/clinicaid/ca_field_color.js","webpack:///./src/common/directives/clinicaid/ca_field_button_group.js","webpack:///./src/common/directives/clinicaid/ca_field_boolean.js","webpack:///./src/common/directives/clinicaid/ca_field_autocomplete.js","webpack:///./src/common/directives/clinicaid/ca_field_alpha.js","webpack:///./src/common/directives/clinicaid/ca_field_alphadate.js","webpack:///./src/common/directives/jqueryUIDraggable.js","webpack:///./src/common/directives/jqueryUIResizable.js","webpack:///./src/common/directives/datepickerPopup.js","webpack:///./src/common/directives/patientTypeahead.js","webpack:///./src/common/directives/patientSearchTypeahead.js","webpack:///./src/common/directives/typeaheadHelper.js","webpack:///./src/common/directives/module.js","webpack:///./src/common/filters/startFrom.js","webpack:///./src/common/filters/offset.js","webpack:///./src/common/filters/cut.js","webpack:///./src/common/filters/age.js","webpack:///./src/common/filters/module.js","webpack:///./src/common/services/referralDoctorsService.js","webpack:///./src/common/services/specialistsService.js","webpack:///./src/common/services/uxService.js","webpack:///./src/common/services/reportByTemplateService.js","webpack:///./src/common/services/ticklerService.js","webpack:///./src/common/services/summaryService.js","webpack:///./src/common/services/staticDataService.js","webpack:///./src/common/services/securityService.js","webpack:///./src/common/services/scheduleService.js","webpack:///./src/common/services/resultsService.js","webpack:///./src/common/services/providersService.js","webpack:///./src/common/services/providerService.js","webpack:///./src/common/services/programService.js","webpack:///./src/common/services/personaService.js","webpack:///./src/common/services/patientDetailStatusService.js","webpack:///./src/common/services/noteService.js","webpack:///./src/common/services/messageService.js","webpack:///./src/common/services/k2aService.js","webpack:///./src/common/services/inboxService.js","webpack:///./src/common/services/globalStateService.js","webpack:///./src/common/services/formService.js","webpack:///./src/common/services/focusService.js","webpack:///./src/common/services/fieldHelperService.js","webpack:///./src/common/services/errorsService.js","webpack:///./src/common/services/diseaseRegistryService.js","webpack:///./src/common/services/demographicsService.js","webpack:///./src/common/services/demographicService.js","webpack:///./src/common/services/consultService.js","webpack:///./src/common/services/billingService.js","webpack:///./src/common/services/autoCompleteService.js","webpack:///./src/common/services/appService.js","webpack:///./src/common/services/module.js","webpack:///./src/common/util/junoHttp.js","webpack:///./src/common/util/angular-util.js","webpack:///./src/common/util/module.js","webpack:///./src/common/module.js","webpack:///./cp-calendar/util.js","webpack:///./cp-calendar/event_controller.js","webpack:///./cp-calendar/controller.js","webpack:///./cp-calendar/directive.js","webpack:///./cp-calendar/module.js","webpack:///./app.js","webpack:///./src/consults/common.js","webpack:///./src/common/util/serviceHelper.js","webpack:///./src/common/util/util.js","webpack:///./src/common/displayMessages.js","webpack:///../webapp/share/javascript/Oscar.js"],"names":["ScheduleApi","$http","$httpParamSerializer","basePath","this","defaultHeaders","undefined","prototype","addAppointment","newAppointmentTo1","extraHttpRequestParams","httpRequestParams","method","url","data","params","headers","Object","assign","deleteAppointment","appointmentTo1","fetchMonthlyData","year","month","providerNo","localVarPath","replace","encodeURIComponent","String","headerParams","Error","findExistAppointments","demographicNo","getAppointment","getAppointmentReasons","getAppointmentStatuses","console","log","getAppointmentTypes","getAppointmentsForDay","date","getAppointmentsForDay1","getCalendarAppointmentStatuses","getCalendarEvents","providerId","startDate","endDate","site","queryParameters","getScheduleGroups","getScheduleTemplateCodes","updateAppointment","updateAppointmentStatus","id","updateAppointmentType","$inject","exports","ScheduleApi_1","__webpack_require__","moment","CalendarApiAdapter","$q","$stateParams","$uibModal","results_factory","util","demographicsService","scheduleService","globalStateService","focus","patient_model","uuid","full_name","has_photo","patient_photo_url","clear","birth_date","health_number","ontario_version_code","phone_number_primary","fill_data","upload_photo","file","scheduleApi","searchPatients","term","search","type","status","integrator","outofdomain","then","results","resp","x","content","length","push","value_field","lastName","firstName","dob","hin","phone","errors","load_schedule_events","schedule","siteName","start","end","view_name","schedule_templates","event_statuses","default_event_color","availability_types","_this","deferred","defer","startDateString","format","endDateString","subtract","getSchedulesForCalendar","resolve","snake_schedule_results","promise","snake_appointment_data","schedule_uuid","scheduleUuid","event_status_uuid","eventStatusUuid","event_status_modifier","eventStatusModifier","start_time","startTime","end_time","endTime","reason","num_invoices","numInvoices","demographics_patient_dob","demographicPatientDob","demographics_patient_name","demographicPatientName","demographics_patient_phone","demographicPatientPhone","demographics_patient_uuid","demographicPatientUuid","demographics_practitioner_uuid","demographicPractitionerUuid","tag_names","tagNames","tag_self_booked","tagSelfBooked","tag_self_cancelled","tagSelfCancelled","tag_system_codes","tagSystemCodes","snake_availability_type","name","color","preferred_event_length_minutes","preferredEventLengthMinutes","system_code","systemCode","angular","isArray","snake_results","i","result","resourceId","rendering","schedule_template_code","scheduleTemplateCode","className","availability_type","availabilityType","load_schedule_templates","load_availability_types","code","description","duration","load_event_statuses","snake_appointment_statuses","body","snake_data","displayLetter","display_letter","icon","rotates","sort_order","sortOrder","load_sites","getSites","out","siteId","display_name","bgColor","load_schedule_options","identifier","get_selected_schedule","schedule_options","selected_uuid","default_schedule","get_global_state","get_global_preference_setting","exists","get_selected_resources","resource_options","get_selected_time_interval","time_interval_options","default_time_interval","selected_time_interval","time_interval","get_schedule_min_time","get_schedule_max_time","load_schedule","availabilities","relations","save_event","edit_mode","event_uuid","start_datetime","end_datetime","event_data","selected_event_status_uuid","patient_uuid","site_uuid","appointment","appointmentDate","get_date_string","get_time_string","diff","asMinutes","notes","location","reject","process_save_results","display_errors","error_message","error","message","validation_error_array","validationErrors","Array","add_standard_error","_i","validation_error_array_1","add_field_error","path","key","preferences","settings","setting","save_global_state","value","get_create_invoice_url","get_patient_demographic_url","event","get_create_chart_note_url","open_patient_dialog","edit_mode_callback","on_save_callback","load_error_link_patient_fn","open","animation","backdrop","size","controller","templateUrl","get_schedule_height","calendarApiAdapter_1","module","service","$scope","ospInfo","contact","email","buildInfo","versionDisplayName","version","$uibModalInstance","qll","close","addQuickLink","qlForm","$valid","changePassword","$state","$filter","providerList","user","billingServiceTypes","loadedSettings","providerService","encounterForms","eforms","teams","groupNames","loadedApps","appService","$emit","pref","recentPatients","formGroupNames","label","billingServiceTypesMod","copy","splice","appointmentScreenForms","selected","formName","checked","appointmentScreenEforms","tabs","displayName","pageSizes","rxInteractionWarningLevels","staleDates","olisLabs","pasteFormats","letterHeadNameDefaults","consultationLetterHeadNameDefault","current","currentTab","tab","isActive","changeTab","go","save","newList","appointmentScreenQuickLinks","saveSettings","alert","cancel","selectEncounterForms","tmp","selectEForms","removeQuickLinks","openChangePasswordModal","window","openQuickLinkModal","selectedItem","editDocumentTemplates","showProviderColourPopup","showDefaultEncounterWindowSizePopup","openConfigureEChartCppPopup","openManageAPIClientPopup","openMyOscarUsernamePopup","authenticate","app","refreshAppList","getApps","errorMessage","securityService","me","$watch","getUser","newVal","openPopup","$log","Date","generateReport","includePastForms","searchProviders","val","searchTerm","active","updateProviderNo","item","model","p","age","response","region","reset","factory","$rootScope","load","msg","ReportNavigation","reports","iframeUrl","group","init","reportGroup","reportGroups","getReportGroups","reportSidebar","test","editDemographicSet","selectReport","getReports","groups","groupMap","report","currentReport","direct","width","height","total","currentPage","pageSize","startIndex","doImport","d","myUrl","remoteFacilityId","prevPage","nextPage","NgTableParams","demographicReadAccess","clearParams","Juno","Common","Util","hasRights","items","objectName","privilege","initTable","tableParams","page","count","sorting","Name","getData","promiseArray","integratorResults","searchIntegrator","all","demographicSearchResults","promiseErrors","dobMoment","isValid","reload","searchType","searchTermPlaceHolder","toggleParam","param","indexOf","loadRecord","hideNote","showIntegratorResults","$","$resource","$location","consultService","demographicService","summaryService","staticDataService","consult","hasRight","consultReadAccess","consultUpdateAccess","consultWriteAccess","letterheadList","toArray","referringDoctorList","faxList","sendToList","attachments","Consults","sortAttachmentDocs","letterheadName","letterheadAddress","address","letterheadPhone","letterheadFax","faxNumber","forEach","referringDoc","referringDoctor","demographic","extras","cellPhone","urgencies","getConsultUrgencies","statuses","getConsultResponseStatuses","hours","getHours","minutes","getMinutes","parseTime","time","tArray","split","appointmentHour","appointmentMinute","appointmentTime","consultChanged","$watchCollection","$on","confirm","preventDefault","changeLetterhead","index","selectedIndex","writeToBox","boxId","summaryItem","boxData","addNewLine","clinicalInfo","concurrentProblems","currentMeds","getFamilyHistory","getMedicalHistory","getSocialHistory","getOngoingConcerns","getOtherMeds","getReminders","invalidData","urgency","isUndefinedOrNull","setAppointmentTime","apptTime","now","set","openAttach","attachment","attachFiles","windowClass","attachmentsChanged","consultSaving","saveResponse","list","p_page1","sendFax","p_urgency","toTrimmedString","p_letterheadName","p_page2","getPrintPage2","consultResponsePage","reqId","fax","printPreview","printWin","document","p_attachments","write","p_clinicName","p_responseDate","formatDate","responseDate","p_referralDate","referralDate","p_letterheadAddress","p_letterheadPhone","p_letterheadFax","p_consultantName","p_consultantPhone","phoneNumber","p_consultantFax","p_consultantAddress","streetAddress","p_patientName","p_patientPhone","p_patientWorkPhone","alternativePhone","p_patientBirthdate","dateOfBirth","p_patientSex","sexDesc","p_patientHealthCardNo","ver","p_patientChartNo","chartNo","p_patientAddress","city","province","postal","p_appointmentDate","p_appointmentTime","formatTime","p_reason","reasonForReferral","examination","impression","plan","allergies","$timeout","onRecordPage","lastResponse","team","numToReturn","parseInt","getAccessRights","getTeams","getActiveTeams","unshift","searchMrps","mrpNo","updateMrpNo","Number","mrpName","getProvider","doSearch","updateDemographicNo","demographicName","checkAll","checkNone","editConsult","addConsult","removeDemographicAssignment","removeMrpAssignment","ReferralDate","getSavedSearchParams","_params","perPage","myRegexp","match","exec","sortColumn","sortDirection","tmpSearch","searchResponses","meta","j","statusDescription","urgencyDescription","urgencyColor","hideSearchPatient","srhDemoNo","srhMrpNo","referralStartDate","referralEndDate","appointmentStartDate","appointmentEndDate","countPerPage","toPage","serviceList","getConsultRequestStatuses","getDemographic","demographicId","letterhead","serviceId","specialists","spec","professionalSpecialist","oldVal","newLetterheadName","changeService","getAllergies","patientWillBook","setESendEnabled","eSendEnabled","eDataUrl","trim","saveRequest","noNull","eSend","eSendRequest","JSON","stringify","searchParams","searchDemoNo","setSearchParams","$current","srhStatus","srhTeam","srhRefStartDate","getTime","srhRefEndDate","srhApptStartDate","srhApptEndDate","srhToPage","srhCountPerPage","srhSortMode","srhSortDir","justOpen","getSavedSearchVals","search1","searchRequests","dp","rDate","setMonth","getMonth","outstanding","sortMode","popup","vheight","vwidth","varpage","winname","windowprops","opener","self","atth","patientName","attachedDocs","selectedAttachedDoc","consultId","getResponseAttachments","availableDocs","selectedAvailableDoc","openDoc","doc","attach","attached","detach","done","getRequestAttachments","removeIndex","map","documentNo","documentType","selectionIndex","reportByTemplateService","k2aService","k2aActive","k2aReports","K2A_URL","dtOptions","checkStatus","isK2AInit","getAllK2AReports","saveK2AReport","getK2AReportById","refreshParent","openK2AUrl","getK2AUrl","href","onunload","notifications","readMore","notif","getMoreNotification","archive","ackNotification","getNotifications","PrevListQuantity","availablePreventionRuleSets","currentPreventionRulesSet","clinicName","getPreventionRulesList","getCurrentPreventionRulesVersion","preventionRulesList","loadPreventionRuleById","prevSet","increasePrevListQuantity","initK2A","info","statusList","appointmentUpdate","appointmentWriteAccess","getStatus","providerName","editProvider","showProviderFormControl","provider","updateProvider","needsUpdate","cancelProviderUpdate","showAppointmentHistory","appointmentHistory","noShowAppointment","cancelAppointment","apptDate","types","formattedName","resources","critical","getTypes","selectType","validate","t","showErrors","startTime12hWithMedian","uiConfig","selectedSchedule","selectedSiteName","selectedTimeInterval","selectedResources","cpCalendarControl","isSchedulingEnabled","isInitialized","callCalendarMethod","hasSchedules","hasSites","getTimeIntervalOptions","getScheduleOptions","getSiteOptions","isDefined","selectedSite","viewName","showTimeIntervals","onScheduleChanged","onSiteChanged","onTimeIntervalChanged","saveGlobalState","calendar","slotDuration","slotLabelInterval","changeView","view","showLegend","isAgendaView","args","isFunction","apply","tickler","ticklerNote","noteService","originalNote","note","saveTicklerNote","ticklerService","demographicSearch","template","serviceDateDate","serviceDateTime","suggestedTextId","priorities","timepicker","defaultTime","getTextSuggestions","textSuggestions","suggestedText","taskAssignedTo","priority","givenDate","givenTime","setHours","get","setMinutes","serviceDate","add","demo","taskAssignedToName","setSuggestedText","addMonthsFromNow","num","toDate","ticklerWriteAccess","ticklerUpdate","serviceDateInput","serviceTimeInput","showUpdates","showComments","showCommentFormControl","selectedStatus","find","newValue","newDate","finalVal","updateTaskAssignedTo","showTaskAssignedToFormControl","cancelTaskAssignedToUpdate","editServiceDateAndTime","showServiceDateAndTimeFormControl","updateServiceDateAndTime","tp","serviceTime","isNaN","cancelServiceDateAndTimeUpdate","editPriority","showPriorityFormControl","updatePriority","newPriority","cancelPriorityUpdate","editStatus","showStatusFormControl","updateStatus","statusName","cancelStatusUpdate","addComment","saveComment","ticklerComments","comment","updateDate","newComment","cancelCommentUpdate","saveChanges","postData","update","completeTickler","setCompleted","deleteTickler","setDeleted","printTickler","providers","ticklerAPI","ticklerReadAccess","ServiceDate","includeLinks","includeComments","includeUpdates","includeProgram","$promise","ticklerList","ticklerLinks","ticklerLinkUrl","getLinkUrl","completeTicklers","selectedTicklers","deleteTicklers","addTickler","editTickler","getTicklerNote","getMe","editNote2","editor","noteId","observationDate","revision","printArea","print","input","tableName","tableId","uxService","getTrackerUrl","resizeIframe","iframe","h","contentWindow","scrollHeight","formService","currentFormList","currentForm","currentlistId","isUndefined","formlists","changeTo","listId","getAllFormsByHeading","debug","viewFormState","getElementById","hasChildNodes","removeChild","firstChild","rnd","Math","round","random","win","pymParent","pym","Parent","getListClass","getActiveFormClass","formId","keypress","altKey","currIdx","updateDemoExtras","extKey","posExtras","oldExtras","newExtras","pos","hidden","buildDate","day","dateEmpty","date3Valid","$window","providersService","patientDetailStatusService","referralDoctorsService","hin0","ver0","chartNo0","cytolNum0","referralDocNo0","familyDocNo0","sin0","effDate0","hcRenewDate0","rosterDate0","rosterTerminationDate0","patientStatusDate0","dateJoined0","endDate0","onWaitingListSinceDate0","paperChartArchivedDate0","hcParts","phoneNum","defPhTitle","prefPhTitle","properties","$parent","recordCtrl","initDemographicVars","checkAccess","getBySecurityRole","doctors","nurses","midwives","getDemographicContacts","demoContacts","demoContactShow","demoContactPros","scrNotes","substring","lastIndexOf","familyDoctor","referralDoc","formatDocOutput","scrReferralDocNo","number","scrReferralDoc","familyDoctor2","familyDoc","scrFamilyDocNo","scrFamilyDoc","scrDemoCell","scrAboriginal","scrHPhoneExt","scrWPhoneExt","scrCytolNum","scrPhoneComment","scrPaperChartArchived","scrPaperChartArchivedDate","scrUsSigned","scrPrivacyConsent","scrInformedConsent","scrSecurityQuestion1","scrSecurityAnswer1","scrRxInteractionLevel","scrCellPhone","getPhoneNum","scrHomePhone","scrWorkPhone","waitingListNames","groupNo","createDate","isHistory","cellPhonePreferredMsg","homePhonePreferredMsg","workPhonePreferredMsg","isPreferredPhone","scrPreferredPhone","preferredPhoneNumber","cellPhonePreferredColor","homePhonePreferredColor","workPhonePreferredColor","dataChanged","genders","getGenders","titles","getTitles","provinces","getProvinces","countries","getCountries","engFre","getEngFre","spokenlangs","getSpokenLanguages","rosterTermReasons","getRosterTerminationReasons","securityQuestions","getSecurityQuestions","rxInteractionLevels","getRxInteractionLevels","macPHRLoggedIn","macPHRIdsSet","macPHRVerificationLevel","integratorEnabled","integratorOffline","integratorAllSynced","conformanceFeaturesEnabled","workflowEnhance","billregion","defaultView","hospitalView","integratorStatusColor","integratorStatusMsg","billingHistoryLabel","getStatusList","rosterStatusList","patientStatusList","calcAge","dobYear","dobMonth","dobDay","formatLastName","formatFirstName","setSwipeReady","validateHCSave","sin","effDate","hcRenewDate","rosterDate","rosterTerminationDate","patientStatusDate","dateJoined","onWaitingListSinceDate","canRead","cannotChange","checkAction","stopPropagation","oldValue","onbeforeunload","toUpperCase","readyForSwipe","swipecardMsg","swipecard","healthCardHandler","keycode","swipeCardData","namePos","endNamePos","isNumber","healthCardUpdateDemographics","validateHC","hcType","hcTypeColor","lastNameColor","firstNameColor","hinColor","verColor","hcSex","sex","sexColor","dateParts","dobYearColor","dobMonthColor","dobDayColor","swipeDate","effDateColor","hcRenewDateColor","hinExpDate","valid","HCValidation","responseDescription","responseCode","checkHin","checkHinVer","checkDate","charAt","toString","checkYear","checkMonth","daysOfMonth","checkDay","checkPatientStatus","patientStatus","dateStr","datePart","dateDate","getFullYear","getDate","dateValid","isPostalComplete","isPostalValid","resetEditState","RegExp","checkEmail","regex","checkChartNo","checkCytoNum","checkReferralDocNo","validateDocNo","checkFamilyDocNo","docNo","quiet","checkSin","validateSin","sinNumber","n","floor","preventManualEffDate","preventManualHcRenewDate","preventManualRosterDate","preventManualRosterTerminationDate","preventManualPatientStatusDate","preventManualDateJoined","preventManualEndDate","preventManualOnWaitingListSinceDate","preventManualPaperChartArchivedDate","isRosterTerminated","rosterStatus","showReferralDocList","searchReferralDocsName","searchName","searchReferralDocs","searchReferralDocsRefNo","searchRefNo","searchReferralDoctors","referralDoctors","referralNo","specialtyType","chooseReferralDoc","chooseFamilyDoc","showAddNewRosterStatus","newRosterStatus","showAddNewPatientStatus","newPatientStatus","addNewRosterStatus","addNewPatientStatus","checkPhone","invalidPhoneNumber","setPreferredPhone","isPhoneVoid","showEnrollmentHistory","launchPhoto","manageContacts","discard","printLabel","integratorDo","func","macPHRDo","appointmentDo","encodeURI","isClinicaidBilling","billingDo","exportDemographic","begin","formatDocInput","doSave","isUniqueHC","success","saving","newDemoExtras","updateDemographic","maxDaysOfMonth","s","demoContact","contactShow","role","sdm","ec","category","obj","formListId","adminAccess","adminEformAccess","hasAdminAccess","encounterFormlist","formGroups","getFormGroups","formOptions","favouriteGroup","getFavouriteFormGroup","getFormOptions","getCompletedEncounterForms","getSelectedEncounterForms","queryName","formValue","animate","scrollTop","maxheight","max","offsetHeight","style","isEmpty","hasOwnProperty","currentEformGroup","setCurrentEFormGroup","mod","openFormFromGroups","formOption","opt","atleastOneItemSelected","extra","docIds","isChecked","getGroupListClass","grp","currentState","keyCode","saveSignNote","cancelNoteEdit","dismiss","clearChanges","$interval","action","diseaseRegistryService","title","quickLists","summaryCode","groupNotesForm","assignedCMIssues","encounterNote","position","annotation_attrib","getIssueQuickLists","addDxItem","issue","codingSystem","findDxIssue","cmIssue","acute","certain","issue_id","major","resolved","unsaved","displayIssueId","issueCode","getIssueId","issueId","displayGroupNote","itemId","getIssueNote","editorNames","groupNoteExt","setAvailablePositions","removeEditingNoteFlag","itemExtra","availablePositions","changeNote","saveGroupNotes","cpp","editable","isSigned","appointmentNo","encounterType","encounterTime","assignedIssues","saveIssueNote","transitionTo","inherit","notify","removeGroupNoteIssue","unchecked","doSetEditingNoteFlag","setEditingNoteFlag","editingNoteId","itvSet","itvCheck","checkEditNoteNew","removeIssue","restoreIssue","archiveGroupNotes","archived","openRevisionHistory","searchIssues","assignIssue","getIssue","isSelected","addToDxRegistry","pageOptions","printType","dates","selectedWarning","atleastOneSelected","printToday","cancelPrint","sendToPhr","queryString","selectedList","join","ops","columnOne","modules","columnThree","selectedNotes","notelist","busy","noteFilter","currentFilter","onlyNotes","onlyMine","cannotAdd","openRx","demoNo","openAllergies","openPreventions","openAssessments","addMoreItems","getNotesFrom","editNote","editGroupNote","findGroupNote","gotoState","moduleList","summaryItems","k","currentEditNote","isNoteBeingEdited","noteFound","notecount","isRegularNote","rxAnnotation","eformData","encounterForm","invoice","setColor","border-left-color","showNoteHeader","showNote","deleted","getNoteHeader","noteObj","trackerUrl","toggleList","displaySize","showMoreItems","isSectionExpanded","isSectionEmpty","isUnsignedEncounterNote","getSummaryHeaders","fillItems","summaryLists","itemsToFill","getFullSummary","editGroupedNotes","viewEform","eFormId","viewDocument","documentId","itemArray","showPrintModal","toggleIsSelectedForPrint","zero","$localStorage","billingService","isNoteSaved","$storage","recordtabs2","fillMenu","menu","temp","currenttab2","isDefinedAndNotNull","state","demoId","timeout","saveUpdates","initNote","tmpSave","skipTmpSave","saveIntervalSeconds","totalSeconds","myVar","setInterval","setTime","innerHTML","pad","css","valString","getCurrentTimerToggle","toggleTimer","hasClass","removeClass","addClass","clearInterval","pasteTimer","ed","toggleNote","getCurrentNote","saveNote","issueDescriptions","isInArray","saveSignVerifyNote","isVerified","getBillingRegion","getDefaultView","saveSignBillNote","dxCode","apptNo","apptProvider","apptStartTime","dt","getSeconds","screen","currentNoteConfig","showNoteAfterLoadingFlag","initAppendNoteEditor","initObservationDate","displayWarning","noteEditorText","searchTemplates","templates","encounterTemplateName","insertTemplate","getTemplate","encounterTemplateValue","options","magicVal","noteToEdit","$broadcast","mediumNavItemFilter","inverse","filterValue","inArray","updateData","Content-Type","admissions","Navigation","sets","config","patientListConfig","saveConfiguration","patientListState","dateOptions","showWeeks","getStatuses","getAppointmentTextStyle","patient","getAppointmentStyle","background-color","today","$event","opened","AddDays","noOfDays","switchDay","dateNew","formattedDate","changeApptList","changeApptDate","currenttab","tabItems","lastIndx","slice","showFilter","addNewAppointment","viewAppointment","angularUtil","personaService","sidebar","goToRecord","encType","inMobileView","hidePatientList","query","isMoreActive","currentmoretab","showPatientList","changeMoreTab","filter","moreTabItems","refresh","getMoreTabClass","patients","numberOfPages","nPages","ceil","changePage","pageNum","process","httpType","dataType","arr","getRecentPatientList","recentPatientList","getPatientListConfig","numberOfApptstoShow","getTabItems","manageConfiguration","setPatientListConfig","prefs","dashboardPreferences","updateDashboardPreferences","messageService","inboxService","displayDate","k2aFeedActive","busyLoadingData","getDashboardPreferences","inboxTableParams","getDashboardItems","openInbox","newwindow","updateK2aActive","loadMoreK2aFeed","updateFeed","k2afeed","authenticateK2A","agreeWithK2aPost","agree","removeK2AComment","agreeId","agreeCount","disagree","commentOnK2aPost","disagreeWithK2aPost","disagreeCount","postId","postK2AComment","post","commentCount","comments","updateTicklers","creator","overdueOnly","totalTicklers","ticklers","updateMessages","getUnread","totalMessages","messages","updateReports","inbox","totalInbox","startPoint","numberOfRows","getK2aFeed","concat","authenticatek2a","updateDashboard","isTicklerExpiredOrHighPriority","parse","isTicklerHighPriority","openClassicMessenger","viewMessage","viewTickler","configureTicklers","programService","submitDisabled","getPrograms","programs","admissionProgramId","ngModelContoller","isCorrectDate","demoRetVal","saveDemographic","ok","capName","unAckLabDocTotal","unreadMessageTotal","billRegion","searchRights","newDemographicRights","messageRights","getDashboardMenu","menus","dashboardMenu","getNavBar","currentProgram","program","programDomain","unreadMessagesCount","unreadPatientMessagesCount","getUnAckLabDocCount","getUnreadMessageCount","demographicSearchDropDownItems","patientSearchMenu","menuItems","userMenuItems","userMenu","messengerMenu","new_value","isTypeaheadSearchQuery","moreResults","goToPatientSearch","searchQuery","goToPatientRecord","getUnreadCount","onPatientSearch","transition","newWindow","wname","qs","openNewWindow","openMessenger","newDemographic","changeProgram","programId","setCurrentProgram","smallNavItemFilter","setUser","directive","restrict","require","link","scope","element","attrs","ctrl","$formatters","pad_length","caZeroPad","$parsers","on","e","$parse","scrollHandler","resizeHandler","modelSetter","fileModel","bind","$apply","files","$compile","$eval","compileHtml","jsp","contents","$document","eventName","attribute","searchResultsRecordsElement","querySelector","scrollbarWrapperElement","scrollbarElement","tableWrapperElement","tableElement","footerElement","searchResultsElement","contentWrapperElement","layoutSidebarElement","scroll","scrollLeft","update_search_results_footer","offset","top","ngModel","toolbar","container","image-tooltip","link-tooltip","theme","extraOptions","quill","extend","Quill","children","$render","delta","source","getHTML","$setViewValue","setHTML","$viewValue","pagination","change_page_callback","mode","change_page","page_number","current_page","total_pages","expand_ellipsis","go_to_page_num","select","close_ellipsis","go_to_page","isIntegerString","page_int","key_combo","callback_fn","key_bind_settings","hierarchy","parents","each","attributes","nodeValue","build_hierarchy","ca_key_binding","bind_key_element","field_value_map","success_message","field_value_map_label_key","display_field_errors","prepend_name_to_field_errors","error_link_functions","get_label","force_array","has_sub_errors","isString","isObject","error_link_has_function","error_link","error_links","execute_error_link_fn","should_display_field_errors","has_field_errors","attr","field_controllers","field","ignore","ignore_focus_field","form_nav","focus_field","helper","default_scope","true_text","false_text","true_value","false_value","resolve_template","default_link_function","default_controller","minute_step","picker_container","toggle_widget","minuteStep","icons","up","down","rows","max_characters","old_value","include_empty_option","date_picker_id","orientation","use_multi_date","container_id","initialization_complete","delayed_change_fn","change_fn","merge_title_messages","datepicker","is_multi_date","CTRL_KEY","LEFT_SHIFT_KEY","ctrl_key_down","shift_key_down","is_visible","create_datepicker","multidate","autoclose","todayHighlight","todayBtn","clearBtn","toggleActive","showOnFocus","keyboardNavigation","toggle_multi","force_true","input_string","key_up","input_value","close_date_picker","key_down","on_focus","open_date_picker","focus_fn","on_click","new_is_multi_date","on_focus_fn","is","input_box","caDatePickerId","dropdown","footer","replaceWith","on_focus_fn_year","on_focus_fn_month","on_focus_fn_day","get_date","field_year","field_month","field_day","date_part_array","put_date","focus_fn_year","focus_fn_month","focus_fn_day","ngModelController","text","tempValue","parseFloat","toFixed","currencyFilter","field_settings","field_default","selected_values","is_selected","toggle_selected","value_index","global_state","autocomplete","min_length_zero_types","placeholder","input_group_class","autocomplete_type","params_fn","on_select_fn","on_select_data","on_clear_fn","on_clear_data","on_create_fn","create_if","on_modify_fn","modify_if","create_on_not_found","ca_exclude_list","search_field","keys","dao_map","Clinicaid","Model","GenericRef","REF_DEFINITIONS","autocomplete_min_length","input_placeholder","clear_autocomplete_search","clear_autocomplete_model","focus_input","on_select","$item","$model","$label","create_on_not_found_fn","temp_model","on_change","build_model_object","on_blur","model_on_focus","blur_fn","on_create","on_modify","show_modify_if","autocomplete_items","params_check","get_items","out_items","prune_items","in_list","ii","exclude_item","autocomplete_input_formatter","autocomplete_input_formatted","show_create","show_modify","dummy_record","show_buttons","disabled","momentDate","elem","draggable","axis","containment","callback","resizable","handles","minHeight","minWidth","maxWidth","innerWidth","maxHeight","innerHeight","evt","ui","newHeight","showIcon","disableInput","openDatepicker","typeaheadHelper","defaultTypeaheadScope","initTypeahead","forceSelection","findMatches","formatMatchSelection","typeaheadLabel","optionsTemplateUrl","quickSearch","matches","onSearchFn","onAddFn","searchButtonTitle","addButtonTitle","searchField","typeaheadModelOptions","debounce","default","blur","autocompleteMinLength","hasButtons","hasSearchButton","hasAddButton","hasTemplateUrl","hasForceSelectionEnabled","formatMatch","isDummySelection","onSelect","onBlur","onChange","createDummySelection","onSearch","onAdd","wordwise","tail","substr","lastspace","years","months","days","junoHttp","apiPath","ServiceHelper","configHeaders","searchSpecialists","itemsToReturn","getDisplayProperties","ticklerIds","limit","getRiskFactors","langs","reasons","questions","levels","u","configHeadersWithCache","listOfItems","isAllowedAccessToPatientRecord","has_one_of_permissions","permission_array","has_permission","permission","getAppointments","results_hash","meta_hash","results_object","has_results","error_type","equals","per_page","searchText","searchMode","getByType","getSettings","healthCardNo","versionCode","numberToReturn","noteConfig","getNoteExt","ticklerId","noteUUID","userId","transferObj","commentItem","commentId","del","global_settings","interface_preferences","scheduler_license_key","heading","getAllEncounterForms","getAllEForms","getGroupNames","selector","first_form_input","first","first_error_input","opts","first_alert","scroll_offset","form_group_class","label_size","input_size","text_length","hide_label_colon","hint","tab_index","warning_message","depends_on_field","depends_on_value","hide","base_default_template","title_array","title_string","$element","$attrs","errors_hash","DisplayMessages","getQuickLists","disease","issueToSend","jsonData","listType","contactCategory","put","getRequest","requestId","followUpDate","getNewRequest","request","getResponse","responseId","getReferralPathwaysByService","serviceName","getUniqueServiceTypes","errorsz","init_autocomplete_values","http_util","request_hash","success_function","errors_function","progress","request_result","call","mergeHash","datetime_format","time_format","date_format","dayofweek_format","is_integer_string","string","escape_html","str","entityMap","&","<",">","\"","'","/","get_datetime_moment","datetime_string","utc","get_date_moment","date_string","get_time_moment","time_string","get_date_and_time_moment","validate_date_string","field_display_name","required","validate_time_string","datetime_range_overlaps","first_start_moment","first_end_moment","second_start_moment","second_end_moment","isBefore","isAfter","sort_by_property_fn","sort_col","sort_dir","a","b","create_availability_events","event_array","availability","event_start","event_end","fullCalendar","availability_type_uuid","create_background_events","create_relation_events","relation","schedule_template_uuid","relation_start","start_date","relation_end","end_date","processing_date","hour","minute","second","milliseconds","unix","create_template_events","available_time_ranges","get_available_time_ranges","events","overlapping_events","get_overlapping_events","available_time_range","overlapping","overlaps","bg_event","sort","moment_date","toLowerCase","process_time_periods","schedule_template_days","template_day","day_of_the_week","schedule_template_time_periods","time_period","clone","messages_factory","access_control","key_binding","parent_scope","last_event_length","calendar_api_adapter","autocomplete_values","active_template_events","event_status_options","selected_event_status","default_event_status","selected_site_name","timepicker_format","field_value_mapping","display_messages","initialized","working","moment_start","moment_end","set_active_template_events","set_selected_event_status","init_patient_autocomplete","adjust_end_datetime","get_inclusive_days","moment_day","active_events","formatted_time","date_start","date_end","grep","ev","length_minutes","new_event_length","update_last_event_length","event_length","validate_form","has_errors","isSame","delete_event","time_str","new_start_date","old_start_date","new_start_time","old_start_time","new_end_date","old_end_date","new_end_time","old_end_time","loaded_new_photo","preview_patient_image","new_photo","is_working","is_initialized","is_patient_selected","clear_patient","on_select_patient","set_event_length","refetch_events","has_standard_errors","add_generic_fatal_error","delete","save_and_bill","open_create_invoice","view_invoices","open_view_invoices","create_patient","create_patient_dialog","on_patient_modal_save","modify_patient","modify_patient_dialog","ctrl+enter","tooltip","target","ctrl+shift+enter","bind_key_global","uiCalendarConfig","availability_type_model","calendar_name","event_sources","min_height","default_calendar_view","default_auto_refresh_minutes","default_date","selected_schedule","resource_option_hash","selected_resources","sites","site_options","rotate_statuses","schedules","calendar_loading","opening_dialog","dialog","calendars","show_schedule_select","show_time_intervals","selected_date","ui_config","schedulerlicensekey","calendar_view_name","load_site_options","load_default_selections","load_selected_schedules","set_calendar_resources","set_event_sources","init_events_auto_refresh","on_schedule_changed","on_time_interval_changed","on_resources_changed","selected_resource_uuids","updated_resources","on_view_render","after_render","click","on_event_clicked","calEvent","jsEvent","rotate_event_status","parent","open_patient_demographic","open_create_chart_note","open_edit_event_dialog","on_event_drop","revertFunc","set_calendar_loading","drop_event","update_event","on_event_resize","resize_event","get_icon_path","status_modifier","modifier_string","on_event_render","event_site_html","event_site","event_status_html","event_status","event_invoice_html","event_details","event_details_html","event_demographic_html","event_note_html","event_tags_html","tag_class","html","change_view","reload_schedules","update_calendar_view","select_resources","preselections","on_update_callback","closed","show_legend","cal_event","open_create_event_dialog","resource","get_loaded_schedule","new_event_status_uuid","modal_schedule","time_interval_minutes","catch","res","event_status_color","event_class","window_scope","is_loading","calendar_events","timezone","promise_array","results_array","schedule_events","err","schedule_data","providerNos","build_selected_resources","set_schedule_hour_range","min_time","minTime","max_time","maxTime","scrollTime","create_invoice_callback","nowIndicator","header","left","center","right","allDaySlot","defaultDate","slotLabelFormat","loading","selectable","eventClick","eventRender","viewRender","eventAfterAllRender","eventDrop","eventResize","$injector","control","calendarWatchEvent","has_schedules","has_sites","get_schedule_options","get_site_options","get_time_interval_options","cpCalendarCalendarApiAdapter","cpCalendarAccessControl","cpCalendarAutoComplete","cpCalendarGlobalState","cpCalendarPatientModel","$stateProvider","$urlRouterProvider","otherwise","dynamic","arrayOfDocs","doc1","doc2","Accept","cache","object","isBlank","pad0","line","mssg","currDate","array","baseHash","toMerge","objectArrayIndexOf","property","len","messages_hash","field_errors_label_map","field_errors_label_map_key","extra_info","saving_message","force_field_error_arrays","merge","has_alert_warnings","alert_warnings","add_alert_warning","has_validation_warnings","validation_warnings","add_validation_warning","standard_errors","has_standard_warnings","standard_warnings","add_standard_warning","has_standard_info","standard_info","add_standard_info","has_standard_success","standard_success","add_standard_success","field_errors","prepend_label","has_one_of_field_error","has_field_error","has_indexed_field_error","field_error_string","concat_string","remove_field_error","has_error_links","add_error_link","out_field_errors","merge_messages","merge_display_messages","standard_infos","windowName","popup2","w","getElementsByTagName","clientWidth","clientHeight","winRefs","resizeTo","confirmNGo","showHideItem","display","showItem","hideItem","validDate","validDateText","completeRawDate","delimiter","dateArray","dateObject","validDateFieldsByClass","parentEle","datefields","getElementsByClassName","getMouseCoords","posx","posy","pageX","pageY","clientX","clientY","documentElement","master","chkList","oscarLog","grabEnter","callb","which","eval","isNumericInt","sText","chara","isNumeric","getElementsByAttribute","oElm","strTagName","strAttributeName","strAttributeValue","oCurrent","oAttribute","arrElements","arrReturnElements","oAttributeValue","getAttribute"],"mappings":"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","file":"bundle.333436ac890e3119670e.js","sourcesContent":["/**\n * \n * \n *\n * \n * \n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\nimport * as models from '../model/models';\n\n/* tslint:disable:no-unused-variable member-ordering */\n\nexport class ScheduleApi {\n    protected basePath = 'http://localhost/';\n    public defaultHeaders : any = {};\n\n    static $inject: string[] = ['$http', '$httpParamSerializer', 'basePath'];\n\n    constructor(protected $http: ng.IHttpService, protected $httpParamSerializer?: (d: any) => any, basePath?: string) {\n        if (basePath !== undefined) {\n            this.basePath = basePath;\n        }\n    }\n\n    /**\n     * \n     * @param newAppointmentTo1 \n     */\n    public addAppointment (newAppointmentTo1?: models.NewAppointmentTo1, extraHttpRequestParams?: any ) : ng.IHttpPromise<models.SchedulingResponse> {\n        const localVarPath = this.basePath + '/schedule/add';\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'POST',\n            url: localVarPath,\n            data: newAppointmentTo1,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     * @param appointmentTo1 \n     */\n    public deleteAppointment (appointmentTo1?: models.AppointmentTo1, extraHttpRequestParams?: any ) : ng.IHttpPromise<{}> {\n        const localVarPath = this.basePath + '/schedule/deleteAppointment';\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'POST',\n            url: localVarPath,\n            data: appointmentTo1,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     * @param year \n     * @param month \n     * @param providerNo \n     */\n    public fetchMonthlyData (year: number, month: number, providerNo: string, extraHttpRequestParams?: any ) : ng.IHttpPromise<models.SchedulingResponse> {\n        const localVarPath = this.basePath + '/schedule/fetchMonthly/{providerNo}/{year}/{month}'\n            .replace('{' + 'year' + '}', encodeURIComponent(String(year)))\n            .replace('{' + 'month' + '}', encodeURIComponent(String(month)))\n            .replace('{' + 'providerNo' + '}', encodeURIComponent(String(providerNo)));\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        // verify required parameter 'year' is not null or undefined\n        if (year === null || year === undefined) {\n            throw new Error('Required parameter year was null or undefined when calling fetchMonthlyData.');\n        }\n\n        // verify required parameter 'month' is not null or undefined\n        if (month === null || month === undefined) {\n            throw new Error('Required parameter month was null or undefined when calling fetchMonthlyData.');\n        }\n\n        // verify required parameter 'providerNo' is not null or undefined\n        if (providerNo === null || providerNo === undefined) {\n            throw new Error('Required parameter providerNo was null or undefined when calling fetchMonthlyData.');\n        }\n\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'GET',\n            url: localVarPath,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     * @param demographicNo \n     */\n    public findExistAppointments (demographicNo: number, extraHttpRequestParams?: any ) : ng.IHttpPromise<models.SchedulingResponse> {\n        const localVarPath = this.basePath + '/schedule/{demographicNo}/appointmentHistory'\n            .replace('{' + 'demographicNo' + '}', encodeURIComponent(String(demographicNo)));\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        // verify required parameter 'demographicNo' is not null or undefined\n        if (demographicNo === null || demographicNo === undefined) {\n            throw new Error('Required parameter demographicNo was null or undefined when calling findExistAppointments.');\n        }\n\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'POST',\n            url: localVarPath,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     * @param appointmentTo1 \n     */\n    public getAppointment (appointmentTo1?: models.AppointmentTo1, extraHttpRequestParams?: any ) : ng.IHttpPromise<models.SchedulingResponse> {\n        const localVarPath = this.basePath + '/schedule/getAppointment';\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'POST',\n            url: localVarPath,\n            data: appointmentTo1,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     */\n    public getAppointmentReasons (extraHttpRequestParams?: any ) : ng.IHttpPromise<models.SchedulingResponse> {\n        const localVarPath = this.basePath + '/schedule/reasons';\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'GET',\n            url: localVarPath,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     */\n    public getAppointmentStatuses (extraHttpRequestParams?: any ) : ng.IHttpPromise<models.AbstractSearchResponseAppointmentStatusTo1> {\n        const localVarPath = this.basePath + '/schedule/statuses';\n        console.log(localVarPath);\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'GET',\n            url: localVarPath,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     */\n    public getAppointmentTypes (extraHttpRequestParams?: any ) : ng.IHttpPromise<models.SchedulingResponse> {\n        const localVarPath = this.basePath + '/schedule/types';\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'GET',\n            url: localVarPath,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     * @param providerNo \n     * @param date \n     */\n    public getAppointmentsForDay (providerNo: string, date: string, extraHttpRequestParams?: any ) : ng.IHttpPromise<models.PatientListApptBean> {\n        const localVarPath = this.basePath + '/schedule/{providerNo}/day/{date}'\n            .replace('{' + 'providerNo' + '}', encodeURIComponent(String(providerNo)))\n            .replace('{' + 'date' + '}', encodeURIComponent(String(date)));\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        // verify required parameter 'providerNo' is not null or undefined\n        if (providerNo === null || providerNo === undefined) {\n            throw new Error('Required parameter providerNo was null or undefined when calling getAppointmentsForDay.');\n        }\n\n        // verify required parameter 'date' is not null or undefined\n        if (date === null || date === undefined) {\n            throw new Error('Required parameter date was null or undefined when calling getAppointmentsForDay.');\n        }\n\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'GET',\n            url: localVarPath,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     * @param date \n     */\n    public getAppointmentsForDay1 (date: string, extraHttpRequestParams?: any ) : ng.IHttpPromise<models.PatientListApptBean> {\n        const localVarPath = this.basePath + '/schedule/day/{date}'\n            .replace('{' + 'date' + '}', encodeURIComponent(String(date)));\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        // verify required parameter 'date' is not null or undefined\n        if (date === null || date === undefined) {\n            throw new Error('Required parameter date was null or undefined when calling getAppointmentsForDay1.');\n        }\n\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'GET',\n            url: localVarPath,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     */\n    public getCalendarAppointmentStatuses (extraHttpRequestParams?: any ) : ng.IHttpPromise<models.RestSearchResponseCalendarAppointmentStatus> {\n        const localVarPath = this.basePath + '/schedule/calendar/statuses';\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'GET',\n            url: localVarPath,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     * @param providerId \n     * @param startDate \n     * @param endDate \n     * @param site \n     */\n    public getCalendarEvents (providerId: number, startDate?: string, endDate?: string, site?: string, extraHttpRequestParams?: any ) : ng.IHttpPromise<models.RestSearchResponseCalendarEvent> {\n        const localVarPath = this.basePath + '/schedule/calendar/{providerId}'\n            .replace('{' + 'providerId' + '}', encodeURIComponent(String(providerId)));\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        // verify required parameter 'providerId' is not null or undefined\n        if (providerId === null || providerId === undefined) {\n            throw new Error('Required parameter providerId was null or undefined when calling getCalendarEvents.');\n        }\n\n        if (startDate !== undefined) {\n            queryParameters['startDate'] = startDate;\n        }\n\n        if (endDate !== undefined) {\n            queryParameters['endDate'] = endDate;\n        }\n\n        if (site !== undefined) {\n            queryParameters['site'] = site;\n        }\n\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'GET',\n            url: localVarPath,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     */\n    public getScheduleGroups (extraHttpRequestParams?: any ) : ng.IHttpPromise<models.RestSearchResponseScheduleGroup> {\n        const localVarPath = this.basePath + '/schedule/groups';\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'GET',\n            url: localVarPath,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     */\n    public getScheduleTemplateCodes (extraHttpRequestParams?: any ) : ng.IHttpPromise<models.RestSearchResponseScheduleTemplateCode> {\n        const localVarPath = this.basePath + '/schedule/templateCodes';\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'GET',\n            url: localVarPath,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     * @param appointmentTo1 \n     */\n    public updateAppointment (appointmentTo1?: models.AppointmentTo1, extraHttpRequestParams?: any ) : ng.IHttpPromise<models.SchedulingResponse> {\n        const localVarPath = this.basePath + '/schedule/updateAppointment';\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'POST',\n            url: localVarPath,\n            data: appointmentTo1,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     * @param id \n     * @param appointmentTo1 \n     */\n    public updateAppointmentStatus (id: number, appointmentTo1?: models.AppointmentTo1, extraHttpRequestParams?: any ) : ng.IHttpPromise<models.SchedulingResponse> {\n        const localVarPath = this.basePath + '/schedule/appointment/{id}/updateStatus'\n            .replace('{' + 'id' + '}', encodeURIComponent(String(id)));\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        // verify required parameter 'id' is not null or undefined\n        if (id === null || id === undefined) {\n            throw new Error('Required parameter id was null or undefined when calling updateAppointmentStatus.');\n        }\n\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'POST',\n            url: localVarPath,\n            data: appointmentTo1,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n    /**\n     * \n     * @param id \n     * @param appointmentTo1 \n     */\n    public updateAppointmentType (id: number, appointmentTo1?: models.AppointmentTo1, extraHttpRequestParams?: any ) : ng.IHttpPromise<models.SchedulingResponse> {\n        const localVarPath = this.basePath + '/schedule/appointment/{id}/updateType'\n            .replace('{' + 'id' + '}', encodeURIComponent(String(id)));\n\n        let queryParameters: any = {};\n        let headerParams: any = (<any>Object).assign({}, this.defaultHeaders);\n        // verify required parameter 'id' is not null or undefined\n        if (id === null || id === undefined) {\n            throw new Error('Required parameter id was null or undefined when calling updateAppointmentType.');\n        }\n\n        let httpRequestParams: ng.IRequestConfig = {\n            method: 'POST',\n            url: localVarPath,\n            data: appointmentTo1,\n            params: queryParameters,\n            headers: headerParams\n        };\n\n        if (extraHttpRequestParams) {\n            httpRequestParams = (<any>Object).assign(httpRequestParams, extraHttpRequestParams);\n        }\n\n        return this.$http(httpRequestParams);\n    }\n}\n","\nimport {ScheduleApi} from \"../../generated/JunoInternalApi/ScheduleApi\";\nimport {\n\tCalendarAppointmentStatus, NewAppointmentTo1, SchedulingResponse\n} from \"../../generated\";\nimport {modal} from 'angular-ui-bootstrap/src/modal';\nimport * as moment from 'moment';\nimport {\n\tIHttpParamSerializer,\n\tIHttpResponse,\n\tIHttpService,\n\tIQService\n} from \"../../node_modules/@types/angular\";\nimport {IStateParamsService} from \"../../node_modules/@types/angular-ui-router\";\nimport {IModalService} from \"../../node_modules/@types/angular-ui-bootstrap\";\n\nexport class CalendarApiAdapter\n{\n\tstatic $inject = [\n        '$q',\n        '$stateParams',\n        '$uibModal',\n\t\t'$http',\n\t\t'$httpParamSerializer',\n\n        'resultsService',\n\n        'cpCalendar.Util',\n\n        'demographicsService',\n        'scheduleService',\n        'globalStateService',\n\t\t'focusService',\n\t];\n\n\tconstructor(\n        private $q: IQService,\n        private $stateParams: IStateParamsService,\n        private $uibModal: IModalService,\n        private $http: IHttpService,\n        private $httpParamSerializer: IHttpParamSerializer,\n\n        private results_factory,\n\n        private util,\n\n        private demographicsService,\n        private scheduleService,\n        private globalStateService,\n\t\tpublic focus\n\t){}\n\n\n\tevent_statuses: null;\n\tdefault_event_color: null;\n\n\tpatient_model = {\n\t\tuuid: null,\n\t\tfull_name: null,\n\t\thas_photo: true,\n\t\tpatient_photo_url: '/imageRenderingServlet?source=local_client&clientId=0',\n\t\tclear: function clear(){\n\t\t\tthis.uuid = null;\n\t\t\tthis.full_name = null;\n\t\t\tthis.patient_photo_url = '/imageRenderingServlet?source=local_client&clientId=0';\n\t\t\tthis.data.birth_date = null;\n\t\t\tthis.data.health_number = null;\n\t\t\tthis.data.ontario_version_code = null;\n\t\t\tthis.data.phone_number_primary = null;\n\t\t},\n\t\tfill_data: function fill_data(data){\n\t\t\tthis.uuid = data.uuid;\n\t\t\tthis.full_name = data.full_name;\n\t\t\tthis.patient_photo_url = '/imageRenderingServlet?source=local_client&clientId=' + data.uuid;\n\t\t\tthis.data.birth_date = data.birth_date;\n\t\t\tthis.data.health_number = data.health_number;\n\t\t\tthis.data.ontario_version_code = data.ontario_version_code;\n\t\t\tthis.data.phone_number_primary = data.phone_number_primary;\n\t\t},\n\t\tupload_photo: function upload_photo(file){},\n\t\tdata: {\n\t\t\tbirth_date: null,\n\t\t\thealth_number: null,\n\t\t\tontario_version_code: null,\n\t\t\tphone_number_primary: null\n\t\t}\n\t};\n\n\tscheduleApi = new ScheduleApi(this.$http, this.$httpParamSerializer, 'http://localhost:9090/ws/rs');\n\n\n\tpublic searchPatients(term)\n\t{\n\t\tvar search = {\n\t\t\ttype: 'Name',\n\t\t\t'term': term,\n\t\t\tstatus: 'active',\n\t\t\tintegrator: false,\n\t\t\toutofdomain: true\n\t\t};\n\n\t\treturn this.demographicsService.search(search, 0, 25).then(\n\t\t\tfunction(results)\n\t\t\t{\n\t\t\t\tvar resp = [];\n\t\t\t\tfor (var x = 0; x < results.content.length; x++)\n\t\t\t\t{\n\t\t\t\t\tresp.push({\n\t\t\t\t\t\tvalue_field: 'uuid',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tuuid: results.content[x].demographicNo,\n\t\t\t\t\t\t\tfull_name: results.content[x].lastName + ',' + results.content[x].firstName,\n\t\t\t\t\t\t\tbirth_date: results.content[x].dob,\n\t\t\t\t\t\t\thealth_number: results.content[x].hin,\n\t\t\t\t\t\t\tphone_number_primary: results.content[x].phone\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn resp;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\t}\n\n\tpublic load_schedule_events(schedule, siteName, start, end, view_name, schedule_templates,\n\t\tevent_statuses, default_event_color, availability_types)\n\t{\n\t\t//console.log(\"FETCHING: \" + providerId + \" \" + start.format(\"YYYY-MM-DD\") + \" \" + end.subtract(1, \"seconds\").format(\"YYYY-MM-DD\"));\n\n\t\tvar deferred = this.$q.defer();\n\n\t\tvar providerId = schedule.uuid;\n\n\t\t// Get date strings to pass to the backend.  The calendar provides datetime that describe\n\t\t// and inclusive start time and exclusive end time, so one second is removed from\n\t\t// the end time to convert to the correct date.\n\t\tvar startDateString = start.format(\"YYYY-MM-DD\");\n\t\tvar endDateString = end.subtract(1, 'seconds').format(\"YYYY-MM-DD\");\n\n\t\tthis.scheduleService.getSchedulesForCalendar(\n\t\t\tproviderId,\n\t\t\tstartDateString,\n\t\t\tendDateString,\n\t\t\tsiteName\n\t\t).then((results) =>\n\t\t{\n\t\t\t// Transform from camel to snake.  Normally this wouldn't need to happen, but\n\t\t\t// this is an external library that requires a certain format.\n\t\t\tdeferred.resolve({data: this.snake_schedule_results(results)});\n\t\t});\n\n\t\treturn deferred.promise;\n\t}\n\n\tprivate snake_appointment_data(data)\n\t{\n\t\tif(data == null)\n\t\t{\n\t\t\treturn data;\n\t\t}\n\n\t\treturn {\n\t\t\tschedule_uuid: data.scheduleUuid,\n\t\t\tevent_status_uuid: data.eventStatusUuid,\n\t\t\tevent_status_modifier: data.eventStatusModifier,\n\t\t\tstart_time: data.startTime,\n\t\t\tend_time: data.endTime,\n\t\t\tsite: data.site,\n\t\t\treason: data.reason,\n\t\t\tnum_invoices: data.numInvoices,\n\t\t\tdemographics_patient_dob: data.demographicPatientDob,\n\t\t\tdemographics_patient_name: data.demographicPatientName,\n\t\t\tdemographics_patient_phone: data.demographicPatientPhone,\n\t\t\tdemographics_patient_uuid: data.demographicPatientUuid,\n\t\t\tdemographics_practitioner_uuid: data.demographicPractitionerUuid,\n\t\t\ttag_names: data.tagNames,\n\t\t\ttag_self_booked: data.tagSelfBooked,\n\t\t\ttag_self_cancelled: data.tagSelfCancelled,\n\t\t\ttag_system_codes: data.tagSystemCodes\n\t\t};\n\t}\n\n\tprivate snake_availability_type(data)\n\t{\n\t\tif(data == null)\n\t\t{\n\t\t\treturn data;\n\t\t}\n\n\t\treturn {\n\t\t\tname: data.name,\n\t\t\tcolor: data.color,\n\t\t\tpreferred_event_length_minutes: data.preferredEventLengthMinutes,\n\t\t\tsystem_code: data.systemCode,\n\t\t};\n\t}\n\n\tprivate snake_schedule_results(results)\n\t{\n\t\tif(!angular.isArray(results))\n\t\t{\n\t\t\treturn results;\n\t\t}\n\n\t\tvar snake_results = [];\n\n\t\tfor(var i = 0; i < results.length; i++)\n\t\t{\n\t\t\tvar result = results[i];\n\t\t\tsnake_results.push({\n\t\t\t\tresourceId: result.resourceId,\n\t\t\t\tstart: result.start,\n\t\t\t\tend: result.end,\n\t\t\t\tcolor: result.color,\n\t\t\t\trendering: result.rendering,\n\t\t\t\tschedule_template_code: result.scheduleTemplateCode,\n\t\t\t\tclassName: result.className,\n\t\t\t\tavailability_type: this.snake_availability_type(result.availabilityType),\n\t\t\t\tdata: this.snake_appointment_data(result.data),\n\t\t\t});\n\t\t}\n\n\t\treturn snake_results;\n\t}\n\n\tpublic load_schedule_templates()\n\t{\n\t\t// XXX: can't implement this because it requires the date range and provider number\n\t\t// because oscar stores it's templates per day and provider\n\n\t\tvar deferred = this.$q.defer();\n\n\t\tvar schedule_templates = {};\n\t\tvar promise_array = [];\n\n\t\tdeferred.resolve([]);\n\t\t/*\t\t\t\tschedule_template_model.list().then(\n\t\t\t\t\t\t\tfunction success(results)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfor(var i = 0; i < results.data.length; i++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvar result = results.data[i];\n\t\t\t\t\t\t\t\t\tpromise_array.push(schedule_template_model.load(result.uuid));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).then(\n\t\t\t\t\t\t\tfunction success()\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$q.all(promise_array).then(\n\t\t\t\t\t\t\t\t\tfunction success(results_array)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfor(var i=0; i<results_array.length; i++)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tvar result = results_array[i].data;\n\t\t\t\t\t\t\t\t\t\t\tschedule_templates[result.uuid] = result;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdeferred.resolve(schedule_templates);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});*/\n\n\t\treturn deferred.promise;\n\t}\n\n\tpublic load_availability_types()\n\t{\n\t\tvar deferred = this.$q.defer();\n\t\tvar availability_types = {};\n\n\t\tthis.scheduleService.getScheduleTemplateCodes().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\t/*\tExample JSON result (P is the oscar scheduletemplatecode.code)\n\t\t\t\tvar example_result = {\n\t\t\t\t\tP: {\n\t\t\t\t\t\tcolor: \"#000000\",\n\t\t\t\t\t\tname: \"Do Not Book\",\n\t\t\t\t\t\tpreferred_event_length_minutes: null,\n\t\t\t\t\t\tsystem_code: \"unavailable\",\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t\t*/\n\n\t\t\t\tfor(var i = 0; i < results.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar result = results[i];\n\n\t\t\t\t\tavailability_types[result.code] = {\n\t\t\t\t\t\tcolor: result.color,\n\t\t\t\t\t\tname: result.description,\n\t\t\t\t\t\tpreferred_event_length_minutes: result.duration,\n\t\t\t\t\t\tsystem_code: null,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tdeferred.resolve(availability_types);\n\t\t\t});\n\n\t\treturn deferred.promise;\n\t}\n\n\tpublic load_event_statuses()\n\t{\n\t\tvar deferred = this.$q.defer();\n\n\t\t//this.scheduleService.getAppointmentStatuses().then(\n\t\tthis.scheduleApi.getCalendarAppointmentStatuses().then(\n\t\t\t(results) => {\n\t\t\t\tdeferred.resolve(CalendarApiAdapter.snake_appointment_statuses(results.data.body));\n\t\t\t}\n\t\t);\n\n\t\treturn deferred.promise;\n\t}\n\n\tprivate static snake_appointment_statuses(data: Array<CalendarAppointmentStatus>)\n\t{\n\t\tif (!angular.isArray(data))\n\t\t{\n\t\t\treturn data;\n\t\t}\n\n\t\tvar snake_data = [];\n\n\t\tfor (var i = 0; i < data.length; i++)\n\t\t{\n\t\t\tsnake_data.push({\n\t\t\t\tuuid: data[i].displayLetter,\n\t\t\t\tname: data[i].name,\n\t\t\t\tdisplay_letter: data[i].displayLetter,\n\t\t\t\tcolor: data[i].color,\n\t\t\t\ticon: data[i].icon,\n\t\t\t\trotates: data[i].rotates,\n\t\t\t\tsystem_code: data[i].systemCode,\n\t\t\t\tsort_order: data[i].sortOrder,\n\t\t\t});\n\t\t}\n\n\t\treturn snake_data;\n\t}\n\n\tpublic load_sites()\n\t{\n\t\tvar deferred = this.$q.defer();\n\n\t\tthis.scheduleService.getSites().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tvar out = [];\n\t\t\t\tif(angular.isArray(results))\n\t\t\t\t{\n\t\t\t\t\tfor(var i = 0; i < results.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tout.push({\n\t\t\t\t\t\t\tuuid: results[i].siteId,\n\t\t\t\t\t\t\tname: results[i].name,\n\t\t\t\t\t\t\tdisplay_name: results[i].name,\n\t\t\t\t\t\t\tcolor: results[i].bgColor,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdeferred.resolve(out);\n\t\t\t}\n\t\t)\n\n\t\treturn deferred.promise;\n\t}\n\n\n\tpublic load_schedule_options()\n\t{\n\t\tvar deferred = this.$q.defer();\n\n\t\tthis.scheduleService.getScheduleGroups().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tfor(var i = 0; i < results.length; i++)\n\t\t\t\t{\n\t\t\t\t\tresults[i].uuid = results[i].identifier;\n\t\t\t\t}\n\t\t\t\tdeferred.resolve(results);\n\t\t\t}\n\t\t);\n\n\t\treturn deferred.promise;\n\t}\n\n\tpublic get_selected_schedule(schedule_options)\n\t{\n\t\t// priority: last used from global state, then preference setting,\n\t\t// then default (first in the list)\n\t\tvar selected_uuid = null;\n\t\tif(this.$stateParams.default_schedule)\n\t\t{\n\t\t\t// Passed in url string\n\t\t\tselected_uuid = this.$stateParams.default_schedule;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tselected_uuid = this.get_global_state('schedule_default');\n\t\t}\n\t\tif(selected_uuid === null)\n\t\t{\n\t\t\tselected_uuid = this.get_global_preference_setting('schedule_default');\n\t\t}\n\n\t\tif(this.util.exists(selected_uuid))\n\t\t{\n\t\t\t// only choose it if it can be found in the options list\n\t\t\tfor(var i = 0; i < schedule_options.length; i++)\n\t\t\t{\n\t\t\t\tif(selected_uuid === schedule_options[i].uuid)\n\t\t\t\t{\n\t\t\t\t\treturn schedule_options[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(schedule_options.length > 0)\n\t\t{\n\t\t\t// select the first schedule in the list by default\n\t\t\treturn schedule_options[0];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic get_selected_resources(resource_options)\n\t{\n\t\treturn [];\n\n\t\t/*\tXXX: probably not using this because we don't select resources in juno\n\n\t\t// priority: last used from global state, then preference setting,\n\t\t// then default (all the non-doctor schedules)\n\n\t\tvar custom_resource_list =\n\t\t\tthis.get_global_state('schedule_resources');\n\n\t\tif(custom_resource_list === null)\n\t\t{\n\t\t\tcustom_resource_list = this.get_global_preference_setting(\n\t\t\t\t'schedule_resources');\n\t\t}\n\n\t\treturn this.get_group_resources(\n\t\t\tcustom_resource_list, resource_options);*/\n\t}\n\n/*\tpublic get_group_resources(default_selections, schedules)\n\t{\n\t\tvar has_defaults = this.util.exists(default_selections) && default_selections.length > 0;\n\n\t\tvar selected_resources = [];\n\t\tfor(var i = 0; i < schedules.length; i++)\n\t\t{\n\t\t\tvar schedule_data = schedules[i];\n\n\t\t\tif(has_defaults &&\n\t\t\t\tdefault_selections.indexOf(schedule_data.uuid) > -1)\n\t\t\t{\n\t\t\t\tselected_resources.push(schedule_data);\n\t\t\t}\n\t\t\telse if(!has_defaults &&\n\t\t\t\t!this.util.exists(schedule_data.demographics_practitioner_uuid))\n\t\t\t{\n\t\t\t\tselected_resources.push(schedule_data);\n\t\t\t}\n\t\t}\n\n\t\t// if default selections list is set but the schedules in it no longer exist,\n\t\t// or if there are no settings and no non-doctor schedules,\n\t\t// then could end up with nothing selected, so select everything\n\t\tif(selected_resources.length === 0)\n\t\t{\n\t\t\tfor(var j = 0; j < schedules.length; j++)\n\t\t\t{\n\t\t\t\tselected_resources.push(schedule_data);\n\t\t\t}\n\t\t}\n\n\t\treturn selected_resources;\n\t}*/\n\n\tpublic get_selected_time_interval(\n\t\ttime_interval_options, default_time_interval)\n\t{\n\t\t// priority: last used from global state, then preference setting,\n\t\t// then default\n\n\t\tvar selected_time_interval = null;\n\n\t\tvar time_interval = this.get_global_state('schedule_time_interval');\n\t\tif(time_interval === null)\n\t\t{\n\t\t\ttime_interval = this.get_global_preference_setting(\n\t\t\t\t'schedule_time_interval');\n\t\t}\n\n\t\tif(this.util.exists(time_interval))\n\t\t{\n\t\t\t// only choose it if it can be found in the options list\n\t\t\tfor(var i = 0; i < time_interval_options.length; i++)\n\t\t\t{\n\t\t\t\tif(time_interval === time_interval_options[i])\n\t\t\t\t{\n\t\t\t\t\tselected_time_interval = time_interval_options[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(selected_time_interval === null)\n\t\t{\n\t\t\treturn default_time_interval;\n\t\t}\n\n\t\treturn selected_time_interval;\n\t}\n\n\tpublic get_schedule_min_time() {\n\t\t// restrict day view if user preferences are set\n\n\t\t/*\t\t\t\tvar min_time = service.get_global_preference_setting('schedule_min_time');\n\t\t\t\t\t\tif (util.exists(min_time)) {\n\t\t\t\t\t\t\t// format: HH24:MM:SS - expect HH24:MM in preference\n\t\t\t\t\t\t\treturn min_time + \":00\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn null;*/\n\n\t\treturn \"08:00\";\n\t}\n\n\tpublic get_schedule_max_time()\n\t{\n\t\t/*\t\t\t\tvar max_time = service.get_global_preference_setting('schedule_max_time');\n\t\t\t\t\t\tif(util.exists(max_time))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// format: HH24:MM:SS - expect HH24:MM in preference\n\t\t\t\t\t\t\treturn max_time + \":00\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn null;*/\n\t\treturn \"20:00\";\n\t}\n\n\n\tpublic load_schedule(providerId: string, )\n\t{\n\t\tvar deferred = this.$q.defer();\n\n\t\t// TODO: fill up availabilities and relations, or figure out how to show that info without them\n\t\tvar schedule = {\n\t\t\tuuid: providerId,\n\t\t\tavailabilities: [], // TODO: figure out if these have a Juno equivalent, I don't think\n\t\t\t\t\t\t\t\t// TODO: they do.  They are things like holidays and vacation days\n\t\t\trelations: []\n\t\t};\n\n\t\tdeferred.resolve({data: schedule});\n\n\t\treturn deferred.promise;\n\t}\n\n\n\tpublic save_event(\n\t\tedit_mode: string,\n\t\tevent_uuid: string,\n\t\tstart_datetime: moment.Moment,\n\t\tend_datetime: moment.Moment,\n\t\tevent_data: {reason: string, description: string},\n\t\tschedule_uuid: string,\n\t\tselected_event_status_uuid: string,\n\t\tpatient_uuid: number,\n\t\tsite_uuid: string\n\t)\n\t{\n\t\tvar deferred = this.$q.defer();\n\n\t\tvar dateString: string = this.util.get_date_string(start_datetime);\n\t\tvar startTimeString: string = this.util.get_time_string(start_datetime, \"HH:mm\");\n\t\tvar duration: number = moment.duration(end_datetime.diff(start_datetime)).asMinutes();\n\n\t\tvar appointment: NewAppointmentTo1 =  {\n\t\t\t\"appointmentDate\": dateString,\n\t\t\t\"startTime\": startTimeString,\n\t\t\t\"duration\": duration,\n\t\t\t\"status\": selected_event_status_uuid,\n\t\t\t\"demographicNo\": patient_uuid,\n\t\t\t\"notes\": event_data.description,\n\t\t\t\"reason\": event_data.reason,\n\t\t\t\"location\": site_uuid,\n\t\t\t\"providerNo\": schedule_uuid,\n\t\t\t//\"name\": string,\n/*\t\t\t\"resources\": string,\n\t\t\t\"type\": string,\n\t\t\t\"urgency\": string,*/\n\t\t};\n\n\t\t//this.scheduleService.addAppointment(appointment).then(\n\t\tthis.scheduleApi.addAppointment(appointment).then(\n\t\t\tfunction(result: IHttpResponse<SchedulingResponse>)\n\t\t\t{\n\t\t\t\tdeferred.resolve(result.data);\n\t\t\t},\n\t\t\tfunction (result)\n\t\t\t{\n\t\t\t\tdeferred.reject(result.data);\n\t\t\t});\n\n\t\treturn deferred.promise;\n\t}\n\n\t// Read the implementation-specific results and return a calendar-compatible object.\n\tpublic process_save_results(results, display_errors)\n\t{\n\t\tlet status = (results || {}).status;\n\n\t\tif(status == 'SUCCESS')\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tlet error_message = ((results || {}).error || {}).message;\n\t\tlet validation_error_array = ((results || {}).error || {}).validationErrors;\n\n\t\tif(Array.isArray(validation_error_array))\n\t\t{\n\t\t\tdisplay_errors.add_standard_error(error_message);\n\t\t\tfor(let error of validation_error_array)\n\t\t\t{\n\t\t\t\tdisplay_errors.add_field_error(error.path, error.message);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\tpublic delete_event(event_uuid)\n\t{\n\t\tvar deferred = this.$q.defer();\n\n\t\tthis.event_model.del(event_uuid).then(function()\n\t\t{\n\t\t\tdeferred.resolve();\n\n\t\t}, function()\n\t\t{\n\t\t\tdeferred.reject();\n\t\t});\n\n\t\treturn deferred.promise;\n\t}*/\n\n\n\t//-------------------------------------------------------------------------\n\t// Event Handlers\n\t//-------------------------------------------------------------------------/\n\n/*\tpublic drop_event(uuid, schedule_uuid, delta)\n\t{\n\t\tvar deferred = this.$q.defer();\n\n\t\tevent_model.load(uuid).then(\n\t\t\tfunction success()\n\t\t\t{\n\t\t\t\tevent_model.data.start_time =\n\t\t\t\t\tutil.get_datetime_moment(event_model.data.start_time).add(\n\t\t\t\t\t\tdelta.asMilliseconds(), 'milliseconds');\n\n\t\t\t\tevent_model.data.end_time =\n\t\t\t\t\tutil.get_datetime_moment(event_model.data.end_time).add(\n\t\t\t\t\t\tdelta.asMilliseconds(), 'milliseconds');\n\n\t\t\t\tevent_model.data.schedule_uuid = schedule_uuid;\n\n\t\t\t\tevent_model.save().then(\n\t\t\t\t\tfunction success()\n\t\t\t\t\t{\n\t\t\t\t\t\tdeferred.resolve(angular.copy(event_model.data));\n\n\t\t\t\t\t}, function error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tdeferred.reject(errors);\n\t\t\t\t\t});\n\t\t\t});\n\n\t\treturn deferred.promise;\n\t}\n\n\tpublic resize_event(uuid, delta)\n\t{\n\t\tvar deferred = this.$q.defer();\n\n\t\tevent_model.load(uuid).then(\n\t\t\tfunction success()\n\t\t\t{\n\t\t\t\tevent_model.data.end_time =\n\t\t\t\t\tutil.get_datetime_moment(event_model.data.end_time).add(\n\t\t\t\t\t\tdelta.asMilliseconds(), 'milliseconds');\n\n\t\t\t\tevent_model.save().then(\n\t\t\t\t\tfunction success()\n\t\t\t\t\t{\n\t\t\t\t\t\tdeferred.resolve(angular.copy(event_model.data));\n\n\t\t\t\t\t}, function error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tdeferred.reject(errors);\n\t\t\t\t\t});\n\t\t\t});\n\n\t\treturn deferred.promise;\n\t}\n\n\tpublic rotate_event_status(uuid, rotate_statuses)\n\t{\n\t\tvar deferred = this.$q.defer();\n\n\t\tevent_model.load(uuid).then(\n\t\t\tfunction success()\n\t\t\t{\n\t\t\t\tvar next_index = null;\n\t\t\t\tfor(var i = 0; i < rotate_statuses.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif(rotate_statuses[i].uuid ===\n\t\t\t\t\t\tevent_model.data.event_status_uuid)\n\t\t\t\t\t{\n\t\t\t\t\t\tnext_index = (i + 1) % rotate_statuses.length;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tevent_model.data.event_status_uuid =\n\t\t\t\t\trotate_statuses[next_index].uuid;\n\n\t\t\t\tevent_model.save().then(\n\t\t\t\t\tfunction success()\n\t\t\t\t\t{\n\t\t\t\t\t\tdeferred.resolve(angular.copy(event_model.data));\n\t\t\t\t\t});\n\t\t\t});\n\n\t\treturn deferred.promise;\n\t}*/\n\n\t//-------------------------------------------------------------------------\n\t// Global State Manipulation\n\t//-------------------------------------------------------------------------/\n\n\tpublic get_global_preference_setting(key)\n\t{\n\t\tif(this.util.exists(this.globalStateService.preferences) &&\n\t\t\tthis.util.exists(this.globalStateService.preferences.settings))\n\t\t{\n\t\t\treturn this.globalStateService.preferences.settings[key];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic get_global_state(key)\n\t{\n\t\tvar setting = this.globalStateService[key];\n\t\tif(!this.util.exists(setting))\n\t\t{\n\t\t\tsetting = null;\n\t\t}\n\t\treturn setting;\n\t}\n\n\tpublic save_global_state(key, value)\n\t{\n\t\tthis.globalStateService[key] = value;\n\t}\n\n\t// -----------------------------------------------------------------------------------------------\n\t// Interface Actions\n\t// -----------------------------------------------------------------------------------------------\n\n\tpublic get_create_invoice_url(\n\t\tevent_uuid, demographics_practitioner_uuid, demographics_patient_uuid)\n\t{\n\t\tvar url = \"#/invoice/create?schedule_event_uuid=\" +\n\t\t\tencodeURIComponent(event_uuid);\n\n\t\tif(this.util.exists(demographics_patient_uuid))\n\t\t{\n\t\t\turl += \"&demographics_patient_uuid=\" +\n\t\t\t\tencodeURIComponent(demographics_patient_uuid);\n\t\t}\n\n\t\tif(this.util.exists(demographics_practitioner_uuid))\n\t\t{\n\t\t\turl += \"&demographics_practitioner_uuid=\" + encodeURIComponent(\n\t\t\t\tdemographics_practitioner_uuid);\n\t\t}\n\n\t\treturn url;\n\t}\n\n\tpublic get_patient_demographic_url(event)\n\t{\n\t\treturn \"#/patient/\" + encodeURIComponent(event.data.demographics_patient_uuid) + \"/view\";\n\t}\n\n\tpublic get_create_chart_note_url(event)\n\t{\n\t\treturn \"#/patient/\" + encodeURIComponent(event.data.demographics_patient_uuid) +\n\t\t\t\"/chart_notes?event_uuid=\" + encodeURIComponent(event.data.uuid);\n\t}\n\n\tpublic open_patient_dialog(edit_mode_callback, on_save_callback,\n\t\tload_error_link_patient_fn)\n\t{\n\t\t//global_state.enable_keyboard_shortcuts = false;\n\n\t\treturn this.$uibModal.open({\n\t\t\tanimation: false,\n\t\t\tbackdrop: 'static',\n\t\t\tsize: 'lg',\n\t\t\tcontroller: 'Invoice.Common.Patient.FormController',\n\t\t\ttemplateUrl: 'code/invoice/common/patient/quick_form.html',\n\t\t\tresolve: {\n\t\t\t\tedit_mode: edit_mode_callback,\n\t\t\t\ton_save_callback: on_save_callback,\n\t\t\t\tload_error_link_patient_fn: load_error_link_patient_fn\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic get_schedule_height()\n\t{\n/*\t\t// get the full window height, minus the header height, minus a buffer for schedule options\n\t\tvar schedule_height = $(window).height() - $('#right-pane').offset().top - 80;\n\t\tif(schedule_height < $scope.min_height) {\n\t\t\tschedule_height = $scope.min_height;\n\t\t}\n\t\treturn schedule_height;*/\n\t\treturn 814;\n\t}\n\n\n\t// ===============================================================================================\n\t// Private Methods\n\t// ===============================================================================================\n/*\n\tprivate create_schedule_event(event)\n\t{\n\t\tvar event_status_color =\n\t\t\tthis.event_statuses[event.event_status_uuid] ?\n\t\t\t\tthis.event_statuses[event.event_status_uuid].color :\n\t\t\t\tthis.default_event_color;\n\n\t\treturn {\n\t\t\tdata: event,\n\t\t\tstart: this.util.get_datetime_moment(event.start_time),\n\t\t\tend: this.util.get_datetime_moment(event.end_time),\n\t\t\tcolor: event_status_color,\n\t\t\tclassName: this.event_class(event_status_color),\n\t\t\tresourceId: event.schedule_uuid\n\t\t}\n\t}\n\n\tprivate event_class(bg_color)\n\t{\n\t\tvar red = parseInt(bg_color.substr(1,2),16);\n\t\tvar green = parseInt(bg_color.substr(3,2),16);\n\t\tvar blue = parseInt(bg_color.substr(5,2),16);\n\t\tvar yiq = ((red * 299) + (green * 587) + (blue * 114)) / 1000;\n\n\t\treturn (yiq >= 128) ? 'text-dark' : 'text-light';\n\t}\n\t*/\n\n/*\n\tprivate load_schedule_availabilities(schedule)\n\t{\n\t\tvar deferred = this.$q.defer();\n\n\t\tthis.schedule_availability_model.schedule_list(schedule).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tschedule.availabilities = results.data;\n\t\t\t\tdeferred.resolve(this.results_factory.factory(schedule));\n\t\t\t}, function error(errors)\n\t\t\t{\n\t\t\t\tconsole.log('load_schedule_availabilities error', errors);\n\t\t\t});\n\n\t\treturn deferred.promise;\n\t}\n\n\tprivate load_schedule_tmpl_rels(schedule)\n\t{\n\t\tvar deferred = $q.defer();\n\n\t\tthis.schedule_template_relation_model.schedule_list(schedule).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tschedule.relations = results.data;\n\t\t\t\tdeferred.resolve(this.results_factory.factory(schedule));\n\t\t\t});\n\n\t\treturn deferred.promise;\n\t}*/\n}\n","\nimport {ScheduleApi} from \"../generated/JunoInternalApi/ScheduleApi\";\nimport {CalendarApiAdapter} from './schedule/calendarApiAdapter';\n\nangular.module('Schedule').service(\n\t'Schedule.CalendarApiAdapter', CalendarApiAdapter);\n","angular.module('Help').controller('Help.HelpController', [\n\n\t'$scope',\n\t'$http',\n\n\tfunction(\n\t\t$scope,\n\t\t$http) {\n\n\t}\n]);","angular.module('Help').controller('Help.SupportController', [\n\n\t'$scope',\n\t'$http',\n\n\tfunction(\n\t\t$scope,\n\t\t$http)\n\t{\n\n\t\t$scope.ospInfo = {\n\t\t\tname: 'OscarHost.ca',\n\t\t\tphone: '250-900-7373',\n\t\t\tcontact: 'Oscarhost Support',\n\t\t\temail: 'support@oscarhost.ca',\n\t\t\turl: 'https://help.oscarhost.ca'\n\t\t};\n\n\t\t$scope.buildInfo = {\n\t\t\tversionDisplayName: '15-Beta',\n\t\t\tversion: 'master-0000'\n\t\t};\n\t}\n]);","'use strict';\n\nangular.module('Help', []);","angular.module('Settings').controller('Settings.QuickLinkController', [\n\n\t'$scope',\n\t'$uibModalInstance',\n\n\tfunction(\n\t\t$scope,\n\t\t$uibModalInstance)\n\t{\n\n\t\t$scope.qll = {};\n\n\t\t$scope.close = function()\n\t\t{\n\t\t\t$uibModalInstance.close();\n\t\t};\n\n\t\t$scope.addQuickLink = function(qlForm)\n\t\t{\n\t\t\tif (qlForm.$valid)\n\t\t\t{\n\t\t\t\t//\talert($scope.qll.toSource());\n\t\t\t\t$uibModalInstance.close($scope.qll);\n\t\t\t}\n\t\t};\n\t}\n]);","angular.module('Settings').controller('Settings.ChangePasswordController', [\n\n\t'$scope',\n\t'$uibModalInstance',\n\n\tfunction(\n\t\t$scope,\n\t\t$uibModalInstance)\n\t{\n\n\t\t$scope.close = function()\n\t\t{\n\t\t\t$uibModalInstance.close(\"Someone Closed Me\");\n\t\t};\n\n\t\t$scope.changePassword = function()\n\t\t{\n\t\t\tconsole.log('password saved - NOT');\n\t\t\t$uibModalInstance.close(\"Someone Saved Me\");\n\t\t};\n\t}\n]);","angular.module('Settings').controller('Settings.SettingsController', [\n\n\t'$scope',\n\t'$http',\n\t'$state',\n\t'$uibModal',\n\t'$filter',\n\t'providerList',\n\t'user',\n\t'billingServiceTypes',\n\t'loadedSettings',\n\t'providerService',\n\t'encounterForms',\n\t'eforms',\n\t'teams',\n\t'groupNames',\n\t'loadedApps',\n\t'appService',\n\n\tfunction(\n\t\t$scope,\n\t\t$http,\n\t\t$state,\n\t\t$uibModal,\n\t\t$filter,\n\t\tproviderList,\n\t\tuser,\n\t\tbillingServiceTypes,\n\t\tloadedSettings,\n\t\tproviderService,\n\t\tencounterForms,\n\t\teforms,\n\t\tteams,\n\t\tgroupNames,\n\t\tloadedApps,\n\t\tappService)\n\t{\n\n\t\tvar controller = this;\n\n\t\t$scope.$emit('configureShowPatientList', false);\n\n\t\tcontroller.providerList = providerList;\n\t\tcontroller.user = user;\n\t\tcontroller.billingServiceTypes = billingServiceTypes;\n\t\tcontroller.pref = loadedSettings;\n\t\tcontroller.encounterForms = encounterForms.content;\n\t\tcontroller.eforms = eforms;\n\t\tcontroller.loadedApps = loadedApps;\n\n\t\tif (controller.pref.recentPatients == null)\n\t\t{\n\t\t\tcontroller.pref.recentPatients = \"8\";\n\t\t}\n\n\t\t//convert to value/label object list from string array\n\t\tcontroller.formGroupNames = [\n\t\t{\n\t\t\t\"value\": \"\",\n\t\t\t\"label\": \"None\"\n\t\t}];\n\t\tfor (var i = 0; i < groupNames.length; i++)\n\t\t{\n\t\t\tcontroller.formGroupNames.push(\n\t\t\t{\n\t\t\t\t\"value\": groupNames[i],\n\t\t\t\t\"label\": groupNames[i]\n\t\t\t});\n\t\t}\n\n\n\t\t//convert to value/label obj list. Add all/none\n\t\tcontroller.teams = [\n\t\t{\n\t\t\t\"value\": \"-1\",\n\t\t\t\"label\": \"All\"\n\t\t}];\n\t\tfor (var i = 0; i < teams.length; i++)\n\t\t{\n\t\t\tcontroller.teams.push(\n\t\t\t{\n\t\t\t\t\"value\": teams[i],\n\t\t\t\t\"label\": teams[i]\n\t\t\t});\n\t\t}\n\t\tcontroller.teams.push(\n\t\t{\n\t\t\t\"value\": \"\",\n\t\t\t\"label\": \"None\"\n\t\t});\n\n\t\t//add none -option to start.\n\t\tcontroller.billingServiceTypesMod = [];\n\t\tangular.copy(controller.billingServiceTypes, controller.billingServiceTypesMod);\n\t\tcontroller.billingServiceTypesMod.splice(0, 0,\n\t\t{\n\t\t\t\"type\": \"no\",\n\t\t\t\"name\": \"--None--\"\n\t\t});\n\n\t\t//this needs to be done to do the weird checkbox lists. basically add a property to each encounterList object called checked:[true|false]\n\t\tfor (var i = 0; i < controller.pref.appointmentScreenForms.length; i++)\n\t\t{\n\t\t\tvar selected = $filter('filter')(controller.encounterForms,\n\t\t\t{\n\t\t\t\tformName: controller.pref.appointmentScreenForms[i]\n\t\t\t});\n\t\t\tif (selected != null)\n\t\t\t{\n\t\t\t\tfor (var x = 0; x < selected.length; x++)\n\t\t\t\t{\n\t\t\t\t\tif (selected[x].formName === controller.pref.appointmentScreenForms[i])\n\t\t\t\t\t{\n\t\t\t\t\t\tselected[x].checked = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//this needs to be done to do the weird checkbox lists. basically add a property to each encounterList object called checked:[true|false]\n\t\tfor (var i = 0; i < controller.pref.appointmentScreenEforms.length; i++)\n\t\t{\n\t\t\tvar selected = $filter('filter')(controller.eforms,\n\t\t\t{\n\t\t\t\tid: controller.pref.appointmentScreenEforms[i]\n\t\t\t});\n\t\t\tif (selected != null)\n\t\t\t{\n\t\t\t\tfor (var x = 0; x < selected.length; x++)\n\t\t\t\t{\n\t\t\t\t\tif (selected[x].id === controller.pref.appointmentScreenEforms[i])\n\t\t\t\t\t{\n\t\t\t\t\t\tselected[x].checked = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tcontroller.tabs = [\n\t\t{\n\t\t\tid: 0,\n\t\t\tdisplayName: 'Persona',\n\t\t\tpath: 'persona'\n\t\t},\n\t\t{\n\t\t\tid: 1,\n\t\t\tdisplayName: 'General',\n\t\t\tpath: 'general'\n\t\t},\n\t\t{\n\t\t\tid: 2,\n\t\t\tdisplayName: 'Schedule',\n\t\t\tpath: 'schedule'\n\t\t},\n\t\t{\n\t\t\tid: 3,\n\t\t\tdisplayName: 'Billing',\n\t\t\tpath: 'billing'\n\t\t},\n\t\t{\n\t\t\tid: 4,\n\t\t\tdisplayName: 'Rx',\n\t\t\tpath: 'rx'\n\t\t},\n\t\t{\n\t\t\tid: 5,\n\t\t\tdisplayName: 'Master Demographic',\n\t\t\tpath: 'masterdemo'\n\t\t},\n\t\t{\n\t\t\tid: 6,\n\t\t\tdisplayName: 'Consultations',\n\t\t\tpath: 'consults'\n\t\t},\n\t\t{\n\t\t\tid: 7,\n\t\t\tdisplayName: 'Documents',\n\t\t\tpath: 'documents'\n\t\t},\n\t\t{\n\t\t\tid: 8,\n\t\t\tdisplayName: 'Summary',\n\t\t\tpath: 'summary'\n\t\t},\n\t\t{\n\t\t\tid: 9,\n\t\t\tdisplayName: 'eForms',\n\t\t\tpath: 'eforms'\n\t\t},\n\t\t{\n\t\t\tid: 10,\n\t\t\tdisplayName: 'Inbox',\n\t\t\tpath: 'inbox'\n\t\t},\n\t\t{\n\t\t\tid: 11,\n\t\t\tdisplayName: 'Programs',\n\t\t\tpath: 'programs'\n\t\t},\n\t\t{\n\t\t\tid: 12,\n\t\t\tdisplayName: 'Integration',\n\t\t\tpath: 'integration'\n\t\t}, ];\n\t\tcontroller.pageSizes = [\n\t\t{\n\t\t\tvalue: 'PageSize.A4',\n\t\t\tlabel: 'A4'\n\t\t},\n\t\t{\n\t\t\tvalue: 'PageSize.A6',\n\t\t\tlabel: 'A6'\n\t\t}];\n\n\t\tcontroller.rxInteractionWarningLevels = [\n\t\t{\n\t\t\tvalue: '0',\n\t\t\tlabel: 'Not Specified'\n\t\t},\n\t\t{\n\t\t\tvalue: '1',\n\t\t\tlabel: 'Low'\n\t\t},\n\t\t{\n\t\t\tvalue: '2',\n\t\t\tlabel: 'Medium'\n\t\t},\n\t\t{\n\t\t\tvalue: '3',\n\t\t\tlabel: 'High'\n\t\t},\n\t\t{\n\t\t\tvalue: '4',\n\t\t\tlabel: 'None'\n\t\t}];\n\n\t\tcontroller.staleDates = [\n\t\t{\n\t\t\tvalue: 'A',\n\t\t\tlabel: 'All'\n\t\t},\n\t\t{\n\t\t\tvalue: '0',\n\t\t\tlabel: '0'\n\t\t},\n\t\t{\n\t\t\tvalue: '-1',\n\t\t\tlabel: '-1'\n\t\t},\n\t\t{\n\t\t\tvalue: '-2',\n\t\t\tlabel: '2'\n\t\t},\n\t\t{\n\t\t\tvalue: '-3',\n\t\t\tlabel: '3'\n\t\t},\n\t\t{\n\t\t\tvalue: '-4',\n\t\t\tlabel: '4'\n\t\t},\n\t\t{\n\t\t\tvalue: '-5',\n\t\t\tlabel: '5'\n\t\t},\n\t\t{\n\t\t\tvalue: '-6',\n\t\t\tlabel: '6'\n\t\t},\n\t\t{\n\t\t\tvalue: '-7',\n\t\t\tlabel: '7'\n\t\t},\n\t\t{\n\t\t\tvalue: '-8',\n\t\t\tlabel: '8'\n\t\t},\n\t\t{\n\t\t\tvalue: '-9',\n\t\t\tlabel: '9'\n\t\t},\n\t\t{\n\t\t\tvalue: '-10',\n\t\t\tlabel: '10'\n\t\t},\n\t\t{\n\t\t\tvalue: '-11',\n\t\t\tlabel: '11'\n\t\t},\n\t\t{\n\t\t\tvalue: '-12',\n\t\t\tlabel: '12'\n\t\t},\n\t\t{\n\t\t\tvalue: '-13',\n\t\t\tlabel: '13'\n\t\t},\n\t\t{\n\t\t\tvalue: '-14',\n\t\t\tlabel: '14'\n\t\t},\n\t\t{\n\t\t\tvalue: '-15',\n\t\t\tlabel: '15'\n\t\t},\n\t\t{\n\t\t\tvalue: '-16',\n\t\t\tlabel: '16'\n\t\t},\n\t\t{\n\t\t\tvalue: '-17',\n\t\t\tlabel: '17'\n\t\t},\n\t\t{\n\t\t\tvalue: '-18',\n\t\t\tlabel: '18'\n\t\t},\n\t\t{\n\t\t\tvalue: '-19',\n\t\t\tlabel: '19'\n\t\t},\n\t\t{\n\t\t\tvalue: '-20',\n\t\t\tlabel: '20'\n\t\t},\n\t\t{\n\t\t\tvalue: '-21',\n\t\t\tlabel: '21'\n\t\t},\n\t\t{\n\t\t\tvalue: '-22',\n\t\t\tlabel: '22'\n\t\t},\n\t\t{\n\t\t\tvalue: '-23',\n\t\t\tlabel: '23'\n\t\t},\n\t\t{\n\t\t\tvalue: '-24',\n\t\t\tlabel: '24'\n\t\t},\n\t\t{\n\t\t\tvalue: '-25',\n\t\t\tlabel: '25'\n\t\t},\n\t\t{\n\t\t\tvalue: '-26',\n\t\t\tlabel: '26'\n\t\t},\n\t\t{\n\t\t\tvalue: '-27',\n\t\t\tlabel: '27'\n\t\t},\n\t\t{\n\t\t\tvalue: '-28',\n\t\t\tlabel: '28'\n\t\t},\n\t\t{\n\t\t\tvalue: '-29',\n\t\t\tlabel: '29'\n\t\t},\n\t\t{\n\t\t\tvalue: '-30',\n\t\t\tlabel: '30'\n\t\t},\n\t\t{\n\t\t\tvalue: '-31',\n\t\t\tlabel: '31'\n\t\t},\n\t\t{\n\t\t\tvalue: '-32',\n\t\t\tlabel: '32'\n\t\t},\n\t\t{\n\t\t\tvalue: '-33',\n\t\t\tlabel: '33'\n\t\t},\n\t\t{\n\t\t\tvalue: '-34',\n\t\t\tlabel: '34'\n\t\t},\n\t\t{\n\t\t\tvalue: '-35',\n\t\t\tlabel: '35'\n\t\t},\n\t\t{\n\t\t\tvalue: '-36',\n\t\t\tlabel: '36'\n\t\t}, ];\n\n\t\tcontroller.olisLabs = [\n\t\t{\n\t\t\tvalue: '',\n\t\t\tlabel: ''\n\t\t},\n\t\t{\n\t\t\tvalue: '5552',\n\t\t\tlabel: 'Gamma-Dynacare'\n\t\t},\n\t\t{\n\t\t\tvalue: '5407',\n\t\t\tlabel: 'CML'\n\t\t},\n\t\t{\n\t\t\tvalue: '5687',\n\t\t\tlabel: 'LifeLabs'\n\t\t}];\n\n\t\tcontroller.pasteFormats = [\n\t\t{\n\t\t\tvalue: 'single',\n\t\t\tlabel: 'Single Line'\n\t\t},\n\t\t{\n\t\t\tvalue: 'multi',\n\t\t\tlabel: 'Multi Line'\n\t\t}];\n\n\t\tcontroller.letterHeadNameDefaults = [\n\t\t{\n\t\t\tvalue: '1',\n\t\t\tlabel: 'Provider (user)'\n\t\t},\n\t\t{\n\t\t\tvalue: '2',\n\t\t\tlabel: 'MRP'\n\t\t},\n\t\t{\n\t\t\tvalue: '3',\n\t\t\tlabel: 'Clinic'\n\t\t}];\n\n\t\tif (controller.pref.consultationLetterHeadNameDefault == null)\n\t\t{\n\t\t\tcontroller.pref.consultationLetterHeadNameDefault = \"1\";\n\t\t}\n\n\n\t\tif ($state.current.data !== undefined)\n\t\t{\n\t\t\tcontroller.currentTab = $filter('filter')(controller.tabs, {path: $state.current.data.tab})[0];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcontroller.currentTab = controller.tabs[0];\n\t\t}\n\n\n\t\tcontroller.isActive = function(tab)\n\t\t{\n\t\t\treturn (tab != null && controller.currentTab != null && tab.id == controller.currentTab.id);\n\t\t};\n\n\t\tcontroller.changeTab = function(tab)\n\t\t{\n\t\t\tcontroller.currentTab = tab;\n\t\t\t$state.go('settings.' + tab.path);\n\t\t};\n\n\t\tcontroller.save = function()\n\t\t{\n\t\t\tvar newList = [];\n\t\t\tfor (var i = 0; i < controller.pref.appointmentScreenQuickLinks.length; i++)\n\t\t\t{\n\t\t\t\tif (controller.pref.appointmentScreenQuickLinks[i].checked == null || controller.pref.appointmentScreenQuickLinks[i].checked == false)\n\t\t\t\t{\n\t\t\t\t\tnewList.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tname: controller.pref.appointmentScreenQuickLinks[i].name,\n\t\t\t\t\t\turl: controller.pref.appointmentScreenQuickLinks[i].url\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontroller.pref.appointmentScreenQuickLinks = newList;\n\n\t\t\tproviderService.saveSettings(controller.user.providerNo, controller.pref).then(function(data)\n\t\t\t{\n\t\t\t\talert('saved');\n\t\t\t});\n\n\t\t};\n\n\t\tcontroller.cancel = function()\n\t\t{\n\t\t\tcontroller.pref = {};\n\t\t\t$state.go('dashboard');\n\t\t};\n\n\t\tcontroller.selectEncounterForms = function()\n\t\t{\n\t\t\tvar selected = $filter('filter')(controller.encounterForms,\n\t\t\t{\n\t\t\t\tchecked: true\n\t\t\t});\n\t\t\tvar tmp = [];\n\t\t\tfor (var i = 0; i < selected.length; i++)\n\t\t\t{\n\t\t\t\ttmp.push(selected[i].formName);\n\t\t\t}\n\t\t\tcontroller.pref.appointmentScreenForms = tmp;\n\t\t};\n\n\t\tcontroller.selectEForms = function()\n\t\t{\n\t\t\tvar selected = $filter('filter')(controller.eforms,\n\t\t\t{\n\t\t\t\tchecked: true\n\t\t\t});\n\t\t\tvar tmp = [];\n\t\t\tfor (var i = 0; i < selected.length; i++)\n\t\t\t{\n\t\t\t\ttmp.push(selected[i].id);\n\t\t\t}\n\t\t\tcontroller.pref.appointmentScreenEforms = tmp;\n\t\t};\n\n\t\tcontroller.removeQuickLinks = function()\n\t\t{\n\t\t\tvar newList = [];\n\n\t\t\tfor (var i = 0; i < controller.pref.appointmentScreenQuickLinks.length; i++)\n\t\t\t{\n\t\t\t\tif (controller.pref.appointmentScreenQuickLinks[i].checked == null || controller.pref.appointmentScreenQuickLinks[i].checked == false)\n\t\t\t\t{\n\t\t\t\t\tnewList.push(controller.pref.appointmentScreenQuickLinks[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontroller.pref.appointmentScreenQuickLinks = newList;\n\t\t};\n\n\n\t\tcontroller.openChangePasswordModal = function()\n\t\t{\n\t\t\t/*\n        var modalInstance = $uibModal.open({\n        \ttemplateUrl: 'src/settings/changePassword.jsp',\n            controller: 'ChangePasswordController'\n        });\n     */\n\t\t\twindow.open('../provider/providerchangepassword.jsp', 'change_password', 'width=750,height=500');\n\t\t};\n\n\n\t\tcontroller.openQuickLinkModal = function()\n\t\t{\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: 'src/settings/quickLink.jsp',\n\t\t\t\tcontroller: 'QuickLinkController'\n\t\t\t});\n\n\t\t\tmodalInstance.result.then(function(selectedItem)\n\t\t\t{\n\t\t\t\tif (selectedItem != null)\n\t\t\t\t{\n\t\t\t\t\tif (selectedItem != null && selectedItem.name != null && selectedItem.url != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.pref.appointmentScreenQuickLinks.push(selectedItem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tcontroller.editDocumentTemplates = function()\n\t\t{\n\t\t\twindow.open('../admin/displayDocumentDescriptionTemplate.jsp', 'document_templates', 'width=700,height=450');\n\t\t};\n\n\t\tcontroller.showProviderColourPopup = function()\n\t\t{\n\t\t\twindow.open('../provider/providerColourPicker.jsp', 'provider_colour', 'width=700,height=450');\n\t\t};\n\n\t\tcontroller.showDefaultEncounterWindowSizePopup = function()\n\t\t{\n\t\t\twindow.open('../setProviderStaleDate.do?method=viewEncounterWindowSize', 'encounter_window_sz', 'width=700,height=450');\n\t\t};\n\n\t\tcontroller.openConfigureEChartCppPopup = function()\n\t\t{\n\t\t\twindow.open('../provider/CppPreferences.do', 'configure_echart_cpp', 'width=700,height=450');\n\t\t};\n\n\t\tcontroller.openManageAPIClientPopup = function()\n\t\t{\n\t\t\twindow.open('../provider/clients.jsp', 'api_clients', 'width=700,height=450');\n\t\t};\n\n\t\tcontroller.openMyOscarUsernamePopup = function()\n\t\t{\n\t\t\twindow.open('../provider/providerIndivoIdSetter.jsp', 'invivo_setter', 'width=700,height=450');\n\t\t};\n\n\t\tcontroller.authenticate = function(app)\n\t\t{\n\t\t\twindow.open('../apps/oauth1.jsp?id=' + app.id, 'appAuth', 'width=700,height=450');\n\t\t};\n\n\t\tcontroller.refreshAppList = function()\n\t\t{\n\t\t\tconsole.log(\"refresh\", controller.loadedApps);\n\t\t\tappService.getApps().then(function(data)\n\t\t\t\t{\n\t\t\t\t\tcontroller.loadedApps = data;\n\t\t\t\t},\n\t\t\t\tfunction(errorMessage)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"applist:\" + errorMessage);\n\t\t\t\t}\n\t\t\t);\n\t\t\t///\n\t\t\tconsole.log(\"refresh\", controller.loadedApps);\n\t\t};\n\t}\n]);","'use strict';\n\nangular.module('Settings', ['Common', 'Common.Services']);","angular.module('Document').controller('Document.DocumentsController', [\n\n\t'$scope',\n\t'securityService',\n\n\tfunction(\n\t\t$scope,\n\t\tsecurityService)\n\t{\n\t\tvar controller = this;\n\t\tcontroller.me = null;\n\n\t\t$scope.$watch(function()\n\t\t{\n\t\t\treturn securityService.getUser();\n\t\t}, function(newVal)\n\t\t{\n\t\t\tcontroller.me = newVal;\n\n\t\t\tif (newVal != null)\n\t\t\t{\n\t\t\t\twindow.open('../dms/documentReport.jsp?function=provider&functionid=' + controller.me.providerNo, 'edocView', 'height=700,width=1024');\n\t\t\t}\n\t\t}, true);\n\n\n\t\tcontroller.openPopup = function openPopup()\n\t\t{\n\t\t\twindow.open('../dms/documentReport.jsp?function=provider&functionid=' + controller.me.providerNo, 'edocView', 'height=700,width=1024');\n\t\t};\n\t}\n]);","'use strict';\n\nangular.module('Document', ['Common', 'Common.Services']);","angular.module('Report').controller('Report.ReportSHMentalHealthController', [\n\n\t'$scope',\n\t'$log',\n\t'$filter',\n\n\tfunction(\n\t\t$scope,\n\t\t$log,\n\t\t$filter)\n\t{\n\t\tvar controller = this;\n\n\t\tcontroller.params = {\n\t\t\tstartDate: new Date()\n\t\t};\n\n\t\tcontroller.generateReport = function generateReport()\n\t\t{\n\t\t\t$log.log('run sh mental health report');\n\t\t\tvar startDate = $filter('date')(controller.params.startDate, 'yyyy-MM-dd');\n\n\t\t\tvar url = '../PMmodule/StreetHealthIntakeReportAction.do?startDate=' + startDate;\n\t\t\twindow.open(url, 'report_sh', 'height=900,width=700');\n\n\t\t};\n\t}\n]);","angular.module('Report').controller('Report.ReportRegistrationIntakeController', [\n\n\t'$scope',\n\t'$log',\n\t'$filter',\n\n\tfunction(\n\t\t$scope,\n\t\t$log,\n\t\t$filter)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.params = {\n\t\t\tstartDate: new Date(),\n\t\t\tendDate: new Date(),\n\t\t\tincludePastForms: true\n\t\t};\n\n\t\tcontroller.generateReport = function generateReport()\n\t\t{\n\t\t\t$log.log('run registration intake report');\n\t\t\tvar startDate = $filter('date')(controller.params.startDate, 'yyyy-MM-dd');\n\t\t\tvar endDate = $filter('date')(controller.params.endDate, 'yyyy-MM-dd');\n\n\t\t\tvar url = '../PMmodule/GenericIntake/Report.do?method=report&type=quick&startDate=' + startDate + '&endDate=' + endDate + '&includePast=' + controller.params.includePastForms;\n\t\t\twindow.open(url, 'report_registration_intake', 'height=900,width=700');\n\n\t\t};\n\t}\n]);","angular.module('Report').controller('Report.ReportPatientChartListController', [\n\n\t'$scope',\n\t'$log',\n\t'providerService',\n\n\tfunction(\n\t\t$scope,\n\t\t$log,\n\t\tproviderService)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.params = {};\n\n\t\tcontroller.searchProviders = function searchProviders(val)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\tsearchTerm: val,\n\t\t\t\tactive: true\n\t\t\t};\n\t\t\treturn providerService.searchProviders(search, 0, 10).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tproviderNo: results[x].providerNo,\n\t\t\t\t\t\t\tname: results[x].firstName + ' ' + results[x].lastName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\t\tcontroller.updateProviderNo = function updateProviderNo(item, model, label)\n\t\t{\n\t\t\tcontroller.params.providerNo = model;\n\t\t\tcontroller.params.name = label;\n\t\t};\n\n\t\tcontroller.generateReport = function generateReport()\n\t\t{\n\t\t\tvar p = controller.params;\n\t\t\tif (!p.providerNo)\n\t\t\t{\n\t\t\t\talert('Please enter a provider');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar url = '../report/reportpatientchartlist.jsp?provider_no=' + p.providerNo;\n\t\t\twindow.open(url, 'report_patientchartlist', 'height=900,width=700');\n\t\t};\n\t}\n]);","angular.module('Report').controller('Report.ReportOldPatientsController', [\n\n\t'$scope',\n\t'$log',\n\t'providerService',\n\n\tfunction(\n\t\t$scope,\n\t\t$log,\n\t\tproviderService)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.params = {\n\t\t\tproviderNo: '',\n\t\t\tage: 65\n\t\t};\n\n\t\tcontroller.searchProviders = function searchProviders(val)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\tsearchTerm: val,\n\t\t\t\tactive: true\n\t\t\t};\n\t\t\treturn providerService.searchProviders(search, 0, 10).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < response.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tproviderNo: response[x].providerNo,\n\t\t\t\t\t\t\tname: response[x].firstName + ' ' + response[x].lastName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\t\tcontroller.updateProviderNo = function updateProviderNo(item, model, label)\n\t\t{\n\t\t\tcontroller.params.providerNo = model;\n\t\t\tcontroller.params.name = label;\n\t\t};\n\n\t\tcontroller.generateReport = function generateReport()\n\t\t{\n\t\t\tvar p = controller.params;\n\t\t\tvar url = '../report/reportpatientchartlistspecial.jsp?provider_no=' + (p.providerNo === '' ? '*' : p.providerNo) + '&age=' + p.age;\n\t\t\twindow.open(url, 'report_oldpatients', 'height=900,width=700');\n\t\t};\n\t}\n]);","angular.module('Report').controller('Report.ReportNoShowAppointmentSheetController', [\n\n\t'$scope',\n\t'$log',\n\t'$filter',\n\t'providerService',\n\n\tfunction(\n\t\t$scope,\n\t\t$log,\n\t\t$filter,\n\t\tproviderService)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.params = {\n\t\t\tproviderNo: '',\n\t\t\tstartDate: new Date()\n\t\t};\n\n\t\tcontroller.searchProviders = function searchProviders(val)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\tsearchTerm: val,\n\t\t\t\tactive: true\n\t\t\t};\n\t\t\treturn providerService.searchProviders(search, 0, 10).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tproviderNo: results[x].providerNo,\n\t\t\t\t\t\t\tname: results[x].firstName + ' ' + results[x].lastName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\t\tcontroller.updateProviderNo = function updateProviderNo(item, model, label)\n\t\t{\n\t\t\tcontroller.params.providerNo = model;\n\t\t\tcontroller.params.name = label;\n\t\t};\n\n\t\tcontroller.generateReport = function generateReport()\n\t\t{\n\t\t\tvar p = controller.params;\n\t\t\tvar startDate = $filter('date')(p.startDate, 'yyyy-MM-dd');\n\t\t\tvar url = '../report/reportnoshowapptlist.jsp?provider_no=' + p.providerNo + '&sdate=' + startDate;\n\t\t\twindow.open(url, 'report_noShowApptSheet', 'height=900,width=700');\n\t\t};\n\t}\n]);","angular.module('Report').controller('Report.ReportFollowUpIntakeController', [\n\n\t'$scope',\n\t'$log',\n\t'$filter',\n\n\tfunction(\n\t\t$scope,\n\t\t$log,\n\t\t$filter)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.params = {\n\t\t\tstartDate: new Date(),\n\t\t\tendDate: new Date(),\n\t\t\tincludePastForms: true\n\t\t};\n\n\t\tcontroller.generateReport = function generateReport()\n\t\t{\n\t\t\t$log.log('run follow up intake report');\n\t\t\tvar startDate = $filter('date')(controller.params.startDate, 'yyyy-MM-dd');\n\t\t\tvar endDate = $filter('date')(controller.params.endDate, 'yyyy-MM-dd');\n\n\t\t\tvar url = '../PMmodule/GenericIntake/Report.do?method=report&type=indepth&startDate=' + startDate + '&endDate=' + endDate + '&includePast=' + controller.params.includePastForms;\n\t\t\twindow.open(url, 'report_followup_intake', 'height=900,width=700');\n\n\t\t};\n\t}\n]);","angular.module('Report').controller('Report.ReportEdbListController', [\n\n\t'$scope',\n\t'$log',\n\t'$filter',\n\n\tfunction(\n\t\t$scope,\n\t\t$log,\n\t\t$filter)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.params = {\n\t\t\tstartDate: new Date(),\n\t\t\tendDate: new Date(),\n\t\t\tversion: '',\n\t\t\tregion: 'ON'\n\t\t}; //todo: grab region from somewhere\n\n\t\tcontroller.generateReport = function generateReport()\n\t\t{\n\t\t\t$log.log('run edb report');\n\t\t\tvar startDate = $filter('date')(controller.params.startDate, 'yyyy-MM-dd');\n\t\t\tvar endDate = $filter('date')(controller.params.endDate, 'yyyy-MM-dd');\n\n\t\t\tvar url = '';\n\n\t\t\tif (controller.params.region === 'BC')\n\t\t\t{\n\t\t\t\tif (controller.params.version == '05')\n\t\t\t\t{\n\t\t\t\t\turl = '../report/reportbcedblist2007.jsp?startDate=' + startDate + '&endDate=' + endDate;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\turl = '../report/reportbcedblist.jsp?startDate=' + startDate + '&endDate=' + endDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (controller.params.region === 'ON')\n\t\t\t{\n\t\t\t\tif (controller.params.version == '05')\n\t\t\t\t{\n\t\t\t\t\turl = '../report/reportonedblist.jsp?startDate=' + startDate + '&endDate=' + endDate;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\turl = '../report/reportnewedblist.jsp?startDate=' + startDate + '&endDate=' + endDate;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\twindow.open(url, 'report_edb', 'height=900,width=700');\n\n\t\t};\n\t}\n]);","angular.module('Report').controller('Report.ReportDaySheetController', [\n\n\t'$scope',\n\t'$log',\n\t'$filter',\n\t'providerService',\n\n\tfunction(\n\t\t$scope,\n\t\t$log,\n\t\t$filter,\n\t\tproviderService)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.params = {\n\t\t\tproviderNo: '',\n\t\t\ttype: '',\n\t\t\tstartDate: new Date(),\n\t\t\tendDate: new Date(),\n\t\t\tstartTime: null,\n\t\t\tendTime: null\n\t\t};\n\n\t\tcontroller.searchProviders = function searchProviders(val)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\tsearchTerm: val,\n\t\t\t\tactive: true\n\t\t\t};\n\t\t\treturn providerService.searchProviders(search, 0, 10).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tproviderNo: results[x].providerNo,\n\t\t\t\t\t\t\tname: results[x].firstName + ' ' + results[x].lastName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\t\tcontroller.updateProviderNo = function updateProviderNo(item, model, label)\n\t\t{\n\t\t\tcontroller.params.providerNo = model;\n\t\t\tcontroller.data.providerNo = label;\n\t\t};\n\n\t\tcontroller.generateReport = function generateReport()\n\t\t{\n\t\t\tvar p = controller.params;\n\t\t\tif (p.type === 'all' || p.type === 'all-nr')\n\t\t\t{\n\t\t\t\tvar startDate = $filter('date')(p.startDate, 'yyyy-MM-dd');\n\t\t\t\tvar endDate = $filter('date')(p.endDate, 'yyyy-MM-dd');\n\n\t\t\t\tvar startTime = $filter('date')(p.startTime, 'HH:mm');\n\t\t\t\tvar endTime = $filter('date')(p.endTime, 'HH:mm');\n\n\t\t\t\tvar url = '../report/reportdaysheet.jsp?dsmode=all&provider_no=' + (p.providerNo === '' ? '*' : p.providerNo) + '&sdate=' + startDate + '&edate=' + endDate + '&sTime=' + startTime + '&eTime=' + endTime;\n\n\t\t\t\tif (p.type === 'all-nr')\n\t\t\t\t{\n\t\t\t\t\turl += '&rosteredStatus=true';\n\t\t\t\t}\n\n\t\t\t\twindow.open(url, 'report_daysheet', 'height=900,width=700');\n\t\t\t}\n\n\t\t\tif (p.type === 'new')\n\t\t\t{\n\t\t\t\tvar startDate = $filter('date')(p.startDate, 'yyyy-MM-dd');\n\t\t\t\tvar url = '../report/reportdaysheet.jsp?dsmode=new&provider_no=' + (p.providerNo === '' ? '*' : p.providerNo) + '&sdate=' + startDate;\n\t\t\t\twindow.open(url, 'report_daysheet', 'height=900,width=700');\n\t\t\t}\n\t\t\tif (p.type === 'lab')\n\t\t\t{\n\t\t\t\tvar startDate = $filter('date')(p.startDate, 'yyyy-MM-dd');\n\t\t\t\tvar url = '../report/printLabDaySheetAction.do?xmlStyle=labDaySheet.xml&input_date=' + startDate;\n\t\t\t\twindow.open(url, 'report_daysheet', 'height=900,width=700');\n\n\t\t\t}\n\t\t\tif (p.type === 'billing')\n\t\t\t{\n\t\t\t\tvar startDate = $filter('date')(p.startDate, 'yyyy-MM-dd');\n\t\t\t\tvar url = '../report/printLabDaySheetAction.do?xmlStyle=billDaySheet.xml&input_date=' + startDate;\n\t\t\t\twindow.open(url, 'report_daysheet', 'height=900,width=700');\n\t\t\t}\n\t\t\tif (p.type === 'tab')\n\t\t\t{\n\t\t\t\tvar startDate = $filter('date')(p.startDate, 'yyyy-MM-dd');\n\t\t\t\tvar url = '../report/tabulardaysheetreport.jsp?provider_no=' + (p.providerNo === '' ? '*' : p.providerNo) + '&sdate=' + startDate;\n\t\t\t\twindow.open(url, 'report_daysheet', 'height=900,width=700');\n\t\t\t}\n\t\t};\n\n\t\tcontroller.reset = function reset()\n\t\t{\n\t\t\tcontroller.params = {\n\t\t\t\tproviderNo: '',\n\t\t\t\ttype: '',\n\t\t\t\tstartDate: new Date(),\n\t\t\t\tendDate: new Date(),\n\t\t\t\tstartTime: null,\n\t\t\t\tendTime: null\n\t\t\t};\n\t\t};\n\t}\n]);","angular.module('Report').controller('Report.ReportBadAppointmentSheetController', [\n\n\t'$scope',\n\t'$log',\n\t'providerService',\n\t'$filter',\n\n\tfunction(\n\t\t$scope,\n\t\t$log,\n\t\tproviderService,\n\t\t$filter)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.params = {\n\t\t\tproviderNo: '',\n\t\t\tstartDate: new Date()\n\t\t};\n\n\t\tcontroller.searchProviders = function searchProviders(val)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\tsearchTerm: val,\n\t\t\t\tactive: true\n\t\t\t};\n\t\t\treturn providerService.searchProviders(search, 0, 10).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tproviderNo: results[x].providerNo,\n\t\t\t\t\t\t\tname: results[x].firstName + ' ' + results[x].lastName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\t\tcontroller.updateProviderNo = function updateProviderNo(item, model, label)\n\t\t{\n\t\t\tcontroller.params.providerNo = model;\n\t\t\tcontroller.params.name = label;\n\t\t};\n\n\t\tcontroller.generateReport = function generateReport()\n\t\t{\n\t\t\tvar p = controller.params;\n\t\t\tvar startDate = $filter('date')(p.startDate, 'yyyy-MM-dd');\n\n\t\t\tvar url = '../report/reportapptsheet.jsp?dsmode=all&provider_no=' + p.providerNo + '&sdate=' + startDate;\n\t\t\twindow.open(url, 'report_badApptSheet', 'height=900,width=700');\n\t\t};\n\t}\n]);","// Figure out what to do with this. \nangular.module('oscarProviderViewModule').factory('ReportNavigation', [ '$rootScope', function($rootScope)\n{\n\treturn {\n\t\tlocation: '',\n\n\t\tload: function(msg)\n\t\t{\n\t\t\tthis.location = msg;\n\t\t}\n\t};\n}]);\n\nangular.module('Report').controller('Report.ReportsController', [\n\n\t'$scope',\n\t'$state',\n\t'$filter',\n\t'$log',\n\t'ReportNavigation',\n\n\tfunction(\n\t\t$scope,\n\t\t$state,\n\t\t$filter,\n\t\t$log,\n\t\tReportNavigation)\n\t{\n\n\t\tvar controller = this;\n\n\t\t$scope.$emit('configureShowPatientList', false);\n\n\t\tcontroller.reports = [\n\t\t\t{\n\t\t\t\tname: 'Daysheets',\n\t\t\t\ttemplateUrl: 'src/report/report_daysheet.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Active Patients',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../report/reportactivepatientlist.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Old Patients',\n\t\t\t\ttemplateUrl: 'src/report/report_oldPatients.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Patient Chart List',\n\t\t\t\ttemplateUrl: 'src/report/report_patientChartList.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'EDB List',\n\t\t\t\ttemplateUrl: 'src/report/report_edb_list.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Bad Appointments',\n\t\t\t\ttemplateUrl: 'src/report/report_badAppointments.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'No Show Appointments',\n\t\t\t\ttemplateUrl: 'src/report/report_noShowAppointments.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Consultations',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../oscarReport/ConsultationReport.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Lab Requisitions',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../oscarReport/LabReqReport.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Preventions',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../oscarPrevention/PreventionReporting.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Injections',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../oscarReport/InjectionReport2.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Demographic Report Tool',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../oscarReport/ReportDemographicReport.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Patient Study List',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../report/demographicstudyreport.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Chronic Disease Management',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../oscarReport/oscarMeasurements/SetupSelectCDMReport.do'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Waiting List',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../oscarWaitingList/SetupDisplayWaitingList.do?waitingListId='\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Forms',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../report/reportFormRecord.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Clinical',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../report/ClinicalReports.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'SCBP demographic Report',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../report/reportBCARDemo.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Report By Template',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../oscarReport/reportByTemplate/homePage.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'General Forms',\n\t\t\t\tgroup: 'CAISI',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../PMmodule/ClientManager.do?method=getGeneralFormsReport'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Registration Intake',\n\t\t\t\tgroup: 'CAISI',\n\t\t\t\ttemplateUrl: 'src/report/report_registration_intake.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Follow-up Intake',\n\t\t\t\tgroup: 'CAISI',\n\t\t\t\ttemplateUrl: 'src/report/report_followup_intake.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Activity Report',\n\t\t\t\tgroup: 'CAISI',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../PMmodule/Reports/ProgramActivityReport.do'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'UCF Report',\n\t\t\t\tgroup: 'CAISI',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../SurveyManager.do?method=reportForm'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'SH Mental Health Report',\n\t\t\t\tgroup: 'CAISI',\n\t\t\t\ttemplateUrl: 'src/report/report_sh_mental_health.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'OSIS Report',\n\t\t\t\tgroup: 'Public Health',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../oscarReport/OSISReport.jsp'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'One Time Consult CDS Report',\n\t\t\t\tgroup: 'Public Health',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../oscarReport/CDSOneTimeConsultReport.jsp'\n\t\t\t},\n\n\t\t];\n\n\t\tcontroller.init = function init()\n\t\t{\n\t\t\tcontroller.reportGroup = \"\";\n\t\t\tcontroller.reportGroups = controller.getReportGroups();\n\t\t\tcontroller.reportSidebar = ReportNavigation;\n\t\t\tcontroller.test = controller.reportSidebar.url;\n\t\t};\n\n\t\tcontroller.editDemographicSet = function editDemographicSet()\n\t\t{\n\t\t\tcontroller.selectReport(\n\t\t\t{\n\t\t\t\tname: 'Demographic Set Edit',\n\t\t\t\ttemplateUrl: 'src/report/report_iframe.jsp',\n\t\t\t\tiframeUrl: '../oscarReport/demographicSetEdit.jsp'\n\t\t\t});\n\t\t};\n\n\t\tcontroller.getReports = function getReports()\n\t\t{\n\t\t\tif (controller.reportGroup != null && controller.reportGroup.length > 0)\n\t\t\t{\n\t\t\t\tvar filtered = $filter('filter')(controller.reports,\n\t\t\t\t{\n\t\t\t\t\tgroup: controller.reportGroup\n\t\t\t\t});\n\t\t\t\treturn filtered;\n\n\t\t\t}\n\t\t\treturn controller.reports;\n\t\t};\n\n\t\tcontroller.getReportGroups = function getReportGroups()\n\t\t{\n\t\t\tvar groups = [\n\t\t\t{\n\t\t\t\tvalue: '',\n\t\t\t\tlabel: 'All Groups'\n\t\t\t}];\n\t\t\tvar groupMap = {};\n\n\t\t\tfor (var i = 0; i < controller.reports.length; i++)\n\t\t\t{\n\t\t\t\tif (controller.reports[i].group != null)\n\t\t\t\t{\n\t\t\t\t\tgroupMap[controller.reports[i].group] = controller.reports[i].group;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var key in groupMap)\n\t\t\t{\n\t\t\t\tgroups.push(\n\t\t\t\t{\n\t\t\t\t\tvalue: key,\n\t\t\t\t\tlabel: key\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn groups;\n\t\t};\n\n\t\tcontroller.selectReport = function selectReport(report)\n\t\t{\n\t\t\tcontroller.currentReport = report;\n\n\t\t\tif (report.direct === true)\n\t\t\t{\n\t\t\t\twindow.open(report.window.url, report.name, 'width=' + report.window.width + '&height=' + report.window.height);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tReportNavigation.load(report.templateUrl);\n\t\t\t}\n\t\t};\n\n\n\t\t// controller.selectReport(controller.reports[0]);\n\n\t\t// controller.openReportWindow = function openReportWindow(url, name)\n\t\t// {\n\t\t// \twindow.open(url, name, 'height=900,width=700');\n\t\t// };\n\t}\n]);","'use strict';\n\nangular.module('Report', ['Common', 'Common.Services']);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module('Patient.Search').controller('Patient.Search.RemotePatientResultsController', [\n\n\t'$http',\n\t'$scope',\n\t'$uibModalInstance',\n\t'results',\n\t'total',\n\n\tfunction(\n\t\t$http,\n\t\t$scope,\n\t\t$uibModalInstance,\n\t\tresults,\n\t\ttotal)\n\t{\n\t\t$scope.results = results;\n\t\t$scope.total = total;\n\n\t\t$scope.currentPage = 1;\n\t\t$scope.pageSize = 5;\n\t\t$scope.startIndex = 0;\n\n\n\t\t$scope.close = function close()\n\t\t{\n\t\t\t$uibModalInstance.close(\"Someone Closed Me\");\n\t\t};\n\n\t\t$scope.doImport = function doImport(d)\n\t\t{\n\t\t\tvar myUrl = '../appointment/copyRemoteDemographic.jsp?remoteFacilityId=' + d.remoteFacilityId + '&demographic_no=' + d.demographicNo;\n\t\t\twindow.open(myUrl, \"ImportDemo\", \"width=700, height=1027\");\n\t\t};\n\n\t\t$scope.save = function save()\n\t\t{\n\t\t\t$uibModalInstance.close(\"Someone Saved Me\");\n\t\t};\n\n\t\t$scope.prevPage = function prevPage()\n\t\t{\n\t\t\tif ($scope.startIndex == 0)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$scope.currentPage--;\n\t\t\t$scope.startIndex = ($scope.currentPage - 1) * $scope.pageSize;\n\n\t\t};\n\n\t\t$scope.nextPage = function nextPage()\n\t\t{\n\t\t\tif ($scope.startIndex + $scope.pageSize > $scope.total)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$scope.currentPage++;\n\t\t\t$scope.startIndex = ($scope.currentPage - 1) * $scope.pageSize;\n\t\t};\n\n\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module('Patient.Search').controller('Patient.Search.PatientSearchController', [\n\n\t'$q',\n\t'$state',\n\t'$stateParams',\n\t'$uibModal',\n\t'NgTableParams',\n\t'securityService',\n\t'demographicsService',\n\n\tfunction(\n\t\t$q,\n\t\t$state,\n\t\t$stateParams,\n\t\t$uibModal,\n\t\tNgTableParams,\n\t\tsecurityService,\n\t\tdemographicsService)\n\t{\n\t\tvar controller = {};\n\n\t\t//=========================================================================\n\t\t// Initialization\n\t\t//=========================================================================\n\n\t\tcontroller.demographicReadAccess = null;\n\t\tcontroller.search = null;\n\n\t\tcontroller.init = function init()\n\t\t{\n\t\t\tcontroller.clearParams();\n\t\t\tif (Juno.Common.Util.exists($stateParams.term))\n\t\t\t{\n\t\t\t\tcontroller.search.term = $stateParams.term;\n\t\t\t}\n\n\t\t\tsecurityService.hasRights(\n\t\t\t{\n\t\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\tobjectName: '_demographic',\n\t\t\t\t\tprivilege: 'r'\n\t\t\t\t}]\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif (Juno.Common.Util.exists(results.content) && results.content.length === 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.demographicReadAccess = results.content[0];\n\t\t\t\t\t\tif (controller.demographicReadAccess)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontroller.initTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log('failed to load rights', results);\n\t\t\t\t\t\tcontroller.demographicReadAccess = false;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\tcontroller.demographicReadAccess = false;\n\t\t\t\t});\n\t\t};\n\n\t\t//=========================================================================\n\t\t// Methods\n\t\t//=========================================================================\n\n\t\tcontroller.initTable = function initTable()\n\t\t{\n\t\t\tcontroller.tableParams = new NgTableParams(\n\t\t\t{\n\t\t\t\tpage: 1,\n\t\t\t\tcount: 10,\n\t\t\t\tsorting:\n\t\t\t\t{\n\t\t\t\t\tName: 'asc'\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tgetData: function(params)\n\t\t\t\t{\n\t\t\t\t\tvar deferred = $q.defer();\n\n\t\t\t\t\tvar count = params.url().count;\n\t\t\t\t\tvar page = params.url().page;\n\n\t\t\t\t\tcontroller.search.params = params.url();\n\n\t\t\t\t\tvar promiseArray = [];\n\t\t\t\t\tpromiseArray.push(demographicsService.search(\n\t\t\t\t\t\tcontroller.search, ((page - 1) * count), count));\n\n\t\t\t\t\tcontroller.integratorResults = null;\n\t\t\t\t\tif (controller.search.integrator)\n\t\t\t\t\t{\n\t\t\t\t\t\tpromiseArray.push(demographicsService.searchIntegrator(\n\t\t\t\t\t\t\tcontroller.search, 100));\n\t\t\t\t\t}\n\n\t\t\t\t\t$q.all(promiseArray).then(\n\t\t\t\t\t\tfunction success(results)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar demographicSearchResults = results[0];\n\t\t\t\t\t\t\tparams.total(demographicSearchResults.total);\n\n\t\t\t\t\t\t\tif (controller.search.integrator)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontroller.integratorResults = results[1];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdeferred.resolve(demographicSearchResults.content);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction error(promiseErrors)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log('patient search failed', promiseErrors);\n\t\t\t\t\t\t\tdeferred.reject();\n\t\t\t\t\t\t});\n\n\t\t\t\t\treturn deferred.promise;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tcontroller.searchPatients = function searchPatients()\n\t\t{\n\t\t\tif (controller.search.type === \"DOB\")\n\t\t\t{\n\t\t\t\tvar dobMoment = moment(controller.search.term, [\"YYYY-MM-DD\", \"YYYY/MM/DD\"], true);\n\t\t\t\tif (dobMoment.isValid())\n\t\t\t\t{\n\t\t\t\t\tcontroller.search.term = dobMoment.format(\"YYYY-MM-DD\");\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\talert(\"Please enter Date of Birth in format YYYY-MM-DD.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// reset to page 1 for new searches\n\t\t\tcontroller.tableParams.page(1);\n\t\t\tcontroller.tableParams.reload();\n\t\t};\n\n\t\tcontroller.clearParams = function(searchType)\n\t\t{\n\t\t\t// default search type\n\t\t\tif (!Juno.Common.Util.exists(searchType))\n\t\t\t{\n\t\t\t\tsearchType = 'Name';\n\t\t\t}\n\n\t\t\t// reset the parameters\n\t\t\tcontroller.search = {\n\t\t\t\ttype: searchType,\n\t\t\t\tterm: '',\n\t\t\t\tstatus: \"all\",\n\t\t\t\tintegrator: false,\n\t\t\t\toutofdomain: true\n\t\t\t};\n\n\t\t\t// update the placeholder\n\t\t\tcontroller.searchTermPlaceHolder = (controller.search.type === \"DOB\") ?\n\t\t\t\t\"YYYY-MM-DD\" : \"Search Term\";\n\n\t\t\t// do the search (if initialized)\n\t\t\tif (Juno.Common.Util.exists(controller.tableParams))\n\t\t\t{\n\t\t\t\tcontroller.tableParams.page(1);\n\t\t\t\tcontroller.tableParams.reload();\n\t\t\t}\n\t\t};\n\n\t\tcontroller.toggleParam = function toggleParam(param)\n\t\t{\n\t\t\tif (['integrator', 'outofdomain'].indexOf(param) > -1)\n\t\t\t{\n\t\t\t\tcontroller.search[param] = !controller.search[param];\n\t\t\t}\n\t\t};\n\n\t\tcontroller.loadRecord = function loadRecord(demographicNo)\n\t\t{\n\t\t\t$state.go('record.details',\n\t\t\t{\n\t\t\t\tdemographicNo: demographicNo,\n\t\t\t\thideNote: true\n\t\t\t});\n\t\t};\n\n\t\tcontroller.showIntegratorResults = function showIntegratorResults()\n\t\t{\n\t\t\tvar results = [];\n\t\t\tvar total = 0;\n\n\t\t\tif (Juno.Common.Util.exists(controller.integratorResults))\n\t\t\t{\n\t\t\t\tresults = controller.integratorResults.content;\n\t\t\t\ttotal = controller.integratorResults.total;\n\t\t\t}\n\n\t\t\t$uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: 'src/patientsearch/remotePatientResults.jsp',\n\t\t\t\tcontroller: 'RemotePatientResultsController',\n\t\t\t\tresolve:\n\t\t\t\t{\n\t\t\t\t\tresults: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t},\n\t\t\t\t\ttotal: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn total;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\treturn controller;\n\t}\n]);","'use strict';\n\nangular.module('Patient.Search', [ 'Common.Services' ]);\n","angular.module('Inbox').controller('Inbox.InboxController', [\n\n\t'$scope',\n\t'$http',\n\n\tfunction(\n\t\t$scope,\n\t\t$http) {\n\n\t}\n]);","'use strict';\n\nangular.module('Inbox', []);","angular.module('Consults').controller('Consults.ConsultResponseController', [\n\n\t'$scope',\n\t'$http',\n\t'$resource',\n\t'$location',\n\t'$uibModal',\n\t'consultService',\n\t'demographicService',\n\t'securityService',\n\t'summaryService',\n\t'staticDataService',\n\t'consult',\n\t'user',\n\n\tfunction(\n\t\t$scope,\n\t\t$http,\n\t\t$resource,\n\t\t$location,\n\t\t$uibModal,\n\t\tconsultService,\n\t\tdemographicService,\n\t\tsecurityService,\n\t\tsummaryService,\n\t\tstaticDataService,\n\t\tconsult,\n\t\tuser)\n\t{\n\n\t\tvar controller = this;\n\n\t\t//get access rights\n\t\tsecurityService.hasRight(\"_con\", \"r\").then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.consultReadAccess = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\t\tsecurityService.hasRight(\"_con\", \"u\").then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.consultUpdateAccess = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\t\tsecurityService.hasRight(\"_con\", \"w\").then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.consultWriteAccess = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\tcontroller.consult = consult;\n\t\tconsult.letterheadList = Juno.Common.Util.toArray(consult.letterheadList);\n\t\tconsult.referringDoctorList = Juno.Common.Util.toArray(consult.referringDoctorList);\n\t\tconsult.faxList = Juno.Common.Util.toArray(consult.faxList);\n\t\tconsult.sendToList = Juno.Common.Util.toArray(consult.sendToList);\n\n\t\t//set attachments\n\t\tconsult.attachments = Juno.Common.Util.toArray(consult.attachments);\n\t\tJuno.Consults.Common.sortAttachmentDocs(consult.attachments);\n\n\t\t//set default letterhead\n\t\tif (consult.letterheadName == null)\n\t\t{\n\t\t\tfor (var i = 0; i < consult.letterheadList.length; i++)\n\t\t\t{\n\t\t\t\tif (consult.letterheadList[i].id == user.providerNo)\n\t\t\t\t{\n\t\t\t\t\tconsult.letterheadName = consult.letterheadList[i].id;\n\t\t\t\t\tconsult.letterheadAddress = consult.letterheadList[i].address;\n\t\t\t\t\tconsult.letterheadPhone = consult.letterheadList[i].phone;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//set default fax if there's only 1\n\t\tif (consult.letterheadFax == null && consult.faxList.length == 1)\n\t\t{\n\t\t\tconsult.letterheadFax = consult.faxList[0].faxNumber;\n\t\t}\n\n\t\t//show referringDoctor in list\n\t\tangular.forEach(consult.referringDoctorList, function(referringDoc)\n\t\t{\n\t\t\tif(consult.referringDoctor !== null)\n\t\t\t{\n\t\t\t\tif (referringDoc.id === consult.referringDoctor.id)\n\t\t\t\t{\n\t\t\t\t\tconsult.referringDoctor = referringDoc;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//set patient cell phone\n\t\tconsult.demographic.extras = Juno.Common.Util.toArray(consult.demographic.extras);\n\t\tfor (var i = 0; i < consult.demographic.extras.length; i++)\n\t\t{\n\t\t\tif (consult.demographic.extras[i].key == \"demo_cell\")\n\t\t\t{\n\t\t\t\tconsult.demographic.cellPhone = consult.demographic.extras[i].value;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tcontroller.urgencies = staticDataService.getConsultUrgencies();\n\t\tcontroller.statuses = staticDataService.getConsultResponseStatuses();\n\t\tcontroller.hours = staticDataService.getHours();\n\t\tcontroller.minutes = staticDataService.getMinutes();\n\n\t\tcontroller.parseTime = function parseTime(time)\n\t\t{\n\t\t\tvar tArray = time.split(\":\");\n\t\t\tconsult.appointmentHour = tArray[0];\n\t\t\tconsult.appointmentMinute = tArray[1];\n\t\t};\n\t\t/* If appointment time is present, we must parse the hours and minutes in order to\n\t\t   populate the hour and minute selectors */\n\t\tif (consult.appointmentTime !== null)\n\t\t{\n\t\t\tcontroller.parseTime(consult.appointmentTime);\n\n\t\t}\n\n\t\t//monitor data changed\n\t\tcontroller.consultChanged = -1;\n\t\t$scope.$watchCollection(function()\n\t\t\t{\n\t\t\t\treturn controller.consult;\n\t\t\t}, function()\n\t\t\t{\n\t\t\t\tcontroller.consultChanged++;\n\t\t\t});\n\n\t\t//remind user of unsaved data\n\t\t$scope.$on(\"$stateChangeStart\", function(event)\n\t\t{\n\t\t\tif (controller.consultChanged > 0)\n\t\t\t{\n\t\t\t\tvar discard = confirm(\"You may have unsaved data. Are you sure to leave?\");\n\t\t\t\tif (!discard) event.preventDefault();\n\t\t\t}\n\t\t});\n\n\t\tcontroller.changeLetterhead = function changeLetterhead()\n\t\t{\n\t\t\tvar index = $(\"#letterhead\").selectedIndex;\n\t\t\tif (index == null) return;\n\n\t\t\tconsult.letterheadAddress = consult.letterheadList[index].address;\n\t\t\tconsult.letterheadPhone = consult.letterheadList[index].phone;\n\t\t};\n\n\t\tcontroller.writeToBox = function writeToBox(data, boxId)\n\t\t{\n\t\t\tvar items = Juno.Common.Util.toArray(data.summaryItem);\n\t\t\tvar boxData = null;\n\t\t\tfor (var i = 0; i < items.length; i++)\n\t\t\t{\n\t\t\t\tboxData = Juno.Common.Util.addNewLine(items[i].displayName, boxData);\n\t\t\t}\n\t\t\tif (boxId == \"clinicalInfo\") consult.clinicalInfo = Juno.Common.Util.addNewLine(boxData, consult.clinicalInfo);\n\t\t\telse if (boxId == \"concurrentProblems\") consult.concurrentProblems = Juno.Common.Util.addNewLine(boxData, consult.concurrentProblems);\n\t\t\telse if (boxId == \"currentMeds\") consult.currentMeds = Juno.Common.Util.addNewLine(boxData, consult.currentMeds);\n\t\t};\n\n\t\tcontroller.getFamilyHistory = function getFamilyHistory(boxId)\n\t\t{\n\t\t\tsummaryService.getFamilyHistory(consult.demographic.demographicNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.summaryItem.length === 0)\n\t\t\t\t\t\talert(\"No family history\");\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error grabbing family history!\");\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\t\tcontroller.getMedicalHistory = function getMedicalHistory(boxId)\n\t\t{\n\t\t\tsummaryService.getMedicalHistory(consult.demographic.demographicNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.summaryItem.length === 0)\n\t\t\t\t\t\talert(\"No medical history\");\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error grabbing medical history!\");\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\t\tcontroller.getSocialHistory = function getSocialHistory(boxId)\n\t\t{\n\t\t\tsummaryService.getSocialHistory(consult.demographic.demographicNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.summaryItem.length === 0)\n\t\t\t\t\t\talert(\"No social history\");\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error grabbing social history!\");\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\t\tcontroller.getOngoingConcerns = function getOngoingConcerns(boxId)\n\t\t{\n\t\t\tsummaryService.getOngoingConcerns(consult.demographic.demographicNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.summaryItem.length === 0)\n\t\t\t\t\t\talert(\"No ongoing concerns\");\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error grabbing ongoing concerns!\");\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\t\tcontroller.getOtherMeds = function getOtherMeds(boxId)\n\t\t{\n\t\t\tsummaryService.getOtherMeds(consult.demographic.demographicNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.summaryItem.length === 0)\n\t\t\t\t\t\talert(\"No other meds\");\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error grabbing other meds!\");\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\t\tcontroller.getReminders = function getReminders(boxId)\n\t\t{\n\t\t\tsummaryService.getReminders(consult.demographic.demographicNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.summaryItem.length === 0)\n\t\t\t\t\t\talert(\"No reminders\");\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error grabbing reminders!\");\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.invalidData = function invalidData()\n\t\t{\n\t\t\tif (!controller.consult.urgency)\n\t\t\t{\n\t\t\t\talert(\"Please select an Urgency\");\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (!controller.consult.letterheadName)\n\t\t\t{\n\t\t\t\talert(\"Please select a Letterhead\");\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (Juno.Common.Util.isUndefinedOrNull(controller.consult.referringDoctor))\n\t\t\t{\n\t\t\t\talert(\"Please select a Referring Doctor\");\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (!controller.consult.demographic || controller.consult.demographic === \"\")\n\t\t\t{\n\t\t\t\talert(\"Error! Invalid patient!\");\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\tcontroller.setAppointmentTime = function setAppointmentTime()\n\t\t{\n\t\t\tif (consult.appointmentHour !== null && consult.appointmentMinute !== null)\n\t\t\t{\n\t\t\t\tapptTime = moment(Date.now());\n\t\t\t\tapptTime.set('hours', consult.appointmentHour);\n\t\t\t\tapptTime.set('minute', consult.appointmentMinute);\n\t\t\t\tconsult.appointmentTime = apptTime;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconsult.appointmentTime = null;\n\t\t\t}\n\t\t};\n\n\t\tcontroller.openAttach = function openAttach(attachment)\n\t\t{\n\t\t\twindow.open(\"../\" + attachment.url);\n\t\t};\n\n\t\tcontroller.attachFiles = function attachFiles()\n\t\t{\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: \"src/consults/consultAttachment.jsp\",\n\t\t\t\tcontroller: \"Consults.ConsultResponseAttachmentController as consultAttachmentCtrl\",\n\t\t\t\twindowClass: \"attachment-modal-window\",\n\t\t\t\tbackdrop: \"static\",\n\t\t\t\tresolve:\n\t\t\t\t{\n\t\t\t\t\tconsult: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn consult;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmodalInstance.result.then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif (consult.attachmentsChanged)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.consultChanged++;\n\t\t\t\t\t\tconsult.attachmentsChanged = false;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.save = function save()\n\t\t{\n\t\t\tif (!controller.consultWriteAccess && consult.id == null)\n\t\t\t{\n\t\t\t\talert(\"You don't have right to save new consult\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!controller.consultUpdateAccess)\n\t\t\t{\n\t\t\t\talert(\"You don't have right to update consult\");\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (controller.invalidData()) return false;\n\n\t\t\tcontroller.consultSaving = true; //show saving banner\n\t\t\tcontroller.setAppointmentTime();\n\n\t\t\tconsultService.saveResponse(consult).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\t//update url for new consultation\n\t\t\t\t\tif (consult.id === null) {\n\t\t\t\t\t\t$location.path(\"/record/\" + consult.demographic.demographicNo + \"/consultResponse/\" + results.body.id);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t\tcontroller.consultSaving = false; //hide saving banner\n\t\t\tcontroller.consultChanged = -1; //reset change count\n\t\t\treturn true;\n\t\t};\n\n\t\tcontroller.close = function close()\n\t\t{\n\t\t\tif ($location.search().list === \"patient\") $location.path(\"/record/\" + consult.demographic.demographicNo + \"/consultResponses\");\n\t\t\telse $location.path(\"/consultResponses\");\n\t\t};\n\n\t\t//fax & print functions\n\t\tvar p_page1 = \"<html><style>body{width:800px;font-family:arial,verdana,tahoma,helvetica,sans serif}table{width:100%}th{text-align:left;font-weight:bold;width:1;white-space:nowrap}td{vertical-align:top}label{font-weight:bold}em{font-size:small}.large{font-size:large}.center{text-align:center}</style><style media='print'>button{display:none}.noprint{display:none}</style><script>function printAttachments(url){window.open('../'+url);}</script><body>\";\n\n\t\tcontroller.sendFax = function sendFax()\n\t\t{\n\t\t\tvar p_urgency = Juno.Common.Util.toTrimmedString(controller.urgencies[$(\"#urgency\").val()].name);\n\t\t\tvar p_letterheadName = Juno.Common.Util.toTrimmedString(consult.letterheadList[$(\"#letterhead\").val()].name);\n\t\t\tvar p_page2 = Juno.Common.Util.getPrintPage2(p_urgency, p_letterheadName, consult, user);\n\n\t\t\tvar consultResponsePage = encodeURIComponent(p_page1 + p_page2);\n\t\t\tvar reqId = consult.id;\n\t\t\tvar demographicNo = consult.demographic.demographicNo;\n\t\t\tvar letterheadFax = Juno.Common.Util.toTrimmedString(consult.letterheadFax);\n\t\t\tvar fax = Juno.Common.Util.toTrimmedString(consult.referringDoctor.faxNumber);\n\n\t\t\twindow.open(\"../fax/CoverPage.jsp?consultResponsePage=\" + consultResponsePage + \"&reqId=\" + reqId + \"&demographicNo=\" + demographicNo + \"&letterheadFax=\" + letterheadFax + \"&fax=\" + fax);\n\t\t};\n\n\t\tcontroller.printPreview = function printPreview()\n\t\t{\n\t\t\tif (controller.invalidData()) return;\n\n\t\t\tvar printWin = window.open(\"\", \"consultResponsePrintWin\", \"width=830,height=900,scrollbars=yes,location=no\");\n\t\t\tprintWin.document.open();\n\n\t\t\tvar p_buttons = \"<button onclick='window.print()'>Print</button><button onclick='window.close()'>Close</button>\";\n\t\t\tvar p_attachments = \"\";\n\t\t\tfor (var i = 0; i < consult.attachments.length; i++)\n\t\t\t{\n\t\t\t\tp_attachments += \"<div class='noprint'><button onclick=printAttachments('\" + consult.attachments[i].url + \"')>Print attachment</button> \" + consult.attachments[i].displayName + \"</div>\";\n\t\t\t}\n\n\t\t\tvar p_urgency = Juno.Common.Util.toTrimmedString(controller.urgencies[$(\"#urgency\").val()].name);\n\t\t\tvar p_letterheadName = Juno.Common.Util.toTrimmedString(consult.letterheadList[$(\"#letterhead\").val()].name);\n\t\t\tvar p_page2 = controller.getPrintPage2(p_urgency, p_letterheadName, consult, user);\n\n\t\t\tprintWin.document.write(p_page1 + p_buttons + p_attachments + p_page2);\n\t\t\tprintWin.document.close();\n\t\t};\n\n\t\tcontroller.getPrintPage2 = function getPrintPage2(p_urgency, p_letterheadName, consult, user)\n\t\t{\n\t\t\tvar p_clinicName = Juno.Common.Util.toTrimmedString(consult.letterheadList[0].name);\n\t\t\tvar p_responseDate = Juno.Common.Util.formatDate(consult.responseDate);\n\t\t\tvar p_referralDate = Juno.Common.Util.formatDate(consult.referralDate);\n\t\t\tvar p_letterheadAddress = Juno.Common.Util.toTrimmedString(consult.letterheadAddress);\n\t\t\tvar p_letterheadPhone = Juno.Common.Util.toTrimmedString(consult.letterheadPhone);\n\t\t\tvar p_letterheadFax = Juno.Common.Util.toTrimmedString(consult.letterheadFax);\n\t\t\tvar p_consultantName = Juno.Common.Util.toTrimmedString(consult.referringDoctor.name);\n\t\t\tvar p_consultantPhone = Juno.Common.Util.toTrimmedString(consult.referringDoctor.phoneNumber);\n\t\t\tvar p_consultantFax = Juno.Common.Util.toTrimmedString(consult.referringDoctor.faxNumber);\n\t\t\tvar p_consultantAddress = Juno.Common.Util.toTrimmedString(consult.referringDoctor.streetAddress);\n\t\t\tvar p_patientName = Juno.Common.Util.toTrimmedString(consult.demographic.lastName) + \", \" + Juno.Common.Util.toTrimmedString(consult.demographic.firstName);\n\t\t\tvar p_patientPhone = Juno.Common.Util.toTrimmedString(consult.demographic.phone);\n\t\t\tvar p_patientWorkPhone = Juno.Common.Util.toTrimmedString(consult.demographic.alternativePhone);\n\t\t\tvar p_patientBirthdate = Juno.Common.Util.formatDate(consult.demographic.dateOfBirth);\n\t\t\tvar p_patientSex = Juno.Common.Util.toTrimmedString(consult.demographic.sexDesc);\n\t\t\tvar p_patientHealthCardNo = Juno.Common.Util.toTrimmedString(consult.demographic.hin) + \"-\" + Juno.Common.Util.toTrimmedString(consult.demographic.ver);\n\t\t\tvar p_patientChartNo = Juno.Common.Util.toTrimmedString(consult.demographic.chartNo);\n\t\t\tvar p_patientAddress = \"\";\n\t\t\tif (consult.demographic.address != null)\n\t\t\t{\n\t\t\t\tp_patientAddress = Juno.Common.Util.toTrimmedString(consult.demographic.address.address) + \", \" +\n\t\t\t\t\tJuno.Common.Util.toTrimmedString(consult.demographic.address.city) + \", \" +\n\t\t\t\t\tJuno.Common.Util.toTrimmedString(consult.demographic.address.province) + \" \" +\n\t\t\t\t\tJuno.Common.Util.toTrimmedString(consult.demographic.address.postal);\n\t\t\t}\n\t\t\tvar p_appointmentDate = Juno.Common.Util.formatDate(consult.appointmentDate);\n\t\t\tvar p_appointmentTime = Juno.Common.Util.formatTime(consult.appointmentTime);\n\t\t\tvar p_reason = Juno.Common.Util.toTrimmedString(consult.reasonForReferral);\n\t\t\tvar p_examination = Juno.Common.Util.toTrimmedString(consult.examination);\n\t\t\tvar p_impression = Juno.Common.Util.toTrimmedString(consult.impression);\n\t\t\tvar p_plan = Juno.Common.Util.toTrimmedString(consult.plan);\n\t\t\tvar p_clinicalInfo = Juno.Common.Util.toTrimmedString(consult.clinicalInfo);\n\t\t\tvar p_concurrentProblems = Juno.Common.Util.toTrimmedString(consult.concurrentProblems);\n\t\t\tvar p_currentMeds = Juno.Common.Util.toTrimmedString(consult.currentMeds);\n\t\t\tvar p_allergies = Juno.Common.Util.toTrimmedString(consult.allergies);\n\t\t\tvar p_provider = Juno.Common.Util.toTrimmedString(user.lastName) + \", \" + Juno.Common.Util.toTrimmedString(user.firstName);\n\n\t\t\treturn \"<div class='center'><label class='large'>\" + p_clinicName + \"</label><br/><label>Consultation Response</label><br/></div><br/><table><tr><td><label>Date: </label>\" + p_responseDate + \"</td><td rowspan=6 width=10></td><td><label>Status: </label>\" + p_urgency + \"</td></tr><tr><td colspan=2></td></tr><tr><th>FROM:</th><th>TO:</th></tr><tr><td><p class='large'>\" + p_letterheadName + \"</p>\" + p_letterheadAddress + \"<br/><label>Tel: </label>\" + p_letterheadPhone + \"<br/><label>Fax: </label>\" + p_letterheadFax + \"</td><td><table><tr><th>Referring Doctor:</th><td>\" + p_consultantName + \"</td></tr><tr><th>Phone:</th><td>\" + p_consultantPhone + \"</td></tr><tr><th>Fax:</th><td>\" + p_consultantFax + \"</td></tr><tr><th>Address:</th><td>\" + p_consultantAddress + \"</td></tr></table></td></tr><tr><td colspan=2></td></tr><tr><td><table><tr><th>Patient:</th><td>\" + p_patientName + \"</td></tr><tr><th>Address:</th><td>\" + p_patientAddress + \"</td></tr><tr><th>Phone:</th><td>\" + p_patientPhone + \"</td></tr><tr><th>Work Phone:</th><td>\" + p_patientWorkPhone + \"</td></tr><tr><th>Birthdate:</th><td>\" + p_patientBirthdate + \"</td></tr></table></td><td><table><tr><th>Sex:</th><td>\" + p_patientSex + \"</td></tr><tr><th>Health Card No:</th><td>\" + p_patientHealthCardNo + \"</td></tr><tr><th>Appointment date:</th><td>\" + p_appointmentDate + \"</td></tr><tr><th>Appointment time:</th><td>\" + p_appointmentTime + \"</td></tr><tr><th>Chart No:</th><td>\" + p_patientChartNo + \"</td></tr></table></td></tr></table><br/><table><tr><th>Examination:</th></tr><tr><td>\" + p_examination + \"<hr></td></tr><tr><th>Impression:</th></tr><tr><td>\" + p_impression + \"<hr></td></tr><tr><th>Plan:</th></tr><tr><td>\" + p_plan + \"<hr></td></tr><tr><td></td></tr><tr><th>Reason for consultation: (Date: \" + p_referralDate + \")</th></tr><tr><td>\" + p_reason + \"<hr></td></tr><tr><th>Pertinent Clinical Information:</th></tr><tr><td>\" + p_clinicalInfo + \"<hr></td></tr><tr><th>Significant Concurrent Problems:</th></tr><tr><td>\" + p_concurrentProblems + \"<hr></td></tr><tr><th>Current Medications:</th></tr><tr><td>\" + p_currentMeds + \"<hr></td></tr><tr><th>Allergies:</th></tr><tr><td>\" + p_allergies + \"<hr></td></tr><tr><td><label>Consultant: </label>\" + p_provider + \"</td></tr><tr><td></td></tr><tr><td><div class='center'><em>Created by: OSCAR The open-source EMR www.oscarcanada.org</em></div></td></tr></table></body></html>\";\n\t\t};\n\t}\n]);\n\n/* html for fax & print, kept here for easy reference\n<html>\n<style>\n\tbody{width:800px;font-family:arial,verdana,tahoma,helvetica,sans serif}\n\ttable{width:100%}\n\tth{text-align:left;font-weight:bold;width:1;white-space:nowrap}\n\ttd{vertical-align:top}\n\tlabel{font-weight:bold}\n\tem{font-size:small}\n\t.large{font-size:large}\n\t.center{text-align:center}\n</style>\n<style media='print'>\n\tbutton{display:none}\n\t.noprint{display:none}\n</style>\n<script>\n\tfunction printAttachments(url){\n\t\twindow.open('../'+url);\n\t}\n</script>\n<body>\n\n<!-- Print preview page exclusive -->\n\t<!-- p_buttons -->\n\t<button onclick='window.print()'>Print</button>\n\t<button onclick='window.close()'>Close</button>\n\t<!-- p_buttons -->\n\n\t<!-- p_attachments, 1 or more -->\n\t<div class='noprint'>\n\t\t<button onclick=printAttachments('\"+consult.attachments[i].url+\"')>Print attachment</button> \"+consult.attachments[i].displayName+\"\n\t</div>\n\t<!-- p_attachments -->\n<!-- Print preview page exclusive -->\n\n\t<div class='center'>\n\t\t<label class='large'>\"+p_clinicName+\"</label><br/>\n\t\t<label>Consultation Response</label><br/>\n\t</div>\n\t<br/>\n\t<table>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<label>Date: </label>\"+p_responseDate+\"\n\t\t\t</td>\n\t\t\t<td rowspan=6 width=10></td>\n\t\t\t<td>\n\t\t\t\t<label>Status: </label>\"+p_urgency+\"\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr><td colspan=2></td></tr>\n\t\t<tr>\n\t\t\t<th>FROM:</th>\n\t\t\t<th>TO:</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<p class='large'>\"+p_letterheadName+\"</p>\n\t\t\t\t\"+p_letterheadAddress+\"<br/>\n\t\t\t\t<label>Tel: </label>\"+p_letterheadPhone+\"<br/>\n\t\t\t\t<label>Fax: </label>\"+p_letterheadFax+\"\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<table>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Referring Doctor:</th>\n\t\t\t\t\t\t<td>\"+p_consultantName+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Phone:</th>\n\t\t\t\t\t\t<td>\"+p_consultantPhone+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Fax:</th>\n\t\t\t\t\t\t<td>\"+p_consultantFax+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Address:</th>\n\t\t\t\t\t\t<td>\"+p_consultantAddress+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr><td colspan=2></td></tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<table>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Patient:</th>\n\t\t\t\t\t\t<td>\"+p_patientName+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Address:</th>\n\t\t\t\t\t\t<td>\"+p_patientAddress+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Phone:</th>\n\t\t\t\t\t\t<td>\"+p_patientPhone+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Work Phone:</th>\n\t\t\t\t\t\t<td>\"+p_patientWorkPhone+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Birthdate:</th>\n\t\t\t\t\t\t<td>\"+p_patientBirthdate+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<table>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Sex:</th>\n\t\t\t\t\t\t<td>\"+p_patientSex+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Health Card No:</th>\n\t\t\t\t\t\t<td>\"+p_patientHealthCardNo+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Appointment date:</th>\n\t\t\t\t\t\t<td>\"+p_appointmentDate+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Appointment time:</th>\n\t\t\t\t\t\t<td>\"+p_appointmentTime+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Chart No:</th>\n\t\t\t\t\t\t<td>\"+p_patientChartNo+\"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</td>\n\t\t</tr>\n\t</table>\n\t<br/>\n\t<table>\n\t\t<tr><th>Examination:</th></tr>\n\t\t<tr><td>\"+p_examination+\"<hr></td></tr>\n\t\t<tr><th>Impression:</th></tr>\n\t\t<tr><td>\"+p_impression+\"<hr></td></tr>\n\t\t<tr><th>Plan:</th></tr>\n\t\t<tr><td>\"+p_plan+\"<hr></td></tr>\n\t\t<tr><td></td></tr>\n\t\t<tr><th>Reason for consultation: (Date: \"+p_referralDate+\")</th></tr>\n\t\t<tr><td>\"+p_reason+\"<hr></td></tr>\n\t\t<tr><th>Pertinent Clinical Information:</th></tr>\n\t\t<tr><td>\"+p_clinicalInfo+\"<hr></td></tr>\n\t\t<tr><th>Significant Concurrent Problems:</th></tr>\n\t\t<tr><td>\"+p_concurrentProblems+\"<hr></td></tr>\n\t\t<tr><th>Current Medications:</th></tr>\n\t\t<tr><td>\"+p_currentMeds+\"<hr></td></tr>\n\t\t<tr><th>Allergies:</th></tr>\n\t\t<tr><td>\"+p_allergies+\"<hr></td></tr>\n\t\t<tr><td><label>Consultant: </label>\"+p_provider+\"</td></tr>\n\t\t<tr><td></td></tr>\n\t\t<tr><td><div class='center'><em>Created by: OSCAR The open-source EMR www.oscarcanada.org</em></div></td></tr>\n\t</table>\n</body>\n</html>\n*/","angular.module('Consults').controller('Consults.ConsultResponseListController', [\n\n\t'$scope',\n\t'$timeout',\n\t'$state',\n\t'$location',\n\t'NgTableParams',\n\t'consultService',\n\t'providerService',\n\t'demographicService',\n\t'demographicsService',\n\t'securityService',\n\t'staticDataService',\n\n\tfunction(\n\t\t$scope,\n\t\t$timeout,\n\t\t$state,\n\t\t$location,\n\t\tNgTableParams,\n\t\tconsultService,\n\t\tproviderService,\n\t\tdemographicService,\n\t\tdemographicsService,\n\t\tsecurityService,\n\t\tstaticDataService)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.onRecordPage = false;\n\t\tcontroller.demographicNo = null;\n\t\tcontroller.statuses = staticDataService.getConsultResponseStatuses(); \t//set search statuses\n\t\tcontroller.urgencies = staticDataService.getConsultUrgencies(); //get urgencies list\n\t\tcontroller.lastResponse = \"\";\n\t\tcontroller.teams = [];\n\t\tcontroller.consult = {};\n\n\t\tvar allTeams = \"All Teams\";\n\t\tcontroller.search = {\n\t\t\tteam: allTeams,\n\t\t\tstartIndex: 0,\n\t\t\tnumToReturn: 10\n\t\t};\n\n\n\n\t\t// Initialize the controller\n\t\tcontroller.init = function init()\n\t\t{\n\t\t\tif($state.params.demographicNo){\n\t\t\t\tcontroller.demographicNo = parseInt($state.params.demographicNo);\n\t\t\t\tcontroller.onRecordPage = true;\n\t\t\t\tcontroller.search.list = \"patient\";\n\t\t\t}\n\n\t\t\tcontroller.getAccessRights();\n\t\t\tcontroller.getTeams();\n\t\t};\n\n\t\tcontroller.getAccessRights = function getAccessRights()\n\t\t{\n\t\t\t//get access rights\n\t\t\tsecurityService.hasRight(\"_con\", \"r\").then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.consultReadAccess = results;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t\tsecurityService.hasRight(\"_con\", \"u\").then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.consultUpdateAccess = results; //to be used with batch operations (not yet implemented)\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t\tsecurityService.hasRight(\"_con\", \"w\").then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.consultWriteAccess = results;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\n\t\tcontroller.getTeams = function getTeams()\n\t\t{\n\t\t\tproviderService.getActiveTeams().then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.teams = results;\n\t\t\t\t\tcontroller.teams.unshift(allTeams);\n\t\t\t\t\tcontroller.search.team = allTeams;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.searchPatients = function searchPatients(term)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\ttype: 'Name',\n\t\t\t\t'term': term,\n\t\t\t\tactive: true,\n\t\t\t\tintegrator: false,\n\t\t\t\toutofdomain: true\n\t\t\t};\n\t\t\treturn demographicsService.search(search, 0, 25).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.content.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdemographicNo: results.content[x].demographicNo,\n\t\t\t\t\t\t\tname: results.content[x].lastName + ', ' + results.content[x].firstName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.searchMrps = function searchMrps(term)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\tsearchTerm: term,\n\t\t\t\tactive: true\n\t\t\t};\n\t\t\treturn providerService.searchProviders(search).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmrpNo: results[x].providerNo,\n\t\t\t\t\t\t\tname: results[x].name\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.updateMrpNo = function updateMrpNo(model)\n\t\t{\n\t\t\tif (Juno.Common.Util.exists(model))\n\t\t\t{\n\t\t\t\tcontroller.search.mrpNo = Number(model.mrpNo);\n\t\t\t\tcontroller.consult.mrpName = model.name;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tproviderService.getProvider(model).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.search.mrpNo = Number(model);\n\t\t\t\t\t\tcontroller.consult.mrpName = results.lastName + \", \" + results.firstName;\n\t\t\t\t\t\tcontroller.doSearch(true);\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tcontroller.updateDemographicNo = function updateDemographicNo(item, model, label)\n\t\t{\n\t\t\tif(item !== null)\n\t\t\t{\n\t\t\t\tcontroller.demographicName = item.name;\n\t\t\t\tcontroller.demographicNo = item.demographicNo;\n\t\t\t\tcontroller.tableParams.reload();\n\t\t\t}\n\t\t};\n\n\t\tcontroller.checkAll = function checkAll()\n\t\t{\n\t\t\tangular.forEach(controller.lastResponse, function(item)\n\t\t\t{\n\t\t\t\titem.checked = true;\n\t\t\t});\n\t\t};\n\n\t\tcontroller.checkNone = function checkNone()\n\t\t{\n\t\t\tangular.forEach(controller.lastResponse, function(item)\n\t\t\t{\n\t\t\t\titem.checked = false;\n\t\t\t});\n\t\t};\n\n\t\tcontroller.editConsult = function editConsult(consult)\n\t\t{\n\t\t\tif(consult)\n\t\t\t{\n\t\t\t\turl = \"/record/\" + consult.demographic.demographicNo + \"/consultResponse/\" + consult.id;\n\t\t\t\t$location.path(url).search(controller.search);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\talert(\"Something went wrong\");\n\t\t\treturn false;\n\t\t};\n\n\t\tcontroller.addConsult = function addConsult()\n\t\t{\n\t\t\tif (!controller.consultWriteAccess)\n\t\t\t{\n\t\t\t\talert(\"You don't have right to create new consult response\");\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// User shouldn't be able to access this function unless demoNo is populated, but check just in case\n\t\t\tif(controller.demographicNo)\n\t\t\t{\n\t\t\t\tvar url = \"/record/\" + controller.demographicNo + \"/consultResponse/new\";\n\t\t\t\t$location.path(url).search(controller.search);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\talert(\"Something went wrong\");\n\t\t\treturn false;\n\t\t};\n\n\t\tcontroller.removeDemographicAssignment = function removeDemographicAssignment()\n\t\t{\n\t\t\tcontroller.demographicNo = null;\n\t\t\tcontroller.demographicName = null;\n\t\t\tcontroller.tableParams.reload();\n\t\t};\n\n\t\tcontroller.removeMrpAssignment = function removeMrpAssignment()\n\t\t{\n\t\t\tcontroller.search.mrpNo = null;\n\t\t\tcontroller.consult.mrpName = null;\n\t\t\tcontroller.tableParams.reload();\n\t\t};\n\n\t\tcontroller.clear = function clear()\n\t\t{\n\t\t\tif(!controller.onRecordPage)\n\t\t\t\tcontroller.removeDemographicAssignment();\n\t\t\tcontroller.removeMrpAssignment();\n\t\t\tcontroller.search = {\n\t\t\t\tteam: allTeams,\n\t\t\t\tstartIndex: 0,\n\t\t\t\tnumToReturn: 10,\n\t\t\t};\n\n\t\t\tcontroller.doSearch();\n\t\t};\n\n\t\tcontroller.doSearch = function doSearch(init)\n\t\t{\n\t\t\t$location.search(controller.search);\n\t\t\tcontroller.tableParams.reload();\n\t\t};\n\n\t\tcontroller.tableParams = new NgTableParams(\n\t\t{\n\t\t\tpage: 1, // show first page\n\t\t\tcount: 10, // initial count per page\n\t\t\tsorting:\n\t\t\t{\n\t\t\t\tReferralDate: 'desc' // initial sorting\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t// total: 0, // length of data\n\t\t\tgetData: function(params)\n\t\t\t{\n\t\t\t\tcontroller.getSavedSearchParams();\n\t\t\n\t\t\t\tvar count = params._params.count;\n\t\t\t\tvar page = params.url().page;\n\n\t\t\t\tcontroller.search.startIndex = ((page - 1) * count);\n\t\t\t\tcontroller.search.numToReturn = parseInt(count);\n\n\t\t\t\tcontroller.search.page = params.url().page;\n\t\t\t\tcontroller.search.perPage = params.url().count;\n\n\t\t\t\tvar myRegexp = /sorting\\[(\\w+)\\]/g;\n\t\t\t\tfor(var key in params.url()) {\n\t\t\t\t\tvar match = myRegexp.exec(String(key));\n\t\t\t\t\tif(match) {\n\t\t\t\t\t\tcontroller.search.sortColumn = match[1];\n\t\t\t\t\t\tcontroller.search.sortDirection = params.url()[String(key)];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar tmpSearch = angular.copy(controller.search);\n\n\t\t\t\tif (tmpSearch.team === allTeams)\n\t\t\t\t{\n\t\t\t\t\ttmpSearch.team = null;\n\t\t\t\t}\n\n\t\t\t\tif(controller.demographicNo)\n\t\t\t\t{\n\t\t\t\t\ttmpSearch.demographicNo = controller.demographicNo;\n\t\t\t\t}\n\n\t\t\t\treturn consultService.searchResponses(tmpSearch).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tparams.total(parseInt(results.meta.total[0]));\n\n\t\t\t\t\t\tfor (var i = 0; i < results.data.length; i++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar consult = results.data[i];\n\n\t\t\t\t\t\t\t//add statusDescription\n\t\t\t\t\t\t\tfor (var j = 0; j < controller.statuses.length; j++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (consult.status === controller.statuses[j].value)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tconsult.statusDescription = controller.statuses[j].name;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//add urgencyDescription\n\t\t\t\t\t\t\tfor (var j = 0; j < controller.urgencies.length; j++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (consult.urgency === controller.urgencies[j].value)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tconsult.urgencyDescription = controller.urgencies[j].name;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//add urgencyColor if consult urgency=Urgent(1)\n\t\t\t\t\t\t\tif (consult.urgency === 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconsult.urgencyColor = \"text-danger\"; //= red text\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontroller.lastResponse = results.data;\n\t\t\t\t\t\treturn results.data;\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tcontroller.getSavedSearchParams = function getSavedSearchParams()\n\t\t{\n\t\t\t//process search parameters\n\t\t\tif ($state.params.demographicNo != null)\n\t\t\t{\n\t\t\t\tcontroller.hideSearchPatient = true;\n\t\t\t\tcontroller.updateDemographicNo(null, $state.params.demographicNo);\n\t\t\t}\n\t\t\telse if ($location.search().srhDemoNo != null)\n\t\t\t{\n\t\t\t\tcontroller.updateDemographicNo(null, $location.search().srhDemoNo);\n\t\t\t}\n\t\t\tif ($location.search().srhMrpNo != null) controller.updateMrpNo($location.search().srhMrpNo);\n\t\t\tif ($location.search().referralStartDate) controller.search.referralStartDate = new Date($location.search().referralStartDate);\n\t\t\tif ($location.search().referralEndDate != null) controller.search.referralEndDate = new Date($location.search().referralEndDate);\n\t\t\tif ($location.search().appointmentStartDate != null) controller.search.appointmentStartDate = new Date($location.search().appointmentStartDate);\n\t\t\tif ($location.search().appointmentEndDate != null) controller.search.appointmentEndDate = new Date($location.search().appointmentEndDate);\n\t\t\tif ($location.search().status != null) controller.search.status = Number($location.search().status);\n\t\t\tif ($location.search().team != null) controller.search.team = $location.search().team;\n\t\t\tif ($location.search().countPerPage != null) controller.countPerPage = $location.search().countPerPage;\n\t\t\tif ($location.search().toPage != null) controller.toPage = $location.search().toPage;\n\t\t\tif ($location.search().sortColumn != null && $location.search().sortDirection != null)\n\t\t\t{\n\t\t\t\tcontroller.search.sortColumn = $location.search().sortColumn;\n\t\t\t\tcontroller.search.sortDirection = $location.search().sortDirection;\n\t\t\t}\n\t\t};\n\n\t\tcontroller.init();\n\t}\n]);","angular.module('Consults').controller('Consults.ConsultRequestController', [\n\n\t'$scope',\n\t'$http',\n\t'$resource',\n\t'$location',\n\t'$uibModal',\n\t'consultService',\n\t'demographicService',\n\t'securityService',\n\t'summaryService',\n\t'staticDataService',\n\t'consult',\n\t'user',\n\n\tfunction(\n\t\t$scope,\n\t\t$http,\n\t\t$resource,\n\t\t$location,\n\t\t$uibModal,\n\t\tconsultService,\n\t\tdemographicService,\n\t\tsecurityService,\n\t\tsummaryService,\n\t\tstaticDataService,\n\t\tconsult,\n\t\tuser)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.consult = consult;\n\n\t\tconsult.letterheadList = Juno.Common.Util.toArray(consult.letterheadList);\n\t\tconsult.faxList = Juno.Common.Util.toArray(consult.faxList);\n\t\tconsult.serviceList = Juno.Common.Util.toArray(consult.serviceList);\n\t\tconsult.sendToList = Juno.Common.Util.toArray(consult.sendToList);\n\n\t\tcontroller.urgencies = staticDataService.getConsultUrgencies();\n\t\tcontroller.statuses = staticDataService.getConsultRequestStatuses();\n\t\tcontroller.hours = staticDataService.getHours();\n\t\tcontroller.minutes = staticDataService.getMinutes();\n\n\t\t//set appointment time\n\t\tconsole.log('initial appointment time: ', angular.copy(consult.appointmentTime));\n\n\t\tcontroller.parseTime = function parseTime(time)\n\t\t{\n\t\t\tvar tArray = time.split(\":\");\n\t\t\tconsult.appointmentHour = tArray[0];\n\t\t\tconsult.appointmentMinute = tArray[1];\n\t\t};\n\t\t/* If appointment time is present, we must parse the hours and minutes in order to\n\t\t   populate the hour and minute selectors */\n\t\tif (consult.appointmentTime !== null)\n\t\t{\n\t\t\tcontroller.parseTime(consult.appointmentTime);\n\n\t\t}\n\n\t\t//get access rights\n\t\tsecurityService.hasRight(\"_con\", \"r\").then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.consultReadAccess = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\t\tsecurityService.hasRight(\"_con\", \"u\").then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.consultUpdateAccess = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\t\tsecurityService.hasRight(\"_con\", \"w\").then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.consultWriteAccess = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\t//set demographic info\n\t\tdemographicService.getDemographic(consult.demographicId).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tconsole.log('SUCCESS, DEMO: ', results);\n\t\t\t\tconsult.demographic = results;\n\n\t\t\t\t//set cell phone\n\t\t\t\tconsult.demographic.extras = Juno.Common.Util.toArray(consult.demographic.extras);\n\t\t\t\tfor (var i = 0; i < consult.demographic.extras.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (consult.demographic.extras[i].key == \"demo_cell\")\n\t\t\t\t\t{\n\t\t\t\t\t\tconsult.demographic.cellPhone = consult.demographic.extras[i].value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\t//set default letterhead\n\t\tif (consult.letterhead == null)\n\t\t{\n\t\t\tfor (var i = 0; i < consult.letterheadList.length; i++)\n\t\t\t{\n\t\t\t\tif (consult.letterheadList[i].id == user.providerNo)\n\t\t\t\t{\n\t\t\t\t\tconsult.letterhead = consult.letterheadList[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//set default fax if there's only 1\n\t\tif (consult.letterhead.fax == null && consult.faxList.length == 1)\n\t\t{\n\t\t\tconsult.letterhead.fax = consult.faxList[0].faxNumber;\n\t\t}\n\n\t\t//set specialist list\n\t\tfor (var i = 0; i < consult.serviceList.length; i++)\n\t\t{\n\t\t\tif (consult.serviceList[i].serviceId == consult.serviceId)\n\t\t\t{\n\t\t\t\tcontroller.specialists = Juno.Common.Util.toArray(consult.serviceList[i].specialists);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tangular.forEach(controller.specialists, function(spec)\n\t\t{\n\t\t\tif (consult.professionalSpecialist && spec.id == consult.professionalSpecialist.id)\n\t\t\t{\n\t\t\t\tconsult.professionalSpecialist = spec;\n\t\t\t}\n\t\t});\n\n\t\t//set attachments\n\t\tconsult.attachments = Juno.Common.Util.toArray(consult.attachments);\n\t\tJuno.Consults.Common.sortAttachmentDocs(consult.attachments);\n\n\t\t//monitor data changed\n\t\tcontroller.consultChanged = -1;\n\t\t$scope.$watchCollection(function()\n\t\t\t{\n\t\t\t\treturn controller.consult;\n\t\t\t},\n\t\t\tfunction(newVal, oldVal)\n\t\t\t{\n\t\t\t\tcontroller.consultChanged++;\n\t\t\t});\n\n\t\t//remind user of unsaved data\n\t\t$scope.$on(\"$stateChangeStart\", function(event)\n\t\t{\n\t\t\tif (controller.consultChanged > 0)\n\t\t\t{\n\t\t\t\tvar discard = confirm(\"You may have unsaved data. Are you sure to leave?\");\n\t\t\t\tif (!discard) event.preventDefault();\n\t\t\t}\n\t\t});\n\n\t\tcontroller.changeLetterhead = function changeLetterhead(newLetterheadName)\n\t\t{\n\t\t\tvar index = $(\"#letterhead\")[0].selectedIndex;\n\t\t\tif (index === null) return;\n\n\t\t\tconsult.letterheadAddress = consult.letterheadList[index].address;\n\t\t\tconsult.letterheadPhone = consult.letterheadList[index].phone;\n\n\t\t};\n\n\t\tcontroller.changeService = function changeService(id)\n\t\t{\n\t\t\tvar index = $(\"#serviceId\")[0].selectedIndex;\n\t\t\tif (index === null)\n\t\t\t{\n\t\t\t\t$scope.specialists = null;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontroller.specialists = toArray(consult.serviceList[index].specialists);\n\t\t};\n\n\t\tcontroller.writeToBox = function writeToBox(results, boxId)\n\t\t{\n\t\t\tvar items = Juno.Common.Util.toArray(results.summaryItem);\n\t\t\tvar boxData = null;\n\t\t\tfor (var i = 0; i < items.length; i++)\n\t\t\t{\n\t\t\t\tboxData = Juno.Common.Util.addNewLine(items[i].displayName, boxData);\n\t\t\t}\n\t\t\tif (boxId == \"clinicalInfo\") consult.clinicalInfo = Juno.Common.Util.addNewLine(boxData, consult.clinicalInfo);\n\t\t\telse if (boxId == \"concurrentProblems\") consult.concurrentProblems = Juno.Common.Util.addNewLine(boxData, consult.concurrentProblems);\n\t\t\telse if (boxId == \"currentMeds\") consult.currentMeds = Juno.Common.Util.addNewLine(boxData, consult.currentMeds);\n\t\t};\n\n\n\t\tcontroller.getFamilyHistory = function getFamilyHistory(boxId)\n\t\t{\n\t\t\tsummaryService.getFamilyHistory(consult.demographicId).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.summaryItem.length === 0)\n\t\t\t\t\t\talert(\"No family history\");\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error grabbing family history!\");\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.getMedicalHistory = function getMedicalHistory(boxId)\n\t\t{\n\t\t\tsummaryService.getMedicalHistory(consult.demographicId).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.summaryItem.length === 0)\n\t\t\t\t\t\talert(\"No medical history\");\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error grabbing medical history!\");\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.getSocialHistory = function getSocialHistory(boxId)\n\t\t{\n\t\t\tsummaryService.getSocialHistory(consult.demographicId).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.summaryItem.length === 0)\n\t\t\t\t\t\talert(\"No social history\");\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error grabbing social history!\");\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.getOngoingConcerns = function getOngoingConcerns(boxId)\n\t\t{\n\t\t\tsummaryService.getOngoingConcerns(consult.demographicId).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.summaryItem.length === 0)\n\t\t\t\t\t\talert(\"No ongoing concerns\");\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error grabbing ongoing concerns!\");\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.getOtherMeds = function getOtherMeds(boxId)\n\t\t{\n\t\t\tsummaryService.getOtherMeds(consult.demographicId).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.summaryItem.length === 0)\n\t\t\t\t\t\talert(\"No other meds\");\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error grabbing other meds!\");\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.getReminders = function getReminders(boxId)\n\t\t{\n\t\t\tsummaryService.getReminders(consult.demographicId).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.summaryItem.length === 0)\n\t\t\t\t\t\talert(\"No reminders\");\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error grabbing reminders!\");\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\t// New function, doesn't work\n\t\tcontroller.getAllergies = function getAllergies(boxId)\n\t\t{\n\t\t\tconsole.log('CONSULT: ', consult);\n\n\t\t\tsummaryService.getAllergies(consult.demographicId).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.writeToBox(results, boxId);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\t// controller.invalidData = function invalidData()\n\t\t// {\n\t\t// \tif (controller.urgencies[$(\"#urgency\").val()] == null)\n\t\t// \t{\n\t\t// \t\talert(\"Please select an Urgency\");\n\t\t// \t\treturn true;\n\t\t// \t}\n\t\t// \tif (consult.letterheadList[$(\"#letterhead\").val()] == null)\n\t\t// \t{\n\t\t// \t\talert(\"Please select a Letterhead\");\n\t\t// \t\treturn true;\n\t\t// \t}\n\t\t// \tif (consult.serviceList[$(\"#serviceId\").val()] == null)\n\t\t// \t{\n\t\t// \t\talert(\"Please select a Specialist Service\");\n\t\t// \t\treturn true;\n\t\t// \t}\n\t\t// \tif (consult.professionalSpecialist == null)\n\t\t// \t{\n\t\t// \t\talert(\"Please select a Specialist\");\n\t\t// \t\treturn true;\n\t\t// \t}\n\t\t// \tif (consult.demographic == null || consult.demographic == \"\")\n\t\t// \t{\n\t\t// \t\talert(\"Error! Invalid patient!\");\n\t\t// \t\treturn true;\n\t\t// \t}\n\t\t// \treturn false;\n\t\t// };\n\n\t\tcontroller.invalidData = function invalidData()\n\t\t{\n\t\t\tif (!controller.consult.urgency)\n\t\t\t{\n\t\t\t\talert(\"Please select an Urgency\");\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (!controller.consult.letterheadName)\n\t\t\t{\n\t\t\t\talert(\"Please select a Letterhead\");\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t// if (!controller.consult.prof)\n\t\t\t// {\n\t\t\t// \talert(\"Please select a Specialist Service\");\n\t\t\t// \treturn true;\n\t\t\t// }\n\t\t\tif (!controller.consult.professionalSpecialist)\n\t\t\t{\n\t\t\t\talert(\"Please select a Specialist\");\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (controller.consult.demographic == null || controller.consult.demographic == \"\")\n\t\t\t{\n\t\t\t\talert(\"Error! Invalid patient!\");\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\tcontroller.setAppointmentTime = function setAppointmentTime()\n\t\t{\n\t\t\tif (consult.appointmentHour != null && consult.appointmentMinute != null && !consult.patientWillBook)\n\t\t\t{\n\t\t\t\tapptTime = moment(Date.now());\n\t\t\t\tapptTime.set('hours', consult.appointmentHour);\n\t\t\t\tapptTime.set('minute', consult.appointmentMinute);\n\t\t\t\tconsult.appointmentTime = apptTime;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconsult.appointmentTime = null;\n\t\t\t}\n\t\t};\n\n\t\tcontroller.openAttach = function openAttach(attachment)\n\t\t{\n\t\t\twindow.open(\"../\" + attachment.url);\n\t\t};\n\n\t\tcontroller.attachFiles = function attachFiles()\n\t\t{\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t\t{\n\t\t\t\t\ttemplateUrl: \"src/consults/consultAttachment.jsp\",\n\t\t\t\t\tcontroller: 'Consults.ConsultRequestAttachmentController as consultAttachmentCtrl',\n\t\t\t\t\twindowClass: \"attachment-modal-window\",\n\t\t\t\t\tresolve:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsult: function()\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn consult;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tmodalInstance.result.then(\n\t\t\t\tfunction success()\n\t\t\t\t{\n\t\t\t\t\tif (consult.attachmentsChanged)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.consultChanged++;\n\t\t\t\t\t\tconsult.attachmentsChanged = false;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\t//show/hide e-send button\n\t\tcontroller.setESendEnabled = function setESendEnabled()\n\t\t{\n\t\t\tcontroller.eSendEnabled = consult.professionalSpecialist != null && consult.professionalSpecialist.eDataUrl != null && consult.professionalSpecialist.eDataUrl.trim() != \"\";\n\t\t};\n\n\t\tcontroller.setESendEnabled(); //execute once on form open\n\n\t\tcontroller.save = function save()\n\t\t{\n\t\t\tconsole.log('CONSULT: ', consult);\n\n\t\t\tif (!controller.consultWriteAccess && consult.id == null)\n\t\t\t{\n\t\t\t\talert(\"You don't have right to save new consult\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!controller.consultUpdateAccess)\n\t\t\t{\n\t\t\t\talert(\"You don't have right to update consult\");\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (controller.invalidData()) return false;\n\n\t\t\tcontroller.consultSaving = true; //show saving banner\n\t\t\tcontroller.setAppointmentTime();\n\n\t\t\tconsultService.saveRequest(consult).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif (consult.id == null) $location.path(\"/record/\" + consult.demographicId + \"/consult/\" + results.id);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t\tcontroller.setESendEnabled();\n\t\t\tcontroller.consultSaving = false; //hide saving banner\n\t\t\tcontroller.consultChanged = -1; //reset change count\n\t\t\treturn true;\n\t\t};\n\n\t\tcontroller.close = function close()\n\t\t{\n\t\t\tif ($location.search().list === \"patient\") $location.path(\"/record/\" + consult.demographicId + \"/consults\");\n\t\t\telse $location.path(\"/consults\");\n\t\t};\n\n\t\tcontroller.sendFax = function sendFax()\n\t\t{\n\t\t\tvar reqId = consult.id;\n\t\t\tvar demographicNo = consult.demographicId;\n\t\t\tvar letterheadFax = Juno.Common.Util.noNull(consult.letterhead.fax);\n\t\t\tvar fax = Juno.Common.Util.noNull(consult.professionalSpecialist.faxNumber);\n\t\t\t//\t\tvar faxRecipients = *additional fax recipients (can be >1)*\n\n\t\t\twindow.open(\"../fax/CoverPage.jsp?reqId=\" + reqId + \"&demographicNo=\" + demographicNo + \"&letterheadFax=\" + letterheadFax + \"&fax=\" + fax);\n\t\t};\n\n\t\tcontroller.eSend = function eSend()\n\t\t{\n\t\t\tif (controller.eSendEnabled)\n\t\t\t{\n\t\t\t\tconsultService.eSendRequest(consult.id).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\talert(results.message);\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tcontroller.printPreview = function printPreview()\n\t\t{\n\t\t\tif (controller.invalidData()) return;\n\n\t\t\twindow.open(\"../oscarEncounter/oscarConsultationRequest/printPdf2.do?reqId=\" + consult.id + \"&demographicNo=\" + consult.demographicId);\n\t\t\t/*\n\t\t\t\t\tvar printWin = window.open(\"\",\"consultRequestPrintWin\",\"width=830,height=900,scrollbars=yes,location=no\");\n\t\t\t\t\tprintWin.document.open();\n\n\t\t\t\t\tvar replyTo = \"Please reply \";\n\t\t\t\t\tif (consult.patientWillBook) {\n\t\t\t\t\t\treplyTo = \"\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (noNull(consult.letterheadList[0].name)!=\"\") replyTo += \"to \" + consult.letterheadList[0].name;\n\t\t\t\t\t\treplyTo += \" by fax or by phone with appointment\";\n\t\t\t\t\t}\n\n\t\t\t\t\tvar urgency = noNull(controller.urgencies[$(\"#urgency\").val()].name);\n\t\t\t\t\tvar referralDate = formatDate(consult.referralDate);\n\t\t\t\t\tvar letterheadName = noNull(consult.letterheadList[$(\"#letterhead\").val()].name);\n\t\t\t\t\tvar letterheadAddress = noNull(consult.letterheadAddress);\n\t\t\t\t\tvar letterheadPhone = noNull(consult.letterheadPhone);\n\t\t\t\t\tvar letterheadFax = noNull(consult.letterheadFax);\n\t\t\t\t\tvar serviceName = noNull(consult.serviceList[$(\"#serviceId\").val()].serviceDesc);\n\t\t\t\t\tvar consultantName = noNull(consult.professionalSpecialist.name);\n\t\t\t\t\tvar consultantPhone = noNull(consult.professionalSpecialist.phoneNumber);\n\t\t\t\t\tvar consultantFax = noNull(consult.professionalSpecialist.faxNumber);\n\t\t\t\t\tvar consultantAddress = noNull(consult.professionalSpecialist.streetAddress);\n\t\t\t\t\tvar patientName = noNull(consult.demographic.lastName)+\", \"+noNull(consult.demographic.firstName);\n\t\t\t\t\tvar patientPhone = noNull(consult.demographic.phone);\n\t\t\t\t\tvar patientWorkPhone = noNull(consult.demographic.alternativePhone);\n\t\t\t\t\tvar patientBirthdate = formatDate(consult.demographic.dateOfBirth);\n\t\t\t\t\tvar patientSex = noNull(consult.demographic.sexDesc);\n\t\t\t\t\tvar patientHealthCardNo = noNull(consult.demographic.hin)+\"-\"+noNull(consult.demographic.ver);\n\t\t\t\t\tvar patientChartNo = noNull(consult.demographic.chartNo);\n\t\t\t\t\tvar patientAddress = \"\";\n\t\t\t\t\tif (consult.demographic.address!=null) {\n\t\t\t\t\t\tpatientAddress = noNull(consult.demographic.address.address)+\", \"+noNull(consult.demographic.address.city)+\", \"+noNull(consult.demographic.address.province)+\" \"+noNull(consult.demographic.address.postal);\n\t\t\t\t\t}\n\t\t\t\t\tvar appointmentDate = formatDate(consult.appointmentDate);\n\t\t\t\t\tvar appointmentTime = formatTime(consult.appointmentTime);\n\t\t\t\t\tvar reason = noNull(consult.reasonForReferral);\n\t\t\t\t\tvar clinicalInfo = noNull(consult.clinicalInfo);\n\t\t\t\t\tvar concurrentProblems = noNull(consult.concurrentProblems);\n\t\t\t\t\tvar currentMeds = noNull(consult.currentMeds);\n\t\t\t\t\tvar allergies = noNull(consult.allergies);\n\t\t\t\t\tvar referringProvider = noNull(user.lastName)+\", \"+noNull(user.firstName);\n\t\t\t\t\tvar mrp = \"\";\n\t\t\t\t\tif (consult.demographic.provider!=null) {\n\t\t\t\t\t\tmrp = noNull(consult.demographic.provider.lastName)+\", \"+noNull(consult.demographic.provider.firstName);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar reqId = consult.id;\n\t\t\t\t\tvar demoId = consult.demographicId;\n\t\t\t\t\tvar userId = user.providerNo;\n\n\t\t\t\t\tprintWin.document.write(\"<html><style>body {width:800px;font-family:arial,verdana,tahoma,helvetica,sans serif;}div {text-align:center;}table {width:100%;}th {text-align:left;font-weight:bold;width:1;white-space:nowrap}td {vertical-align:top;}label {font-weight:bold;}em {font-size:small;}p {font-size:large;}</style><style media='print'>button {display: none;}</style><script>function printAttachments(){window.location.href='../oscarEncounter/oscarConsultationRequest/attachmentReport.jsp?reqId=\"+reqId+\"&demographicNo=\"+demoId+\"&providerNo=\"+userId+\"';}</script><body><button onclick='window.print();'>Print</button><button onclick='printAttachments()'>Print attachments</button><button onclick='window.close()'>Close</button><div><label>Consultation Request</label><br/><label>\"+replyTo+\"</label></div><br/><table><tr><td><label>Date: </label>\"+referralDate+\"</td><td rowspan=6 width=10>&nbsp;</td><td><label>Status: </label>\"+urgency+\"</td></tr><tr><td colspan=2>&nbsp;</td></tr><tr><th>FROM:</th><th>TO:</th></tr><tr><td><p>\"+letterheadName+\"</p>\"+letterheadAddress+\"<br/><label>Tel: </label>\"+letterheadPhone+\"<br/><label>Fax: </label>\"+letterheadFax+\"</td><td><table><tr><th>Consultant:</th><td>\"+consultantName+\"</td></tr><tr><th>Service:</th><td>\"+serviceName+\"</td></tr><tr><th>Phone:</th><td>\"+consultantPhone+\"</td></tr><tr><th>Fax:</th><td>\"+consultantFax+\"</td></tr><tr><th>Address:</th><td>\"+consultantAddress+\"</td></tr></table></td></tr><tr><td colspan=2>&nbsp;</td></tr><tr><td><table><tr><th>Patient:</th><td>\"+patientName+\"</td></tr><tr><th>Address:</th><td>\"+patientAddress+\"</td></tr><tr><th>Phone:</th><td>\"+patientPhone+\"</td></tr><tr><th>Work Phone:</th><td>\"+patientWorkPhone+\"</td></tr><tr><th>Birthdate:</th><td>\"+patientBirthdate+\"</td></tr></table></td><td><table><tr><th>Sex:</th><td>\"+patientSex+\"</td></tr><tr><th>Health Card No:</th><td>\"+patientHealthCardNo+\"</td></tr><tr><th>Appointment date:</th><td>\"+appointmentDate+\"</td></tr><tr><th>Appointment time:</th><td>\"+appointmentTime+\"</td></tr><tr><th>Chart No:</th><td>\"+patientChartNo+\"</td></tr></table></td></tr></table><br/><table><tr><th>Reason for consultation:</th></tr><tr><td>\"+reason+\"<hr></td></tr><tr><th>Pertinent Clinical Information:</th></tr><tr><td>\"+clinicalInfo+\"<hr></td></tr><tr><th>Significant Concurrent Problems:</th></tr><tr><td>\"+concurrentProblems+\"<hr></td></tr><tr><th>Current Medications:</th></tr><tr><td>\"+currentMeds+\"<hr></td></tr><tr><th>Allergies:</th></tr><tr><td>\"+allergies+\"<hr></td></tr><tr><td><label>Referring Practitioner: </label>\"+referringProvider+\"</td></tr><tr><td><label>MRP: </label>\"+mrp+\"</td></tr><tr><td>&nbsp;</td></tr><tr><td><div><em>Created by: OSCAR The open-source EMR www.oscarcanada.org</em></div></td></tr></table></body></html>\");\n\t\t\t\t\tprintWin.document.close();\n\t\t\t*/\n\t\t}\n\t\t/* html for printPreview, kept here for easy reference\n\t\t<html>\n\t\t<style>\n\t\t\tbody {width:800px;font-family:arial,verdana,tahoma,helvetica,sans serif;}\n\t\t\tdiv {text-align:center;}\n\t\t\ttable {width:100%;}\n\t\t\tth {text-align:left;font-weight:bold;width:1;white-space:nowrap}\n\t\t\ttd {vertical-align:top;}\n\t\t\tlabel {font-weight:bold;}\n\t\t\tem {font-size:small;}\n\t\t\tp {font-size:large;}\n\t\t</style>\n\t\t<style media='print'>\n\t\t\tbutton {display: none;}\n\t\t</style>\n\t\t<script>\n\t\t\tfunction printAttachments(){\n\t\t\t\twindow.location.href='../oscarEncounter/oscarConsultationRequest/attachmentReport.jsp?reqId=\"+reqId+\"&demographicNo=\"+demoId+\"&providerNo=\"+userId+\"';\n\t\t\t}\n\t\t</script>\n\t\t<body>\n\t\t\t<button onclick='window.print();'>Print</button>\n\t\t\t<button onclick='printAttachments()'>Print attachments</button>\n\t\t\t<button onclick='window.close()'>Close</button>\n\t\t\t<div>\n\t\t\t\t<label>Consultation Request</label><br/>\n\t\t\t\t<label>\"+replyTo+\"</label>\n\t\t\t</div>\n\t\t\t<br/>\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<label>Date: </label>\"+referralDate+\"\n\t\t\t\t\t</td>\n\t\t\t\t\t<td rowspan=6 width=10>&nbsp;</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<label>Status: </label>\"+urgency+\"\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr><td colspan=2>&nbsp;</td></tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>FROM:</th>\n\t\t\t\t\t<th>TO:</th>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p>\"+letterheadName+\"</p>\n\t\t\t\t\t\t\"+letterheadAddress+\"<br/>\n\t\t\t\t\t\t<label>Tel: </label>\"+letterheadPhone+\"<br/>\n\t\t\t\t\t\t<label>Fax: </label>\"+letterheadFax+\"\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Consultant:</th>\n\t\t\t\t\t\t\t\t<td>\"+consultantName+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Service:</th>\n\t\t\t\t\t\t\t\t<td>\"+serviceName+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Phone:</th>\n\t\t\t\t\t\t\t\t<td>\"+consultantPhone+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Fax:</th>\n\t\t\t\t\t\t\t\t<td>\"+consultantFax+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Address:</th>\n\t\t\t\t\t\t\t\t<td>\"+consultantAddress+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr><td colspan=2>&nbsp;</td></tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Patient:</th>\n\t\t\t\t\t\t\t\t<td>\"+patientName+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Address:</th>\n\t\t\t\t\t\t\t\t<td>\"+patientAddress+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Phone:</th>\n\t\t\t\t\t\t\t\t<td>\"+patientPhone+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Work Phone:</th>\n\t\t\t\t\t\t\t\t<td>\"+patientWorkPhone+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Birthdate:</th>\n\t\t\t\t\t\t\t\t<td>\"+patientBirthdate+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Sex:</th>\n\t\t\t\t\t\t\t\t<td>\"+patientSex+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Health Card No:</th>\n\t\t\t\t\t\t\t\t<td>\"+patientHealthCardNo+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Appointment date:</th>\n\t\t\t\t\t\t\t\t<td>\"+appointmentDate+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Appointment time:</th>\n\t\t\t\t\t\t\t\t<td>\"+appointmentTime+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Chart No:</th>\n\t\t\t\t\t\t\t\t<td>\"+patientChartNo+\"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t\t<br/>\n\t\t\t<table>\n\t\t\t\t<tr><th>Reason for consultation:</th></tr>\n\t\t\t\t<tr><td>\"+reason+\"<hr></td></tr>\n\t\t\t\t<tr><th>Pertinent Clinical Information:</th></tr>\n\t\t\t\t<tr><td>\"+clinicalInfo+\"<hr></td></tr>\n\t\t\t\t<tr><th>Significant Concurrent Problems:</th></tr>\n\t\t\t\t<tr><td>\"+concurrentProblems+\"<hr></td></tr>\n\t\t\t\t<tr><th>Current Medications:</th></tr>\n\t\t\t\t<tr><td>\"+currentMeds+\"<hr></td></tr>\n\t\t\t\t<tr><th>Allergies:</th></tr>\n\t\t\t\t<tr><td>\"+allergies+\"<hr></td></tr>\n\t\t\t\t<tr><td><label>Referring Practitioner: </label>\"+referringProvider+\"</td></tr>\n\t\t\t\t<tr><td><label>MRP: </label>\"+mrp+\"</td></tr>\n\t\t\t\t<tr><td>&nbsp;</td></tr>\n\t\t\t\t<tr><td><div><em>Created by: OSCAR The open-source EMR www.oscarcanada.org</em></div></td></tr>\n\t\t\t</table>\n\t\t</body>\n\t\t</html>\n\t\t*/\n\t}\n]);","angular.module('Consults').controller('Consults.ConsultRequestListController', [\n\n\t'$scope',\n\t'$timeout',\n\t'$state',\n\t'$location',\n\t// '$defer',\n\t'NgTableParams',\n\t'consultService',\n\t'providerService',\n\t'demographicService',\n\t'demographicsService',\n\t'securityService',\n\t'staticDataService',\n\n\tfunction(\n\t\t$scope,\n\t\t$timeout,\n\t\t$state,\n\t\t$location,\n\t\t// $defer,\n\t\tNgTableParams,\n\t\tconsultService,\n\t\tproviderService,\n\t\tdemographicService,\n\t\tdemographicsService,\n\t\tsecurityService,\n\t\tstaticDataService)\n\t{\n\n\t\tvar controller = this;\n\n\t\t//get access rights\n\t\tsecurityService.hasRight(\"_con\", \"r\").then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.consultReadAccess = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\t\tsecurityService.hasRight(\"_con\", \"u\").then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.consultUpdateAccess = results; //to be used with batch operations (not yet implemented)\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\t\tsecurityService.hasRight(\"_con\", \"w\").then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.consultWriteAccess = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\t//set search statuses\n\t\tcontroller.statuses = staticDataService.getConsultRequestStatuses();\n\n\t\t//get urgencies list\n\t\tcontroller.urgencies = staticDataService.getConsultUrgencies();\n\n\t\tcontroller.lastResponse = \"\";\n\t\tcontroller.teams = [];\n\t\tcontroller.consult = {};\n\n\t\tvar allTeams = \"All Teams\";\n\t\tcontroller.search = {\n\t\t\tteam: allTeams,\n\t\t\tstartIndex: 0,\n\t\t\tnumToReturn: 10\n\t\t};\n\n\t\tproviderService.getActiveTeams().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.teams = results;\n\t\t\t\tcontroller.teams.unshift(allTeams);\n\t\t\t\tconsole.log(JSON.stringify(results));\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\talert(errors);\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\tcontroller.searchPatients = function searchPatients(term)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\ttype: 'Name',\n\t\t\t\t'term': term,\n\t\t\t\tactive: true,\n\t\t\t\tintegrator: false,\n\t\t\t\toutofdomain: true\n\t\t\t};\n\t\t\treturn demographicsService.search(search, 0, 25).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < response.content.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdemographicNo: response.content[x].demographicNo,\n\t\t\t\t\t\t\tname: response.content[x].lastName + ', ' + response.content[x].firstName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.searchMrps = function searchMrps(term)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\tsearchTerm: term,\n\t\t\t\tactive: true\n\t\t\t};\n\t\t\treturn providerService.searchProviders(search).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < response.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmrpNo: response[x].providerNo,\n\t\t\t\t\t\t\tname: response[x].name\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.updateMrpNo = function updateMrpNo(model)\n\t\t{\n\t\t\tif (model instanceof Object)\n\t\t\t{ //mrp set in search box\n\t\t\t\tcontroller.search.mrpNo = Number(model.mrpNo);\n\t\t\t\tcontroller.consult.mrpName = model.name;\n\t\t\t}\n\t\t\telse\n\t\t\t{ //mrp specified in url (come back from another consults) \n\t\t\t\tproviderService.getProvider(model).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.consult.mrpName = results.lastName + \", \" + results.firstName;\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tcontroller.updateDemographicNo = function updateDemographicNo(item, model)\n\t\t{\n\t\t\tif (item != null)\n\t\t\t{ //demo set in search box\n\t\t\t\tcontroller.search.demographicNo = item.demographicNo;\n\t\t\t\tcontroller.consult.demographicName = item.name;\n\t\t\t}\n\t\t\telse\n\t\t\t{ //demo specified in url (come back from another consults)\n\t\t\t\tdemographicService.getDemographic(model).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.consult.demographicName = results.lastName + \", \" + results.firstName;\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tcontroller.checkAll = function checkAll()\n\t\t{\n\t\t\tangular.forEach(controller.lastResponse, function(item)\n\t\t\t{\n\t\t\t\titem.checked = true;\n\t\t\t});\n\t\t};\n\n\t\tcontroller.checkNone = function checkNone()\n\t\t{\n\t\t\tangular.forEach(controller.lastResponse, function(item)\n\t\t\t{\n\t\t\t\titem.checked = false;\n\t\t\t});\n\t\t};\n\n\t\tcontroller.editConsult = function editConsult(consult)\n\t\t{\n\t\t\tvar url = \"/record/\" + consult.demographic.demographicNo + \"/consult/\" + consult.id;\n\t\t\t$location.path(url).search(controller.searchParams);\n\t\t};\n\n\t\tcontroller.addConsult = function addConsult()\n\t\t{\n\t\t\tif (!controller.consultWriteAccess)\n\t\t\t{\n\t\t\t\talert(\"You don't have right to create new consult\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar url = \"/record/\" + controller.search.demographicNo + \"/consult/new\";\n\t\t\t$location.path(url).search(controller.searchParams);\n\t\t};\n\n\t\tcontroller.removeDemographicAssignment = function removeDemographicAssignment()\n\t\t{\n\t\t\tcontroller.search.demographicNo = null;\n\t\t\tcontroller.consult.demographicName = null;\n\t\t};\n\n\t\tcontroller.removeMrpAssignment = function removeMrpAssignment()\n\t\t{\n\t\t\tcontroller.search.mrpNo = null;\n\t\t\tcontroller.consult.mrpName = null;\n\t\t};\n\n\t\tcontroller.doSearch = function doSearch()\n\t\t{\n\t\t\tcontroller.tableParams.reload();\n\t\t};\n\n\t\tcontroller.clear = function clear()\n\t\t{\n\t\t\tcontroller.removeDemographicAssignment();\n\t\t\tcontroller.removeMrpAssignment();\n\n\t\t\tvar searchDemoNo = $state.params.demographicNo == null ? null : Number($state.params.demographicNo);\n\t\t\tcontroller.search = {\n\t\t\t\tteam: allTeams,\n\t\t\t\tstartIndex: 0,\n\t\t\t\tnumToReturn: 10,\n\t\t\t\tdemographicNo: searchDemoNo\n\t\t\t};\n\t\t\tcontroller.doSearch();\n\t\t};\n\n\t\t//retain search & filters for users to come back\n\t\tcontroller.setSearchParams = function setSearchParams()\n\t\t{\n\t\t\tcontroller.searchParams = {};\n\n\t\t\tif ($state.$current.name === \"record.consultRequests\")\n\t\t\t\tcontroller.searchParams.list = \"patient\";\n\t\t\telse if (controller.search.demographicNo != null) controller.searchParams.srhDemoNo = controller.search.demographicNo;\n\n\t\t\tif (controller.search.mrpNo != null) controller.searchParams.srhMrpNo = controller.search.mrpNo;\n\t\t\tif (controller.search.status != null) controller.searchParams.srhStatus = controller.search.status;\n\t\t\tif (controller.search.team != allTeams) controller.searchParams.srhTeam = controller.search.team;\n\t\t\tif (controller.search.referralStartDate != null) controller.searchParams.srhRefStartDate = controller.search.referralStartDate.getTime();\n\t\t\tif (controller.search.referralEndDate != null) controller.searchParams.srhRefEndDate = controller.search.referralEndDate.getTime();\n\t\t\tif (controller.search.appointmentStartDate != null) controller.searchParams.srhApptStartDate = controller.search.appointmentStartDate.getTime();\n\t\t\tif (controller.search.appointmentEndDate != null) controller.searchParams.srhApptEndDate = controller.search.appointmentEndDate.getTime();\n\n\t\t\tif (controller.search.page != null) controller.searchParams.srhToPage = controller.search.page;\n\t\t\tif (controller.search.perPage != null) controller.searchParams.srhCountPerPage = controller.search.perPage;\n\t\t\tif (controller.search.sortDirection != null)\n\t\t\t{\n\t\t\t\tcontroller.searchParams.srhSortMode = controller.search.sortColumn;\n\t\t\t\tcontroller.searchParams.srhSortDir = controller.search.sortDirection;\n\t\t\t}\n\t\t};\n\n\t\tcontroller.justOpen = true;\n\n\t\t// default parameters\n\t\tcontroller.search.sortColumn=\"ReferralDate\";\n\t\tcontroller.search.sortDirection=\"desc\";\n\n\t\tcontroller.tableParams = new NgTableParams(\n\t\t{\n\t\t\tpage: 1, // show first page\n\t\t\tcount: 10, // initial count per page\n\t\t\tsorting: {\n\t\t\t\tReferralDate: 'desc'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tgetData: function(params)\n\t\t\t{\n\t\t\t\tif (controller.justOpen)\n\t\t\t\t{\n\t\t\t\t\tcontroller.getSavedSearchVals();\n\t\t\t\t\tcontroller.justOpen = false;\n\t\t\t\t}\n\n\t\t\t\tcontroller.setSearchParams();\n\n\t\t\t\tvar count = params.url().count;\n\t\t\t\tvar page = params.url().page;\n\n\t\t\t\t// shouldn't need these anymore\n\t\t\t\t//TODO refactor out of all uses here (I think these are used elsewhere).\n\t\t\t\tcontroller.search.startIndex = ((page - 1) * count);\n\t\t\t\tcontroller.search.numToReturn = parseInt(count);\n\n\t\t\t\tcontroller.search.page = params.url().page;\n\t\t\t\tcontroller.search.perPage = params.url().count;\n\n\t\t\t\t// need to parse out the ng-tables sort column/direction values\n\t\t\t\t// for use in our get parameters.\n\t\t\t\tvar myRegexp = /sorting\\[(\\w+)\\]/g;\n\t\t\t\tfor(var key in params.url()) {\n\t\t\t\t\tvar match = myRegexp.exec(String(key));\n\t\t\t\t\tif(match) {\n\t\t\t\t\t\tcontroller.search.sortColumn = match[1];\n\t\t\t\t\t\tcontroller.search.sortDirection = params.url()[String(key)];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// copy to the get parameters hash\n\t\t\t\tvar search1 = angular.copy(controller.search);\n\n\t\t\t\tif (search1.team === allTeams)\n\t\t\t\t{\n\t\t\t\t\tsearch1.team = null;\n\t\t\t\t}\n\n\t\t\t\treturn consultService.searchRequests(search1).then(\n\t\t\t\t\tfunction success(result)\n\t\t\t\t\t{\n\t\t\t\t\t\tparams.total(parseInt(result.meta.total[0]));\n\n\t\t\t\t\t\tfor (var i = 0; i < result.data.length; i++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar consult = result.data[i];\n\n\t\t\t\t\t\t\t//add statusDescription\n\t\t\t\t\t\t\tfor (var j = 0; j < controller.statuses.length; j++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (consult.status == controller.statuses[j].value)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tconsult.statusDescription = controller.statuses[j].name;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//add urgencyDescription\n\t\t\t\t\t\t\tfor (var j = 0; j < controller.urgencies.length; j++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (consult.urgency == controller.urgencies[j].value)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tconsult.urgencyDescription = controller.urgencies[j].name;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//add urgencyColor if consult urgency=Urgent(1)\n\t\t\t\t\t\t\tif (consult.urgency == 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconsult.urgencyColor = \"text-danger\"; //= red text\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//add notification if outstanding (incomplete requests > 1 month)\n\t\t\t\t\t\t\tif (consult.status != 4 && consult.status != 5 && consult.status != 7)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvar dp = consult.referralDate.split(\"-\");\n\t\t\t\t\t\t\t\tvar rDate = new Date(dp[0], dp[1] - 1, dp[2]);\n\t\t\t\t\t\t\t\trDate.setMonth(rDate.getMonth() + 1);\n\t\t\t\t\t\t\t\tif ((new Date()) >= rDate) consult.outstanding = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontroller.lastResponse = result.data;\n\t\t\t\t\t\treturn result.data;\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\talert(errors);\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t});\n\n\t\tcontroller.getSavedSearchVals = function getSavedSearchVals()\n\t\t{\n\t\t\t//process demographicNo in url, run only once\n\t\t\tif ($state.params.demographicNo != null)\n\t\t\t{\n\t\t\t\t//called from patient record\n\t\t\t\tcontroller.hideSearchPatient = true;\n\t\t\t\tcontroller.search.demographicNo = Number($state.params.demographicNo);\n\t\t\t}\n\t\t\telse if ($location.search().srhDemoNo != null)\n\t\t\t{\n\t\t\t\t//come back from another consults\n\t\t\t\tcontroller.search.demographicNo = Number($location.search().srhDemoNo);\n\t\t\t\tcontroller.updateDemographicNo(null, $location.search().srhDemoNo);\n\t\t\t}\n\n\t\t\t//process other search parameters in url\n\t\t\tif ($location.search().srhMrpNo != null)\n\t\t\t{\n\t\t\t\tcontroller.search.mrpNo = Number($location.search().srhMrpNo);\n\t\t\t\tcontroller.updateMrpNo($location.search().srhMrpNo);\n\t\t\t}\n\t\t\tif ($location.search().srhRefStartDate != null) controller.search.referralStartDate = new Date(Number($location.search().srhRefStartDate));\n\t\t\tif ($location.search().srhRefEndDate != null) controller.search.referralEndDate = new Date(Number($location.search().srhRefEndDate));\n\t\t\tif ($location.search().srhApptStartDate != null) controller.search.appointmentStartDate = new Date(Number($location.search().srhApptStartDate));\n\t\t\tif ($location.search().srhApptEndDate != null) controller.search.appointmentEndDate = new Date(Number($location.search().srhApptEndDate));\n\t\t\tif ($location.search().srhStatus != null) controller.search.status = Number($location.search().srhStatus);\n\t\t\tif ($location.search().srhTeam != null) controller.search.team = $location.search().srhTeam;\n\t\t\tif ($location.search().srhCountPerPage != null) controller.search.perPage = $location.search().srhCountPerPage;\n\n\t\t\tif ($location.search().srhToPage != null) controller.search.page = $location.search().srhToPage;\n\t\t\tif ($location.search().srhSortMode != null && $location.search().srhSortDir != null)\n\t\t\t{\n\t\t\t\tcontroller.search.sortColumn = $location.search().sortMode;\n\t\t\t\tcontroller.search.sortDirection = $location.search().srhSortDir;\n\t\t\t}\n\t\t};\n\n\t\tcontroller.popup = function popup(vheight, vwidth, varpage, winname)\n\t\t{\n\t\t\twindowprops = \"height=\" + vheight + \",width=\" + vwidth + \",location=no,scrollbars=yes,menubars=no,toolbars=no,resizable=yes,screenX=0,screenY=0,top=0,left=0\";\n\t\t\tvar popup = window.open(varpage, winname, windowprops);\n\t\t\tif (popup != null)\n\t\t\t{\n\t\t\t\tif (popup.opener == null)\n\t\t\t\t{\n\t\t\t\t\tpopup.opener = self;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t}\n]);","angular.module('Consults').controller('Consults.ConsultResponseAttachmentController', [\n\n\t'$uibModalInstance',\n\t'consultService',\n\t'consult',\n\n\tfunction(\n\t\t$uibModalInstance,\n\t\tconsultService,\n\t\tconsult)\n\t{\n\t\tcontroller.atth = {};\n\t\tcontroller.atth.patientName = consult.demographic.lastName + \", \" + consult.demographic.firstName;\n\n\t\tcontroller.atth.attachedDocs = consult.attachments;\n\t\tif (controller.atth.attachedDocs[0] != null) controller.atth.selectedAttachedDoc = controller.atth.attachedDocs[0];\n\n\t\tvar consultId = 0;\n\t\tif (consult.id != null) consultId = consult.id;\n\t\tconsultService.getResponseAttachments(consultId, consult.demographic.demographicNo).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tif (consult.availableDocs == null) consult.availableDocs = Juno.Common.Util.toArray(results);\n\t\t\t\tcontroller.atth.availableDocs = consult.availableDocs;\n\t\t\t\tJuno.Consults.Common.sortAttachmentDocs(controller.atth.availableDocs);\n\t\t\t\tif (controller.atth.availableDocs[0] != null) controller.atth.selectedAvailableDoc = controller.atth.availableDocs[0];\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\tcontroller.openDoc = function openDoc(doc)\n\t\t{\n\t\t\twindow.open(\"../\" + doc.url);\n\t\t};\n\n\t\tcontroller.attach = function attach()\n\t\t{\n\t\t\tif (controller.atth.selectedAvailableDoc == null) return;\n\n\t\t\tcontroller.atth.attachedDocs.push(controller.atth.selectedAvailableDoc);\n\t\t\tcontroller.atth.selectedAttachedDoc = controller.atth.selectedAvailableDoc;\n\t\t\tcontroller.atth.selectedAttachedDoc.attached = true;\n\t\t\tJuno.Consults.Common.sortAttachmentDocs(controller.atth.attachedDocs);\n\n\t\t\tvar x = $(\"#selAvailDoc\").val();\n\t\t\tcontroller.atth.availableDocs.splice(x, 1);\n\t\t\tif (x >= controller.atth.availableDocs.length) x = controller.atth.availableDocs.length - 1;\n\t\t\tcontroller.atth.selectedAvailableDoc = controller.atth.availableDocs[x];\n\n\t\t\tconsult.attachmentsChanged = true;\n\t\t};\n\n\t\tcontroller.detach = function detach()\n\t\t{\n\t\t\tif (controller.atth.selectedAttachedDoc == null) return;\n\n\t\t\tcontroller.atth.availableDocs.push(controller.atth.selectedAttachedDoc);\n\t\t\tcontroller.atth.selectedAvailableDoc = controller.atth.selectedAttachedDoc;\n\t\t\tcontroller.atth.selectedAvailableDoc.attached = false;\n\t\t\tJuno.Consults.Common.sortAttachmentDocs(controller.atth.availableDocs);\n\n\t\t\tvar x = $(\"#selAttachDoc\").val();\n\t\t\tcontroller.atth.attachedDocs.splice(x, 1);\n\t\t\tif (x >= controller.atth.attachedDocs.length) x = controller.atth.attachedDocs.length - 1;\n\t\t\tcontroller.atth.selectedAttachedDoc = controller.atth.attachedDocs[x];\n\n\t\t\tconsult.attachmentsChanged = true;\n\t\t};\n\n\t\tcontroller.done = function done()\n\t\t{\n\t\t\t$uibModalInstance.close();\n\t\t};\n\t}\n]);","angular.module('Consults').controller('Consults.ConsultRequestAttachmentController', [\n\n\t'$uibModalInstance',\n\t'consultService',\n\t'consult',\n\n\tfunction(\n\t\t$uibModalInstance,\n\t\tconsultService,\n\t\tconsult)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.atth = {};\n\t\tcontroller.atth.patientName = consult.demographic.lastName + \", \" + consult.demographic.firstName;\n\t\tcontroller.atth.attachedDocs = consult.attachments;\n\t\tif (controller.atth.attachedDocs[0] != null) controller.atth.selectedAttachedDoc = controller.atth.attachedDocs[0];\n\n\t\tvar consultId = 0;\n\n\t\tif (consult.id != null) consultId = consult.id;\n\t\tconsultService.getRequestAttachments(consultId, consult.demographicId).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tif (consult.availableDocs == null) consult.availableDocs = Juno.Common.Util.toArray(results);\n\t\t\t\tcontroller.atth.availableDocs = consult.availableDocs;\n\t\t\t\tif (controller.atth.availableDocs[0] != null) controller.atth.selectedAvailableDoc = controller.atth.availableDocs[0];\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\tcontroller.openDoc = function openDoc(doc)\n\t\t{\n\t\t\twindow.open(\"../\" + doc.url);\n\t\t};\n\n\t\tcontroller.attach = function attach()\n\t\t{\n\t\t\tif (controller.atth.selectedAvailableDoc == null) return;\n\n\t\t\tcontroller.atth.attachedDocs.push(controller.atth.selectedAvailableDoc);\n\t\t\tcontroller.atth.selectedAttachedDoc = controller.atth.selectedAvailableDoc;\n\t\t\tcontroller.atth.selectedAttachedDoc.attached = true;\n\n\t\t\t//Get index to remove by document id and document type\n\t\t\tvar removeIndex = controller.atth.availableDocs.map(function(item)\n\t\t\t{\n\t\t\t\treturn item.documentNo+item.documentType;\n\t\t\t}).indexOf(controller.atth.selectedAvailableDoc.documentNo+controller.atth.selectedAvailableDoc.documentType);\n\t\t\tcontroller.atth.availableDocs.splice(removeIndex, 1);\n\n\t\t\tvar selectionIndex = $(\"#selAvailDoc\")[0].selectedIndex;\n\t\t\tif (selectionIndex >= controller.atth.availableDocs.length) selectionIndex = controller.atth.availableDocs.length - 1;\n\t\t\tcontroller.atth.selectedAvailableDoc = controller.atth.availableDocs[selectionIndex];\n\n\t\t\tconsult.attachmentsChanged = true;\n\t\t};\n\n\t\tcontroller.detach = function detach()\n\t\t{\n\t\t\tif (controller.atth.selectedAttachedDoc == null) return;\n\n\t\t\tcontroller.atth.availableDocs.push(controller.atth.selectedAttachedDoc);\n\t\t\tcontroller.atth.selectedAvailableDoc = controller.atth.selectedAttachedDoc;\n\t\t\tcontroller.atth.selectedAvailableDoc.attached = false;\n\n\t\t\t//Get index to remove by document id and document type\n\t\t\tvar removeIndex = controller.atth.attachedDocs.map(function(item)\n\t\t\t{\n\t\t\t\treturn item.documentNo+item.documentType;\n\t\t\t}).indexOf(controller.atth.selectedAttachedDoc.documentNo+controller.atth.selectedAttachedDoc.documentType);\n\t\t\tcontroller.atth.attachedDocs.splice(removeIndex, 1);\n\n\t\t\tvar selectionIndex = $(\"#selAttachDoc\")[0].selectedIndex;\n\t\t\tif (selectionIndex >= controller.atth.attachedDocs.length) selectionIndex = controller.atth.attachedDocs.length - 1;\n\t\t\tcontroller.atth.selectedAttachedDoc = controller.atth.attachedDocs[selectionIndex];\n\n\t\t\tconsult.attachmentsChanged = true;\n\t\t};\n\n\t\tcontroller.done = function done()\n\t\t{\n\t\t\tconsole.log('CLOSE MODAL');\n\t\t\t$uibModalInstance.close();\n\t\t};\n\t}\n]);","'use strict';\n\nangular.module('Consults', ['Common', 'Common.Services']);","angular.module('oscarProviderViewModule').controller('BillingCtrl', [ '$scope', '$http', function ($scope,$http) {\n\n}]);\n","angular.module(\"Admin.Integration.Know2act\").controller('Admin.Integration.Know2act.k2aTemplateController', [\n\t\"reportByTemplateService\",\n\t\"k2aService\",\n\tfunction (reportByTemplateService,\n\t          k2aService)\n\t{\n\t\tvar controller = this;\n\n\t\tcontroller.message = \"\";\n\t\tcontroller.k2aActive = false;\n\t\tcontroller.k2aReports = null;\n\t\tcontroller.K2A_URL = \"\";\n\n\t\tcontroller.dtOptions = {};\n\t\t// controller.dtOptions = DTOptionsBuilder.newOptions().withOption('order', [1, 'asc']);\n\n\t\tcontroller.checkStatus = function checkStatus() {\n\t\t\tk2aService.isK2AInit().then(\n\t\t\t\tfunction success(data) {\n\t\t\t\t\tcontroller.k2aActive = data;\n\t\t\t\t},\n\t\t\t\tfunction failure(error) {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\talert(\"Failed to verify K2A Status\");\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\t\tcontroller.checkStatus();\n\n\t\tcontroller.getAllK2AReports = function getAllK2AReports(){\n\t\t\treportByTemplateService.getAllK2AReports().then(function(data){\n\t\t\t\tcontroller.k2aReports = data;\n\t\t\t\tconsole.log(\"k2a reports\", controller.k2aReports);\n\t\t\t});\n\t\t};\n\t\tcontroller.getAllK2AReports();\n\n\t\tcontroller.saveK2AReport = function saveK2AReport(id){\n\t\t\treportByTemplateService.getK2AReportById(id).then(function(data){\n\t\t\t\tcontroller.message = data;\n\t\t\t\tconsole.log(controller.message);\n\t\t\t\trefreshParent();\n\t\t\t});\n\t\t};\n\n\t\tcontroller.openK2AUrl = function openK2AUrl() {\n\t\t\treportByTemplateService.getK2AUrl().then(\n\t\t\t\tfunction success(data) {\n\t\t\t\t\twindow.open(data + \"/#/ws/rs/posts/browse/Report\");\n\t\t\t\t},\n\t\t\t\tfunction failure(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.refreshParent = function refreshParent() {\n\t\t\twindow.opener.document.location.href = \"../../../../oscarReport/reportByTemplate/homePage.jsp\";\n\t\t};\n\t\twindow.onunload = controller.refreshParent();\n\t}\n]);","angular.module(\"Admin.Integration.Know2act\").controller('Admin.Integration.Know2act.k2aNotificationController', [\n\t\"k2aService\",\n\tfunction (k2aService)\n\t{\n\t\tvar controller = this;\n\t\tcontroller.page = {};\n\t\tcontroller.page.notifications = [];\n\n\t\tcontroller.readMore = function (notif) {\n\t\t\tk2aService.getMoreNotification(notif).then(\n\t\t\t\tfunction success(data) {\n\t\t\t\t\tvar win = window.open(data, 'moreInfo', 'width=700,height=700');\n\t\t\t\t\twin.focus();\n\t\t\t\t},\n\t\t\t\tfunction failure(error) {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t});\n\t\t};\n\t\tcontroller.archive = function (notif) {\n\t\t\tk2aService.ackNotification(notif).then(\n\t\t\t\tfunction success(data) {\n\t\t\t\t\tcontroller.getNotifications();\n\t\t\t\t},\n\t\t\t\tfunction failure(error) {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\talert(\"Failed to acknowledge notification\");\n\t\t\t\t});\n\t\t};\n\t\tcontroller.getNotifications = function () {\n\t\t\tk2aService.getNotifications().then(\n\t\t\t\tfunction success(data) {\n\t\t\t\t\tcontroller.page.notifications = data;\n\t\t\t\t},\n\t\t\t\tfunction failure(error) {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\talert(\"Failed to load notifications\");\n\t\t\t\t});\n\t\t};\n\t\tcontroller.getNotifications();\n\t}\n]);","angular.module(\"Admin.Integration.Know2act\").controller('Admin.Integration.Know2act.k2aConfigController', [\n\t\"k2aService\",\n\tfunction (k2aService)\n\t{\n\t\tvar controller = this;\n\n\t\tcontroller.PrevListQuantity = 10;\n\t\tcontroller.availablePreventionRuleSets = [];\n\t\tcontroller.currentPreventionRulesSet = [];\n\t\tcontroller.clinicName = \"\";\n\t\tcontroller.k2aActive = false;\n\n\t\tcontroller.checkStatus = function ()\n\t\t{\n\t\t\tk2aService.isK2AInit().then(\n\t\t\t\tfunction success(data)\n\t\t\t\t{\n\t\t\t\t\tcontroller.k2aActive = data;\n\t\t\t\t\tif (controller.k2aActive)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.getPreventionRulesList();\n\t\t\t\t\t\tcontroller.getCurrentPreventionRulesVersion();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction failure(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\talert(\"Failed to verify K2A Status\");\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\t\tcontroller.checkStatus();\n\n\t\tcontroller.getPreventionRulesList = function ()\n\t\t{\n\t\t\tk2aService.preventionRulesList().then(\n\t\t\t\tfunction success(data)\n\t\t\t\t{\n\t\t\t\t\tcontroller.availablePreventionRuleSets = data;\n\t\t\t\t\tconsole.log(\"availablePreventionRuleSets\", controller.availablePreventionRuleSets);\n\t\t\t\t},\n\t\t\t\tfunction failure(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\n\t\tcontroller.getCurrentPreventionRulesVersion = function ()\n\t\t{\n\t\t\tk2aService.getCurrentPreventionRulesVersion().then(\n\t\t\t\tfunction success(data)\n\t\t\t\t{\n\t\t\t\t\tcontroller.currentPreventionRulesSet = data;\n\t\t\t\t\tconsole.log(\"currentPreventionRulesSet\", data);\n\t\t\t\t},\n\t\t\t\tfunction failure(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\n\t\tcontroller.loadPreventionRuleById = function (prevSet)\n\t\t{\n\n\t\t\t// if (confirm(\"<bean:message key=\"admin.k2a.confirmation\"/>\")) {\n\t\t\t// prevSet.agreement = \"<bean:message key=\"admin.k2a.confirmation\"/>\";\n\t\t\tk2aService.loadPreventionRuleById(prevSet).then(function (data)\n\t\t\t{\n\t\t\t\tk2aService.getCurrentPreventionRulesVersion();\n\t\t\t});\n\t\t\t// }\n\t\t};\n\n\t\tcontroller.increasePrevListQuantity = function ()\n\t\t{\n\t\t\tcontroller.PrevListQuantity = controller.availablePreventionRuleSets.length;\n\t\t};\n\n\t\tcontroller.initK2A = function ()\n\t\t{\n\t\t\tk2aService.initK2A(controller.clinicName).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tconsole.info(\"Init complete, check status\", response);\n\t\t\t\t\tcontroller.checkStatus();\n\t\t\t\t},\n\t\t\t\tfunction failure(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\talert(\"Failed to initialize K2A\");\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n]);","'use strict';\n\nangular.module('Admin.Integration.Know2act', ['Common', 'Common.Services']);","'use strict';\n\nangular.module('Admin.Integration', ['Common', 'Common.Services']);","angular.module('oscarProviderViewModule').controller('AdminCtrl', ['$scope', '$http', function ($scope,$http) {\n\n}]);\n","'use strict';\n\nangular.module('Admin', ['Common', 'Common.Services']);","angular.module('Schedule').controller('Schedule.AppointmentViewController', [\n\n\t'$scope',\n\t'$filter',\n\t'$uibModalInstance',\n\t'$timeout',\n\t'demographicService',\n\t'me',\n\t'providerService',\n\t'scheduleService',\n\t'appointment',\n\t'statusList',\n\n\tfunction(\n\t\t$scope,\n\t\t$filter,\n\t\t$uibModalInstance,\n\t\t$timeout,\n\t\tdemographicService,\n\t\tme,\n\t\tproviderService,\n\t\tscheduleService,\n\t\tappointment,\n\t\tstatusList)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.me = me;\n\t\tcontroller.appointment = appointment;\n\t\tcontroller.statusList = statusList.content;\n\t\tcontroller.appointmentUpdate = {};\n\n\t\tcontroller.appointmentWriteAccess = false;\n\n\t\tcontroller.getStatus = function getStatus(status)\n\t\t{\n\n\t\t\tfor (var x = 0; x < controller.statusList.length; x++)\n\t\t\t{\n\t\t\t\tconsole.log(JSON.stringify(controller.statusList[x]));\n\t\t\t\tif (controller.statusList[x].status == status)\n\t\t\t\t{\n\t\t\t\t\treturn controller.statusList[x].description;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn status;\n\t\t};\n\n\t\tcontroller.close = function close()\n\t\t{\n\t\t\t$uibModalInstance.close(false);\n\t\t};\n\n\t\tcontroller.deleteAppointment = function deleteAppointment()\n\t\t{\n\t\t\tif (confirm('Are you sure you want to delete this appointment?'))\n\t\t\t{\n\t\t\t\tscheduleService.deleteAppointment(controller.appointment.id).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\t$uibModalInstance.close(true);\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tcontroller.searchProviders = function searchProviders(val)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\tsearchTerm: val,\n\t\t\t\tactive: true\n\t\t\t};\n\t\t\treturn providerService.searchProviders(search, 0, 10).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tproviderNo: results[x].providerNo,\n\t\t\t\t\t\t\tname: results[x].firstName + ' ' + results[x].lastName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\n\t\tcontroller.updateProviderNo = function updateProviderNo(item, model, label)\n\t\t{\n\t\t\tcontroller.appointment.providerNo = model;\n\t\t\tcontroller.appointment.providerName = label;\n\t\t};\n\n\n\t\tcontroller.editProvider = function editProvider()\n\t\t{\n\t\t\tcontroller.showProviderFormControl = true;\n\t\t\tcontroller.appointmentUpdate.providerNo = controller.appointment.providerNo;\n\t\t\tcontroller.appointmentUpdate.providerName = controller.appointment.provider.lastName + \",\" + controller.appointment.provider.lastName;\n\t\t};\n\n\t\tcontroller.updateProvider = function updateProvider(item, model, label)\n\t\t{\n\t\t\tcontroller.needsUpdate = true;\n\t\t\tcontroller.appointment.providerNo = model;\n\t\t\tcontroller.appointment.providerName = label;\n\t\t\tcontroller.showProviderFormControl = false;\n\t\t};\n\n\t\tcontroller.cancelProviderUpdate = function cancelProviderUpdate()\n\t\t{\n\t\t\tcontroller.appointmentUpdate.providerNo = null;\n\t\t\tcontroller.appointmentUpdate.providerName = null;\n\n\t\t\tcontroller.showProviderFormControl = false;\n\n\t\t};\n\n\t\tcontroller.showAppointmentHistory = function showAppointmentHistory()\n\t\t{\n\t\t\tscheduleService.appointmentHistory(controller.appointment.demographicNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\talert(JSON.stringify(results));\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.noShowAppointment = function noShowAppointment()\n\t\t{\n\t\t\tscheduleService.noShowAppointment(controller.appointment.id).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\t$uibModalInstance.close(true);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\t\t};\n\n\t\tcontroller.cancelAppointment = function cancelAppointment()\n\t\t{\n\t\t\tscheduleService.cancelAppointment(controller.appointment.id).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\t$uibModalInstance.close(true);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t}\n]);","angular.module('Schedule').controller('Schedule.AppointmentAddController', [\n\n\t'$scope',\n\t'$filter',\n\t'$uibModalInstance',\n\t'$timeout',\n\t'demographicService',\n\t'demographicsService',\n\t'me',\n\t'providerService',\n\t'scheduleService',\n\t'apptDate',\n\n\tfunction(\n\t\t$scope,\n\t\t$filter,\n\t\t$uibModalInstance,\n\t\t$timeout,\n\t\tdemographicService,\n\t\tdemographicsService,\n\t\tme,\n\t\tproviderService,\n\t\tscheduleService,\n\t\tapptDate)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.types = [];\n\n\t\tcontroller.urgencies = [\n\t\t{\n\t\t\tvalue: '',\n\t\t\tlabel: 'Normal'\n\t\t},\n\t\t{\n\t\t\tvalue: 'critical',\n\t\t\tlabel: 'Critical'\n\t\t}];\n\n\t\tcontroller.me = me;\n\n\t\tcontroller.appointment = {\n\t\t\tstatus: 't',\n\t\t\tappointmentDate: $filter('date')(apptDate, 'yyyy-MM-dd'),\n\t\t\tstartTime: '09:00 AM',\n\t\t\ttype: '',\n\t\t\tduration: 15,\n\t\t\tproviderName: me.formattedName,\n\t\t\tproviderNo: me.providerNo,\n\t\t\treason: '',\n\t\t\tnotes: '',\n\t\t\tlocation: '',\n\t\t\tresources: '',\n\t\t\tcritical: ''\n\t\t};\n\n\t\tscheduleService.getTypes().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.types = results.types;\n\t\t\t\tcontroller.types.unshift(\n\t\t\t\t{\n\t\t\t\t\tname: '',\n\t\t\t\t\tduration: 15,\n\t\t\t\t\tlocation: '',\n\t\t\t\t\tnotes: '',\n\t\t\t\t\treason: '',\n\t\t\t\t\tresources: ''\n\t\t\t\t});\n\t\t\t\tconsole.log(JSON.stringify(results));\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\tcontroller.selectType = function selectType()\n\t\t{\n\t\t\tvar type = null;\n\n\t\t\tfor (var x = 0; x < controller.types.length; x++)\n\t\t\t{\n\t\t\t\tif (controller.types[x].name == controller.appointment.type)\n\t\t\t\t{\n\t\t\t\t\ttype = controller.types[x];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (type != null)\n\t\t\t{\n\t\t\t\tcontroller.appointment.duration = type.duration;\n\t\t\t\tcontroller.appointment.location = type.location;\n\t\t\t\tcontroller.appointment.notes = type.notes;\n\t\t\t\tcontroller.appointment.reason = type.reason;\n\t\t\t\tcontroller.appointment.resources = type.resources;\n\n\t\t\t}\n\n\t\t};\n\n\t\tcontroller.close = function close()\n\t\t{\n\t\t\tif (controller.needsUpdate)\n\t\t\t{\n\t\t\t\tif (confirm(\"You have unsaved changes, are you sure?\"))\n\t\t\t\t{\n\t\t\t\t\t$uibModalInstance.close(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$uibModalInstance.close(false);\n\t\t\t}\n\n\t\t};\n\n\t\tcontroller.validate = function validate()\n\t\t{\n\t\t\tvar t = controller.appointment;\n\n\t\t\tcontroller.errors = [];\n\n\t\t\tif (t.demographic == null)\n\t\t\t{\n\t\t\t\tcontroller.errors.push('You must select a patient');\n\t\t\t}\n\t\t\tif (t.providerNo == null)\n\t\t\t{\n\t\t\t\tcontroller.errors.push('You must select a provider');\n\t\t\t}\n\t\t\tif (t.startTime == null || t.startTime.length == 0)\n\t\t\t{\n\t\t\t\tcontroller.errors.push('start time is required');\n\t\t\t}\n\t\t\tif (t.duration == null || t.duration.length == 0)\n\t\t\t{\n\t\t\t\tcontroller.errors.push('start time is required');\n\t\t\t}\n\n\t\t\tif (controller.errors.length > 0)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\t\tcontroller.save = function save()\n\t\t{\n\t\t\tcontroller.showErrors = true;\n\t\t\tif (!controller.validate())\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar x = {};\n\t\t\tx.status = controller.appointment.status;\n\t\t\tx.appointmentDate = controller.appointment.appointmentDate;\n\t\t\tx.startTime12hWithMedian = controller.appointment.startTime;\n\t\t\tx.type = controller.appointment.type;\n\t\t\tx.duration = controller.appointment.duration;\n\t\t\tx.providerNo = controller.appointment.providerNo;\n\t\t\tx.reason = controller.appointment.reason;\n\t\t\tx.notes = controller.appointment.notes;\n\t\t\tx.location = controller.appointment.location;\n\t\t\tx.resources = controller.appointment.resources;\n\t\t\tx.urgency = controller.appointment.critical;\n\t\t\tx.demographicNo = controller.appointment.demographicNo;\n\n\t\t\t// TODO: make sure this works with the updated backend service (response changed)\n\t\t\tconsole.log(JSON.stringify(x));\n\t\t\tscheduleService.addAppointment(x).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\t$uibModalInstance.close(true);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\n\t\t};\n\n\n\t\tcontroller.updateDemographicNo = function updateDemographicNo(item, model, label)\n\t\t{\n\n\t\t\tdemographicService.getDemographic(model).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.appointment.demographicNo = results.demographicNo;\n\t\t\t\t\tcontroller.appointment.demographicName = '';\n\t\t\t\t\tcontroller.appointment.demographic = results;\n\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\t\t};\n\n\t\tcontroller.searchPatients = function searchPatients(term)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\ttype: 'Name',\n\t\t\t\t'term': term,\n\t\t\t\tactive: true,\n\t\t\t\tintegrator: false,\n\t\t\t\toutofdomain: true\n\t\t\t};\n\t\t\treturn demographicsService.search(search, 0, 25).then(\n\t\t\t\tfunction(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.content.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdemographicNo: results.content[x].demographicNo,\n\t\t\t\t\t\t\tname: results.content[x].lastName + ',' + results.content[x].firstName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.searchProviders = function searchProviders(val)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\tsearchTerm: val,\n\t\t\t\tactive: true\n\t\t\t};\n\t\t\treturn providerService.searchProviders(search, 0, 10).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tproviderNo: results[x].providerNo,\n\t\t\t\t\t\t\tname: results[x].firstName + ' ' + results[x].lastName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\n\t\tcontroller.updateProviderNo = function updateProviderNo(item, model, label)\n\t\t{\n\t\t\tcontroller.appointment.providerNo = model;\n\t\t\tcontroller.appointment.providerName = label;\n\t\t};\n\t}\n]);","\nangular.module('Schedule').controller('Schedule.ScheduleController', [\n\n\t'$scope',\n\n\tfunction(\n\t\t$scope\n\t)\n\t{\n\t\t//var controller = this;\n\n\n\t\t//=========================================================================\n\t\t// Local scope variables\n\t\t//=========================================================================/\n\n\t\t$scope.uiConfig = {};\n\t\t$scope.selectedSchedule = null;\n\t\t$scope.selectedSiteName = null;\n\t\t$scope.selectedTimeInterval = null;\n\t\t$scope.selectedResources = [];\n\n\t\t// cpCalendar control object.  The cpCalendar directive puts its control API methods in\n\t\t// this object.\n\t\t$scope.cpCalendarControl = {};\n\n\n\n\t\t//=========================================================================\n\t\t// Public Methods\n\t\t//=========================================================================/\n\n\t\t$scope.isSchedulingEnabled = function isSchedulingEnabled()\n\t\t{\n\t\t\treturn true;\n\t\t\t//return global_state.global_settings.addons.scheduling_enabled;\n\t\t};\n\n\t\t$scope.isInitialized = function isInitialized()\n\t\t{\n\t\t\treturn $scope.callCalendarMethod(\"is_initialized\");\n\t\t};\n\n\t\t$scope.hasSchedules = function hasSchedules()\n\t\t{\n\t\t\treturn $scope.callCalendarMethod(\"has_schedules\");\n\t\t};\n\n\t\t$scope.hasSites = function hasSites()\n\t\t{\n\t\t\treturn $scope.callCalendarMethod(\"has_sites\");\n\t\t};\n\n\t\t$scope.getTimeIntervalOptions = function getTimeIntervalOptions()\n\t\t{\n\t\t\treturn $scope.callCalendarMethod(\"get_time_interval_options\");\n\t\t};\n\n\t\t$scope.getScheduleOptions = function getScheduleOptions()\n\t\t{\n\t\t\treturn $scope.callCalendarMethod(\"get_schedule_options\");\n\t\t};\n\n\t\t$scope.getSiteOptions = function getSiteOptions()\n\t\t{\n\t\t\tvar result = $scope.callCalendarMethod(\"get_site_options\");\n\n\t\t\tif(!angular.isDefined($scope.selectedSite) || $scope.selectedSite === null)\n\t\t\t{\n\t\t\t\t$scope.selectedSite = result[0];\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\n\t\t$scope.viewName = function viewName()\n\t\t{\n\t\t\treturn $scope.callCalendarMethod(\"view_name\");\n\t\t};\n\n\t\t$scope.showTimeIntervals = function showTimeIntervals()\n\t\t{\n\t\t\treturn $scope.viewName() !== 'month';\n\t\t};\n\n\t\t$scope.onScheduleChanged = function onScheduleChanged()\n\t\t{\n\t\t\treturn $scope.callCalendarMethod(\"on_schedule_changed\", [$scope.selectedSchedule, $scope.selectedSiteName]);\n\t\t};\n\n\t\t$scope.onSiteChanged = function onSiteChanged()\n\t\t{\n\t\t\treturn $scope.callCalendarMethod(\"on_schedule_changed\", [$scope.selectedSchedule, $scope.selectedSiteName]);\n\t\t};\n\n\t\t$scope.onTimeIntervalChanged = function onTimeIntervalChanged()\n\t\t{\n\t\t\t$scope.saveGlobalState('schedule_time_interval', $scope.selectedTimeInterval);\n\n\t\t\t// updating the config will automatically trigger an events refresh\n\t\t\tif($scope.uiConfig.calendar)\n\t\t\t{\n\t\t\t\t$scope.uiConfig.calendar.slotDuration = $scope.selectedTimeInterval;\n\t\t\t\t$scope.uiConfig.calendar.slotLabelInterval = $scope.selectedTimeInterval;\n\t\t\t}\n\t\t};\n\n\t\t$scope.changeView = function changeView(view)\n\t\t{\n\t\t\treturn $scope.callCalendarMethod('change_view', [view]);\n\t\t};\n\n\t\t$scope.showLegend = function showLegend()\n\t\t{\n\t\t\treturn $scope.callCalendarMethod('show_legend');\n\t\t};\n\n\t\t$scope.isAgendaView = function isAgendaView()\n\t\t{\n\t\t\treturn ($scope.viewName() != 'resourceDay')\n\t\t};\n\n\n\t\t//=========================================================================\n\t\t// Private methods\n\t\t//=========================================================================/\n\n\t\t// Calls the named function on the calendar control object.  This is here to fail without\n\t\t// an error if the calendar isn't initialized yet.\n\t\t$scope.callCalendarMethod = function callCalendarMethod(name, args)\n\t\t{\n\t\t\tif($scope.cpCalendarControl && angular.isFunction($scope.cpCalendarControl[name]))\n\t\t\t{\n\t\t\t\treturn $scope.cpCalendarControl[name].apply(this, args);\n\t\t\t}\n\n\t\t\treturn null;\n\t\t};\n\n\t\t$scope.saveGlobalState = function saveGlobalSetting(key, value)\n\t\t{\n\t\t\t//$scope.global_state[key] = value;\n\t\t};\n\t}\n]);","'use strict';\n\nangular.module('Schedule', ['Common', 'Common.Services', 'cpCalendar']);","angular.module('Tickler').controller('Tickler.TicklerCommentController', [\n\n\t'$scope',\n\t'$uibModalInstance',\n\t'tickler',\n\n\tfunction(\n\t\t$scope,\n\t\t$uibModalInstance,\n\t\ttickler)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.tickler = tickler;\n\n\t\tcontroller.close = function()\n\t\t{\n\t\t\t$uibModalInstance.close(\"Someone Closed Me\");\n\t\t};\n\t}\n]);","angular.module('Tickler').controller('Tickler.TicklerNoteController', [\n\n\t'$scope',\n\t'$uibModalInstance',\n\t'$http',\n\t'ticklerNote',\n\t'tickler',\n\t'noteService',\n\n\tfunction(\n\t\t$scope,\n\t\t$uibModalInstance,\n\t\t$http,\n\t\tticklerNote,\n\t\ttickler,\n\t\tnoteService)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.ticklerNote = ticklerNote;\n\t\tcontroller.originalNote = ticklerNote.note;\n\t\tcontroller.tickler = tickler;\n\n\t\tcontroller.close = function()\n\t\t{\n\t\t\t$uibModalInstance.close(\"Someone Closed Me\");\n\t\t};\n\t\tcontroller.save = function()\n\t\t{\n\t\t\tvar updatedNote = controller.ticklerNote.note;\n\t\t\tcontroller.ticklerNote.tickler = controller.tickler;\n\n\t\t\tnoteService.saveTicklerNote(controller.ticklerNote).then(function(data)\n\t\t\t{\n\t\t\t\t$uibModalInstance.close(\"Someone Saved Me\");\n\t\t\t}, function(reason)\n\t\t\t{\n\t\t\t\talert(reason);\n\t\t\t});\n\t\t};\n\t}\n]);","angular.module('Tickler').controller('Tickler.TicklerAddController', [\n\n\t'$scope',\n\t'$uibModalInstance',\n\t'$filter',\n\t'$stateParams',\n\t'demographicService',\n\t'demographicsService',\n\t'providerService',\n\t'ticklerService',\n\n\tfunction(\n\t\t$scope,\n\t\t$uibModalInstance,\n\t\t$filter,\n\t\t$stateParams,\n\t\tdemographicService,\n\t\tdemographicsService,\n\t\tproviderService,\n\t\tticklerService)\n\t{\n\n\t\tvar controller = this;\n\n\t\t// holds the patient typeahead selection\n\t\tcontroller.demographicSearch = null;\n\n\t\t//=========================================================================\n\t\t// Watches\n\t\t//=========================================================================\n\n\t\t// $scope.$watch('controller.demographicSearch',\n\n\t\t// \tfunction(new_value)\n\t\t// \t{\n\t\t// \t\tconsole.log('watching demographicSearch: ', new_value);\n\n\t\t// \t\tif (Juno.Common.Util.exists(new_value))\n\t\t// \t\t{\n\t\t// \t\t\tcontroller.updateDemographicNo(new_value);\n\t\t// \t\t}\n\t\t// \t\telse\n\t\t// \t\t{\n\t\t// \t\t\t// no selection\n\t\t// \t\t\tcontroller.updateDemographicNo(null);\n\t\t// \t\t}\n\t\t// \t}, true);\n\n\t\tcontroller.tickler = {\n\t\t\ttemplate:\n\t\t\t{\n\t\t\t\tid: 1,\n\t\t\t\tname: ''\n\t\t\t},\n\t\t\tserviceDateDate: new Date(),\n\t\t\tserviceDateTime: \"12:00 AM\",\n\t\t\tsuggestedTextId: 0\n\t\t};\n\n\t\tcontroller.priorities = ['Low', 'Normal', 'High'];\n\n\t\t// initialization\n\t\tcontroller.init = function init()\n\t\t{\n\t\t\tif (Juno.Common.Util.exists($stateParams.demographicNo))\n\t\t\t{\n\t\t\t\tconsole.log('initializing demographicSearch pre-selected', $stateParams.demographicNo);\n\t\t\t\tdemographicService.getDemographic($stateParams.demographicNo).then(function(data)\n\t\t\t\t{\n\t\t\t\t\tcontroller.demographicSearch = {\n\t\t\t\t\t\tdemographicNo: data.demographicNo,\n\t\t\t\t\t\tfirstName: data.firstName,\n\t\t\t\t\t\tlastName: data.lastName,\n\t\t\t\t\t\tname: data.lastName + \",\" + data.firstName // For display purposes\n\t\t\t\t\t};\n\t\t\t\t\tcontroller.updateDemographicNo(data);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$('#timepicker').timepicker({defaultTime: controller.tickler.serviceDateTime});\n\t\t};\n\n\t\tticklerService.getTextSuggestions().then(function(data)\n\t\t{\n\t\t\tcontroller.textSuggestions = data.content;\n\t\t\tcontroller.textSuggestions.unshift(\n\t\t\t{\n\t\t\t\tid: 0,\n\t\t\t\tsuggestedText: ''\n\t\t\t});\n\t\t}, function(reason)\n\t\t{\n\t\t\talert(reason);\n\t\t});\n\n\t\tcontroller.close = function()\n\t\t{\n\t\t\t$uibModalInstance.close(false);\n\t\t};\n\n\t\tcontroller.validate = function()\n\t\t{\n\t\t\tvar t = controller.tickler;\n\t\t\tcontroller.errors = [];\n\n\t\t\tif (t.demographic == null)\n\t\t\t{\n\t\t\t\tcontroller.errors.push('You must select a patient');\n\t\t\t}\n\t\t\tif (t.taskAssignedTo == null || t.taskAssignedTo.length == 0)\n\t\t\t{\n\t\t\t\tcontroller.errors.push('You must assign a provider');\n\t\t\t}\n\t\t\tif (t.message == null || t.message.length == 0)\n\t\t\t{\n\t\t\t\tcontroller.errors.push('Message is required');\n\t\t\t}\n\t\t\tif (controller.errors.length > 0)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\t\tcontroller.save = function()\n\t\t{\n\t\t\tcontroller.showErrors = true;\n\t\t\tif (!controller.validate())\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar t = {};\n\t\t\tt.demographicNo = controller.tickler.demographic.demographicNo;\n\t\t\tt.taskAssignedTo = controller.tickler.taskAssignedTo;\n\t\t\tt.priority = controller.tickler.priority;\n\t\t\tt.status = 'A';\n\t\t\tt.message = controller.tickler.message;\n\n\t\t\tvar givenDate = controller.tickler.serviceDateDate;\n\t\t\tvar givenTime = moment(controller.tickler.serviceDateTime, 'hh:mm A');\n\t\t\tgivenDate.setHours(givenTime.get('hour'));\n\t\t\tgivenDate.setMinutes(givenTime.get('minute'));\n\n\t\t\tt.serviceDate = givenDate;\n\t\t\tticklerService.add(t).then(function(data)\n\t\t\t{\n\t\t\t\t$uibModalInstance.close(true);\n\t\t\t}, function(reason)\n\t\t\t{\n\t\t\t\talert(reason);\n\t\t\t});\n\n\n\t\t};\n\n\t\tcontroller.updateDemographicNo = function updateDemographicNo(demo)\n\t\t{\n\t\t\tif (Juno.Common.Util.exists(demo))\n\t\t\t{\n\t\t\t\tdemographicService.getDemographic(demo.demographicNo).then(function(data)\n\t\t\t\t{\n\t\t\t\t\t// update the selected value on the tickler object\n\t\t\t\t\tcontroller.tickler.demographic = data;\n\t\t\t\t\tconsole.log('set controller.tickler.demographic: ', controller.tickler.demographic);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcontroller.tickler.demographic = null;\n\t\t\t}\n\t\t};\n\n\t\tcontroller.searchPatients = function searchPatients(term)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\ttype: 'Name',\n\t\t\t\t'term': term,\n\t\t\t\tstatus: 'active',\n\t\t\t\tintegrator: false,\n\t\t\t\toutofdomain: true\n\t\t\t};\n\t\t\treturn demographicsService.search(search, 0, 25).then(\n\t\t\t\tfunction(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.content.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdemographicNo: results.content[x].demographicNo,\n\t\t\t\t\t\t\tname: results.content[x].lastName + ',' + results.content[x].firstName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.searchProviders = function(val)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\tsearchTerm: val,\n\t\t\t\tactive: true\n\t\t\t};\n\t\t\treturn providerService.searchProviders(search, 0, 10).then(function(response)\n\t\t\t{\n\t\t\t\tvar resp = [];\n\t\t\t\tfor (var x = 0; x < response.length; x++)\n\t\t\t\t{\n\t\t\t\t\tresp.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tproviderNo: response[x].providerNo,\n\t\t\t\t\t\tname: response[x].firstName + ' ' + response[x].lastName\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn resp;\n\t\t\t});\n\t\t};\n\n\t\tcontroller.updateProviderNo = function(item, model, label)\n\t\t{\n\t\t\tcontroller.tickler.taskAssignedTo = model;\n\t\t\tcontroller.tickler.taskAssignedToName = label;\n\t\t};\n\n\t\tcontroller.setSuggestedText = function()\n\t\t{\n\t\t\tvar results = $filter('filter')(controller.textSuggestions,\n\t\t\t{\n\t\t\t\tid: controller.tickler.suggestedTextId\n\t\t\t}, true);\n\n\t\t\tif (results != null)\n\t\t\t{\n\t\t\t\tcontroller.tickler.message = results[0].suggestedText;\n\t\t\t}\n\t\t};\n\n\t\tcontroller.addMonthsFromNow = function(num)\n\t\t{\n\t\t\tcontroller.tickler.serviceDateDate = moment().add(num, 'months').toDate();\n\t\t};\n\t}\n]);","angular.module('Tickler').controller('Tickler.TicklerViewController', [\n\n\t'$scope',\n\t'$filter',\n\t'$uibModalInstance',\n\t'$timeout',\n\t'tickler',\n\t'ticklerService',\n\t'ticklerNote',\n\t'ticklerWriteAccess',\n\t'providerService',\n\t'me',\n\n\tfunction(\n\t\t$scope,\n\t\t$filter,\n\t\t$uibModalInstance,\n\t\t$timeout,\n\t\ttickler,\n\t\tticklerService,\n\t\tticklerNote,\n\t\tticklerWriteAccess,\n\t\tproviderService,\n\t\tme)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.ticklerUpdate = angular.copy(tickler);\n\n\t\tcontroller.serviceDateInput = moment(controller.ticklerUpdate.serviceDate).toDate();\n\t\tcontroller.serviceTimeInput = moment(controller.ticklerUpdate.serviceDate).format(\"hh:mm A\");\n\n\t\tcontroller.me = me;\n\t\tcontroller.ticklerWriteAccess = ticklerWriteAccess;\n\n\t\t//this object keeps track of the changes being made\n\t\t// controller.ticklerUpdate = {\n\t\t// \tmessage: controller.tickler.message,\n\n\t\t// \ttaskAssignedTo: controller.tickler.taskAssignedTo,\n\t\t// \ttaskAssignedToName: controller.tickler.taskAssignedName,\n\t\t// \tserviceDate: $filter('date')(controller.tickler.serviceDate, 'yyyy-MM-dd'),\n\t\t// \tserviceTime: $filter('date')(controller.tickler.serviceDate, 'HH:mm'),\n\n\t\t// };\n\n\t\tcontroller.needsUpdate = false;\n\t\tcontroller.showUpdates = false;\n\t\tcontroller.showComments = false;\n\t\tcontroller.showCommentFormControl = false;\n\n\t\t// controller.taskAssignedToName = controller.tickler.taskAssignedName;\n\t\tcontroller.priorities = ['Low', 'Normal', 'High'];\n\t\tcontroller.statuses = [\n\t\t{\n\t\t\tid: 'A',\n\t\t\tlabel: 'Active'\n\t\t},\n\t\t{\n\t\t\tid: 'C',\n\t\t\tlabel: 'Completed'\n\t\t},\n\t\t{\n\t\t\tid: 'D',\n\t\t\tlabel: 'Deleted'\n\t\t}];\n\n\t\tif (ticklerNote != null)\n\t\t{\n\t\t\tcontroller.ticklerNote = ticklerNote.ticklerNote;\n\t\t}\n\n\t\t// Keep track of the current status as an object containing id and label\n\t\tif (tickler != null)\n\t\t{\n\t\t\tcontroller.selectedStatus = controller.statuses.find(function(status)\n\t\t\t{\n\t\t\t\treturn status.id == tickler.status;\n\t\t\t});\n\t\t}\n\n\t\t// $scope.$watch('controller.ticklerUpdate.serviceDate',\n\t\t// \tfunction(new_value)\n\t\t// \t{\n\t\t// \t\tconsole.log('change', new_value);\n\n\t\t// \t\tif (controller.ticklerUpdate.serviceDate instanceof Date && controller.ticklerUpdate.serviceTime instanceof Date)\n\t\t// \t\t{\n\n\t\t// \t\t\tcontroller.ticklerUpdate.serviceDate = new Date(controller.ticklerUpdate.serviceDate.getTime() + controller.ticklerUpdate.serviceTime.getTime());\n\n\t\t// \t\t\tconsole.log('new val', controller.ticklerUpdate.serviceDate);\n\t\t// \t\t}\n\n\n\t\t// \t}\n\t\t// );\n\n\t\t// Watches the date input and updates serviceDate when a change is made\n\t\t$scope.$watch(function()\n\t\t\t{\n\t\t\t\treturn controller.serviceDateInput;\n\t\t\t},\n\t\t\tfunction(newValue)\n\t\t\t{\n\t\t\t\tvar newDate = moment(newValue.getTime()).format(\"MM-DD-YYYY\");\n\t\t\t\tvar finalVal = moment(newDate + \"-\" + controller.serviceTimeInput, 'MM-DD-YYYY-hh:mm A').toDate().getTime();\n\n\t\t\t\tcontroller.ticklerUpdate.serviceDate = finalVal;\n\t\t\t}\n\t\t);\n\n\t\t// Watches the time input and updates serviceDate when a change is made\n\t\t$scope.$watch(function()\n\t\t\t{\n\t\t\t\treturn controller.serviceTimeInput;\n\t\t\t},\n\t\t\tfunction(newValue)\n\t\t\t{\n\t\t\t\tvar date = moment(controller.serviceDateInput.getTime()).format(\"MM-DD-YYYY\");\n\t\t\t\tvar finalVal = moment(date + \"-\" + newValue, 'MM-DD-YYYY-hh:mm A').toDate().getTime();\n\n\t\t\t\tcontroller.ticklerUpdate.serviceDate = finalVal;\n\t\t\t}\n\t\t);\n\n\t\tcontroller.close = function()\n\t\t{\n\t\t\tif (controller.needsUpdate)\n\t\t\t{\n\t\t\t\tif (confirm(\"You have unsaved changes, are you sure?\"))\n\t\t\t\t{\n\t\t\t\t\t$uibModalInstance.close(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcontroller.ticklerUpdate = undefined;\n\t\t\t\t$uibModalInstance.close(false);\n\t\t\t}\n\n\t\t};\n\n\t\tcontroller.save = function()\n\t\t{\n\t\t\t$uibModalInstance.close(\"Someone Saved Me\");\n\t\t};\n\n\t\tcontroller.updateTaskAssignedTo = function(item, model, label)\n\t\t{\n\t\t\tcontroller.needsUpdate = true;\n\t\t\tcontroller.ticklerUpdate.taskAssignedTo = model;\n\t\t\tcontroller.ticklerUpdate.taskAssignedToName = label;\n\t\t\tcontroller.showTaskAssignedToFormControl = false;\n\t\t};\n\n\t\tcontroller.cancelTaskAssignedToUpdate = function()\n\t\t{\n\t\t\tcontroller.ticklerUpdate.taskAssignedTo = null;\n\t\t\tcontroller.ticklerUpdate.taskAssignedToName = null;\n\n\t\t\tcontroller.showTaskAssignedToFormControl = false;\n\n\t\t};\n\n\t\tcontroller.editServiceDateAndTime = function()\n\t\t{\n\t\t\t// controller.ticklerUpdate.serviceDate = $filter('date')(controller.tickler.serviceDate, 'yyyy-MM-dd');\n\t\t\t// controller.ticklerUpdate.serviceTime = $filter('date')(controller.tickler.serviceDate, 'HH:mm');\n\n\t\t\tcontroller.showServiceDateAndTimeFormControl = true;\n\t\t};\n\n\n\t\tcontroller.updateServiceDateAndTime = function()\n\t\t{\n\t\t\tvar dp = controller.ticklerUpdate.serviceDate.split(\"-\");\n\t\t\tvar tp = controller.ticklerUpdate.serviceTime.split(\":\");\n\n\t\t\tif (dp.length != 3 || tp.length != 2)\n\t\t\t{\n\t\t\t\talert('Invalid Date/time. Please use yyyy-MM-dd and HH:mm formats');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar d = new Date(dp[0], parseInt(dp[1]) - 1, dp[2], tp[0], tp[1], 0, 0);\n\n\t\t\tif (d == null || isNaN(d.getTime()))\n\t\t\t{\n\t\t\t\talert('Invalid Date/time. Please use yyyy-MM-dd and HH:mm formats');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontroller.needsUpdate = true;\n\t\t\tcontroller.tickler.serviceDate = d;\n\t\t\tcontroller.showServiceDateAndTimeFormControl = false;\n\t\t};\n\n\t\tcontroller.cancelServiceDateAndTimeUpdate = function()\n\t\t{\n\t\t\tcontroller.ticklerUpdate.serviceDate = null;\n\t\t\tcontroller.showServiceDateAndTimeFormControl = false;\n\t\t};\n\n\t\tcontroller.editPriority = function()\n\t\t{\n\t\t\t// controller.ticklerUpdate.priority = controller.tickler.priority;\n\t\t\tcontroller.priorities = ['Low', 'Normal', 'High'];\n\n\t\t\tcontroller.showPriorityFormControl = true;\n\t\t};\n\n\t\tcontroller.updatePriority = function(newPriority)\n\t\t{\n\t\t\tcontroller.needsUpdate = true;\n\t\t\t// controller.ticklerUpdate.priority = newPriority; // Don't need this anymore?\n\t\t\tcontroller.showPriorityFormControl = false;\n\t\t};\n\n\n\t\tcontroller.cancelPriorityUpdate = function()\n\t\t{\n\t\t\tcontroller.ticklerUpdate.priority = null;\n\t\t\tcontroller.showPriorityFormControl = false;\n\t\t};\n\n\t\tcontroller.editStatus = function()\n\t\t{\n\t\t\t// controller.ticklerUpdate.statusName = controller.tickler.statusName;\n\t\t\t// controller.ticklerUpdate.status = controller.tickler.statusName;\n\t\t\tcontroller.showStatusFormControl = true;\n\t\t};\n\n\t\tcontroller.updateStatus = function(selectedStatus)\n\t\t{\n\t\t\tcontroller.needsUpdate = true;\n\t\t\tcontroller.ticklerUpdate.status = selectedStatus.id;\n\t\t\tcontroller.ticklerUpdate.statusName = selectedStatus.label;\n\t\t\tcontroller.showStatusFormControl = false;\n\t\t};\n\n\t\tcontroller.cancelStatusUpdate = function()\n\t\t{\n\t\t\tcontroller.ticklerUpdate.statusName = null;\n\t\t\tcontroller.ticklerUpdate.status = null;\n\n\t\t\tcontroller.showStatusFormControl = false;\n\n\t\t};\n\n\t\tcontroller.addComment = function()\n\t\t{\n\t\t\t// controller.ticklerUpdate.comment = '';\n\t\t\tcontroller.showCommentFormControl = true;\n\n\t\t};\n\n\t\tcontroller.saveComment = function()\n\t\t{\n\t\t\tcontroller.needsUpdate = true;\n\t\t\tif (controller.ticklerUpdate.ticklerComments == null)\n\t\t\t{\n\t\t\t\tcontroller.ticklerUpdate.ticklerComments = [];\n\t\t\t}\n\t\t\tvar comment = {\n\t\t\t\tmessage: controller.ticklerUpdate.comment,\n\t\t\t\tproviderName: me.formattedName,\n\t\t\t\tproviderNo: me.providerNo,\n\t\t\t\tupdateDate: new Date(),\n\t\t\t\tnewComment: true\n\t\t\t};\n\t\t\tcontroller.ticklerUpdate.ticklerComments.unshift(comment);\n\t\t\tcontroller.showCommentFormControl = false;\n\t\t\tcontroller.showComments = true;\n\t\t};\n\n\t\tcontroller.cancelCommentUpdate = function()\n\t\t{\n\t\t\tcontroller.ticklerUpdate.comment = null;\n\t\t\tcontroller.showCommentFormControl = false;\n\t\t};\n\n\n\t\tcontroller.searchProviders = function(val)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\tsearchTerm: val,\n\t\t\t\tactive: true\n\t\t\t};\n\t\t\treturn providerService.searchProviders(search, 0, 10).then(function(response)\n\t\t\t{\n\t\t\t\tvar resp = [];\n\t\t\t\tfor (var x = 0; x < response.length; x++)\n\t\t\t\t{\n\t\t\t\t\tresp.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tproviderNo: response[x].providerNo,\n\t\t\t\t\t\tname: response[x].firstName + ' ' + response[x].lastName\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn resp;\n\t\t\t});\n\t\t};\n\n\t\tcontroller.saveChanges = function()\n\t\t{\n\t\t\tif (tickler.message != controller.ticklerUpdate.message)\n\t\t\t{\n\t\t\t\tcontroller.needsUpdate = true;\n\t\t\t}\n\t\t\t// if (tickler.serviceDate != controller.ticklerUpdate.serviceDate.getTime())\n\t\t\t// {\n\t\t\t// \tcontroller.needsUpdate = true;\n\t\t\t// }\n\n\t\t\tif (tickler.serviceDate != controller.ticklerUpdate.serviceDate)\n\t\t\t{\n\t\t\t\tcontroller.needsUpdate = true;\n\t\t\t}\n\n\t\t\tif (controller.needsUpdate)\n\t\t\t{\n\t\t\t\tvar postData = angular.copy(controller.ticklerUpdate);\n\t\t\t\t// if (Juno.Common.Util.exists(postData.serviceDate))\n\t\t\t\t// {\n\t\t\t\t// \t// postData.serviceDate = postData.serviceDate.getTime();\n\t\t\t\t// \tconsole.log('POST DATA: ', postData);\n\t\t\t\t// }\n\n\t\t\t\tconsole.log('Post DATA: ', postData);\n\n\t\t\t\tticklerService.update(postData).then(function(data)\n\t\t\t\t{\n\t\t\t\t\t$uibModalInstance.close(true);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$uibModalInstance.close(false);\n\t\t\t}\n\n\t\t};\n\n\n\t\tcontroller.completeTickler = function()\n\t\t{\n\t\t\tticklerService.setCompleted([tickler.id]).then(function(data)\n\t\t\t{\n\t\t\t\t$uibModalInstance.close(true);\n\t\t\t}, function(reason)\n\t\t\t{\n\t\t\t\talert(reason);\n\t\t\t});\n\n\t\t};\n\n\t\tcontroller.deleteTickler = function()\n\t\t{\n\t\t\tticklerService.setDeleted([tickler.id]).then(function(data)\n\t\t\t{\n\t\t\t\t$uibModalInstance.close(true);\n\t\t\t}, function(reason)\n\t\t\t{\n\t\t\t\talert(reason);\n\t\t\t});\n\n\t\t};\n\n\t\tcontroller.printTickler = function()\n\t\t{\n\t\t\twindow.open('../Tickler.do?method=print&id=' + tickler.id);\n\n\t\t};\n\t}\n]);","angular.module('Tickler').controller('Tickler.TicklerListController', [\n\n\t'$scope',\n\t'$timeout',\n\t'$resource',\n\t'$uibModal',\n\t'$http',\n\t'$stateParams',\n\t'$filter',\n\t'NgTableParams',\n\t'securityService',\n\t'ticklerService',\n\t'noteService',\n\t'providerService',\n\t'providers',\n\n\n\tfunction(\n\t\t$scope,\n\t\t$timeout,\n\t\t$resource,\n\t\t$uibModal,\n\t\t$http,\n\t\t$stateParams,\n\t\t$filter,\n\t\tNgTableParams,\n\t\tsecurityService,\n\t\tticklerService,\n\t\tnoteService,\n\t\tproviderService,\n\t\tproviders)\n\t{\n\n\t\tvar controller = this;\n\n\t\tvar ticklerAPI = $resource('../ws/rs/tickler/ticklers');\n\n\t\tcontroller.lastResponse = \"\"; // Can be removed?\n\t\tcontroller.providers = providers;\n\n\n\t\tsecurityService.hasRights(\n\t\t{\n\t\t\titems: [\n\t\t\t{\n\t\t\t\tobjectName: '_tickler',\n\t\t\t\tprivilege: 'w'\n\t\t\t},\n\t\t\t{\n\t\t\t\tobjectName: '_tickler',\n\t\t\t\tprivilege: 'r'\n\t\t\t}]\n\t\t}).then(function(result)\n\t\t{\n\t\t\tif (result.content != null && result.content.length == 2)\n\t\t\t{\n\t\t\t\tcontroller.ticklerWriteAccess = result.content[0];\n\t\t\t\tcontroller.ticklerReadAccess = result.content[1];\n\n\t\t\t\tif (controller.ticklerReadAccess)\n\t\t\t\t{\n\n\t\t\t\t\t//object which represents all the filters, initialize status.\n\t\t\t\t\tcontroller.search = {\n\t\t\t\t\t\tstatus: 'A'\n\t\t\t\t\t};\n\n\n\t\t\t\t\tcontroller.tableParams = new NgTableParams(\n\t\t\t\t\t{\n\t\t\t\t\t\tpage: 1, // show first page\n\t\t\t\t\t\tcount: 10,// initial count per page\n\t\t\t\t\t\tsorting: {\n\t\t\t\t\t\t\tServiceDate: \"desc\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t// total: 0, // length of data\n\t\t\t\t\t\tgetData: function(params)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// ajax request to api\n\t\t\t\t\t\t\tcontroller.search.count = params.url().count;\n\t\t\t\t\t\t\tcontroller.search.page = params.url().page;\n\t\t\t\t\t\t\tcontroller.search.includeLinks = 'true';\n\t\t\t\t\t\t\tcontroller.search.includeComments = 'true';\n\t\t\t\t\t\t\tcontroller.search.includeUpdates = 'true';\n\t\t\t\t\t\t\tcontroller.search.includeProgram = true;\n\n\t\t\t\t\t\t\t// need to parse out the ng-tables sort column/direction values\n\t\t\t\t\t\t\t// for use in our get parameters.\n\t\t\t\t\t\t\tvar myRegexp = /sorting\\[(\\w+)\\]/g;\n\t\t\t\t\t\t\tfor(var key in params.url()) {\n\t\t\t\t\t\t\t\tvar match = myRegexp.exec(String(key));\n\t\t\t\t\t\t\t\tif(match) {\n\t\t\t\t\t\t\t\t\tcontroller.search.sortColumn = match[1];\n\t\t\t\t\t\t\t\t\tcontroller.search.sortDirection = params.url()[String(key)];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (angular.isDefined($stateParams.demographicNo))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontroller.search.demographicNo = $stateParams.demographicNo;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn ticklerAPI.get(controller.search).$promise.then(function(data)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tparams.total(data.total); // recal. page nav controls\n\t\t\t\t\t\t\t\tvar ticklerList = data.content;\n\t\t\t\t\t\t\t\t// Grab URLs for tickler links\n\t\t\t\t\t\t\t\tfor (var i = 0; i < ticklerList.length; i++){\n\t\t\t\t\t\t\t\t\tif (ticklerList[i].ticklerLinks.length > 0 )\n                                        ticklerList[i].ticklerLinkUrl = controller.getLinkUrl(ticklerList[i].ticklerLinks[0]);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn data.content;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\talert('failed to load rights');\n\t\t\t}\n\t\t}, function(reason)\n\t\t{\n\t\t\talert(reason);\n\t\t});\n\n\t\tcontroller.doSearch = function()\n\t\t{\n\t\t\tcontroller.tableParams.reload();\n\t\t};\n\n\t\tcontroller.clear = function()\n\t\t{\n\t\t\tcontroller.search = angular.copy(\n\t\t\t{\n\t\t\t\tstatus: 'A'\n\t\t\t});\n\t\t\tcontroller.tableParams.reload();\n\t\t};\n\n\t\tcontroller.checkAll = function checkAll(data)\n\t\t{\n\t\t\tangular.forEach(data, function(tickler)\n\t\t\t{\n\t\t\t\ttickler.checked = true;\n\t\t\t});\n\t\t};\n\n\t\t// controller.checkAll = function()\n\t\t// {\n\n\t\t// \tangular.forEach(controller.lastResponse, function(item)\n\t\t// \t{\n\t\t// \t\titem.checked = true;\n\t\t// \t});\n\t\t// };\n\n\t\tcontroller.checkNone = function checkNone(data)\n\t\t{\n\t\t\tangular.forEach(data, function(tickler)\n\t\t\t{\n\t\t\t\ttickler.checked = false;\n\t\t\t});\n\t\t};\n\n\t\tcontroller.completeTicklers = function()\n\t\t{\n\t\t\tvar selectedTicklers = [];\n\t\t\tangular.forEach(controller.tableParams.data, function(item)\n\t\t\t{\n\t\t\t\tif (item.checked)\n\t\t\t\t{\n\t\t\t\t\tselectedTicklers.push(item.id);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tticklerService.setCompleted(selectedTicklers).then(function(data)\n\t\t\t{\n\t\t\t\tcontroller.tableParams.reload();\n\t\t\t}, function(reason)\n\t\t\t{\n\t\t\t\talert(reason);\n\t\t\t});\n\t\t};\n\n\t\tcontroller.deleteTicklers = function()\n\t\t{\n\t\t\tvar selectedTicklers = [];\n\t\t\tangular.forEach(controller.tableParams.data, function(item)\n\t\t\t{\n\t\t\t\tif (item.checked)\n\t\t\t\t{\n\t\t\t\t\tselectedTicklers.push(item.id);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tticklerService.setDeleted(selectedTicklers).then(function(data)\n\t\t\t{\n\t\t\t\tcontroller.tableParams.reload();\n\t\t\t}, function(reason)\n\t\t\t{\n\t\t\t\talert(reason);\n\t\t\t});\n\n\t\t};\n\n\t\tcontroller.addTickler = function()\n\t\t{\n\t\t\tvar windowProps = \"height=400,width=600,location=no,scrollbars=yes,menubars=no,toolbars=no,resizable=yes\";\n\t\t\t//window.open('../tickler/ticklerAdd.jsp','ticklerAdd',windowProps);\n\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: 'src/tickler/ticklerAdd.jsp',\n\t\t\t\tcontroller: 'Tickler.TicklerAddController as ticklerAddCtrl',\n\t\t\t\tbackdrop: 'static',\n\t\t\t\tsize: 'lg'\n\t\t\t});\n\n\t\t\tmodalInstance.result.then(function(data)\n\t\t\t{\n\t\t\t\tconsole.log('data from modalInstance ' + data);\n\t\t\t\tif (data != null && data == true)\n\t\t\t\t{\n\t\t\t\t\tcontroller.tableParams.reload();\n\t\t\t\t}\n\t\t\t}, function(reason)\n\t\t\t{\n\t\t\t\talert(reason);\n\t\t\t});\n\n\n\t\t};\n\n\t\tcontroller.editTickler = function(tickler)\n\t\t{\n\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: 'src/tickler/ticklerView.jsp',\n\t\t\t\tcontroller: 'Tickler.TicklerViewController as ticklerViewCtrl',\n\t\t\t\tbackdrop: 'static',\n\t\t\t\tsize: 'lg',\n\t\t\t\tresolve:\n\t\t\t\t{\n\t\t\t\t\ttickler: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn tickler;\n\t\t\t\t\t},\n\t\t\t\t\tticklerNote: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn noteService.getTicklerNote(tickler.id);\n\t\t\t\t\t},\n\t\t\t\t\tticklerWriteAccess: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn controller.ticklerWriteAccess;\n\t\t\t\t\t},\n\t\t\t\t\tme: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn providerService.getMe();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmodalInstance.result.then(function(data)\n\t\t\t{\n\t\t\t\tconsole.log('data from modalInstance ' + data);\n\t\t\t\tif (data != null && data == true)\n\t\t\t\t{\n\t\t\t\t\tcontroller.tableParams.reload();\n\t\t\t\t}\n\t\t\t}, function(reason)\n\t\t\t{\n\t\t\t\talert(reason);\n\t\t\t});\n\n\t\t};\n\n\t\tcontroller.editNote2 = function(tickler)\n\t\t{\n\n\t\t\tnoteService.getTicklerNote(tickler.id).then(function(data)\n\t\t\t{\n\t\t\t\tif (data.ticklerNote != null)\n\t\t\t\t{\n\t\t\t\t\tcontroller.ticklerNote = data.ticklerNote;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tcontroller.ticklerNote = {\n\t\t\t\t\t\t\"editor\": \"you\",\n\t\t\t\t\t\t\"note\": \"\",\n\t\t\t\t\t\t\"noteId\": 0,\n\t\t\t\t\t\t\"observationDate\": \"now\",\n\t\t\t\t\t\t\"revision\": 0\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t\t{\n\t\t\t\t\ttemplateUrl: 'src/tickler/ticklerNote.jsp',\n\t\t\t\t\tcontroller: 'Tickler.TicklerNoteController as ticklerNoteCtrl',\n\t\t\t\t\tbackdrop: 'static',\n\t\t\t\t\tresolve:\n\t\t\t\t\t{\n\t\t\t\t\t\tticklerNote: function()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn controller.ticklerNote;\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttickler: function()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn tickler;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, function(reason)\n\t\t\t{\n\t\t\t\talert(reason);\n\t\t\t});\n\n\t\t};\n\n\t\tcontroller.showComments = function(tickler)\n\t\t{\n\t\t\tcontroller.tickler = tickler;\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: 'src/tickler/ticklerComments.jsp',\n\t\t\t\tcontroller: 'Tickler.TicklerCommentController as ticklerCommentCtrl',\n\t\t\t\tbackdrop: 'static',\n\t\t\t\tresolve:\n\t\t\t\t{\n\t\t\t\t\ttickler: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn controller.tickler;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tcontroller.printArea = function()\n\t\t{\n\t\t\twindow.print();\n\t\t};\n\n\t\tcontroller.getLinkUrl = function getLinkUrl(input)\n\t\t{\n            if (input !== null && input.id !== null)\n            {\n                var url = \"\";\n\n                if (input.tableName === 'CML')\n                {\n                    url = \"../lab/CA/ON/CMLDisplay.jsp?segmentID=\" + input.tableId;\n                }\n                else if (input.tableName === 'MDS')\n                {\n                    url = \"../oscarMDS/SegmentDisplay.jsp?segmentID=\" + input.tableId;\n                }\n                else if (input.tableName === 'HL7')\n                {\n                    url = \"../lab/CA/ALL/labDisplay.jsp?segmentID=\" + input.tableId;\n                }\n                else if (input.tableName === 'DOC')\n                {\n                    url = \"../dms/ManageDocument.do?method=display&doc_no=\" + input.tableId;\n                }\n                return url;\n            }\n\n\t\t};\n\t}\n]);","'use strict';\n\nangular.module('Tickler', ['Common', 'Common.Services', 'Common.Filters']);","/*\n\n    Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n    This software is published under the GPL GNU General Public License.\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n    This software was written for the\n    Department of Family Medicine\n    McMaster University\n    Hamilton\n    Ontario, Canada\n\n*/\n\nangular.module('Record.Tracker').controller('Record.Tracker.TrackerController', [\n\n\t'$rootScope',\n\t'$scope',\n\t'$http',\n\t'$location',\n\t'$stateParams',\n\t'$state',\n\t'$timeout',\n\t'demographicService',\n\t'noteService',\n\t'uxService',\n\n\tfunction(\n\t\t$rootScope,\n\t\t$scope,\n\t\t$http,\n\t\t$location,\n\t\t$stateParams,\n\t\t$state,\n\t\t$timeout,\n\t\tdemographicService,\n\t\tnoteService,\n\t\tuxService)\n\t{\n\n\t\tvar controller = this;\n\t\tcontroller.getTrackerUrl = function getTrackerUrl()\n\t\t{\n\n\t\t\turl = '../oscarEncounter/oscarMeasurements/HealthTrackerPage.jspf?template=tracker&demographic_no=' + $stateParams.demographicNo;\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tcontroller.resizeIframe = function resizeIframe(iframe)\n\t\t{\n\n\t\t\tvar h = iframe.contentWindow.document.body.scrollHeight;\n\t\t\tif (h > 0)\n\t\t\t{\n\t\t\t\tiframe.height = h + \"px\";\n\t\t\t\t//alert(\"h > 0\");\n\t\t\t}\n\t\t\t//alert(\"h\" + h);\n\t\t};\n\t}\n]);","'use strict';\n\nangular.module('Record.Tracker', ['Common', 'Common.Services']);","/*\n\n    Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n    This software is published under the GPL GNU General Public License.\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n    This software was written for the\n    Department of Family Medicine\n    McMaster University\n    Hamilton\n    Ontario, Canada\n\n*/\nangular.module('Record.PHR').controller('Record.PHR.PHRController', [\n\n\t'$scope',\n\t'$http',\n\t'$location',\n\t'$state',\n\t'$stateParams',\n\t'demographicService',\n\t'demo',\n\t'formService',\n\n\tfunction(\n\t\t$scope,\n\t\t$http,\n\t\t$location,\n\t\t$state,\n\t\t$stateParams,\n\t\tdemographicService,\n\t\tdemo,\n\t\tformService)\n\t{\n\n\t\tvar controller = this;\n\n\t\tconsole.log(\"phr ctrl \", $stateParams, $state);\n\n\t\tcontroller.page = {};\n\t\tcontroller.page.currentFormList = [];\n\t\tcontroller.page.currentForm = {};\n\t\tcontroller.page.currentlistId = 0;\n\n\t\tconsole.log(\"What is the state \" + $state.params.type + \" : \" + angular.isUndefined($state.params.type) + \" id \" + $state.params.id, $state); // Use this to load the current form if the page is refreshed\n\n\n\t\tcontroller.page.formlists = [\n\t\t{\n\t\t\tid: 0,\n\t\t\tlabel: 'Data'\n\t\t}]; //,{id:1,label:'Msgs'}];  //Need to get this from the server.\n\n\t\tcontroller.page.currentFormList[0] = [\n\t\t{\n\t\t\tid: 0,\n\t\t\tname: 'Glucose',\n\t\t\turl: '../oscarEncounter/myoscar/measurements_glucose.do?type=GLUCOSE&demoNo=',\n\t\t\ttype: 'frame'\n\t\t},\n\t\t{\n\t\t\tid: 1,\n\t\t\tname: 'BP',\n\t\t\turl: '../oscarEncounter/myoscar/measurements_blood_pressure.do?type=BLOOD_PRESSURE&demoNo=',\n\t\t\ttype: 'frame'\n\t\t},\n\t\t{\n\t\t\tid: 2,\n\t\t\tname: 'Height & Weight',\n\t\t\turl: '../oscarEncounter/myoscar/measurements_height_and_weight.do?type=HEIGHT_AND_WEIGHT&demoNo=',\n\t\t\ttype: 'frame'\n\t\t},\n\t\t{\n\t\t\tid: 3,\n\t\t\tname: 'Open Record',\n\t\t\turl: '../demographic/viewPhrRecord.do?demographic_no=',\n\t\t\ttype: 'window'\n\t\t},\n\t\t{\n\t\t\tid: 4,\n\t\t\tname: 'Send a Message',\n\t\t\turl: '../phr/PhrMessage.do?method=createMessage&demographicNo=',\n\t\t\ttype: 'window'\n\t\t},\n\t\t{\n\t\t\tid: 5,\n\t\t\tname: 'Data Sync',\n\t\t\turl: '../admin/oscar_myoscar_sync_config_redirect.jsp?uselessParam=',\n\t\t\ttype: 'window'\n\t\t}];\n\n\n\n\t\t/*controller.page.formlists.forEach(function (item, index) {\n\t\t\tconsole.log('What is the item ',item);\n\t\t\tformService.getAllFormsByHeading($stateParams.demographicNo,item.label).then(function(data) {\n\t\t        console.debug('whats the index'+index,data);\n\t\t        controller.page.currentFormList[index] = data.list;\n\t\t    });\n\t\t});\n\t\t*/\n\n\t\tcontroller.changeTo = function changeTo(listId)\n\t\t{\n\t\t\tcontroller.page.currentlistId = listId;\n\t\t\tconsole.log('set currentlist to ' + listId);\n\t\t\tif (listId == 0)\n\t\t\t{\n\t\t\t\tformService.getAllFormsByHeading($stateParams.demographicNo, 'Completed').then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.debug('whats the index' + 0, results);\n\t\t\t\t\t\tcontroller.page.currentFormList[0] = results.list;\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tcontroller.viewFormState = function viewFormState(item)\n\t\t{\n\n\t\t\twhile (document.getElementById('formInViewFrame').hasChildNodes())\n\t\t\t{\n\t\t\t\tdocument.getElementById('formInViewFrame').removeChild(document.getElementById('formInViewFrame').firstChild);\n\t\t\t}\n\n\t\t\tvar url = item.url + $stateParams.demographicNo;\n\t\t\tconsole.log(\"item\", item);\n\n\t\t\tif (item.type == 'frame')\n\t\t\t{\n\t\t\t\tcontroller.page.currentForm = item;\n\t\t\t\tvar pymParent = new pym.Parent('formInViewFrame', url,\n\t\t\t\t{});\n\t\t\t\tcontroller.pymParent = pymParent;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar rnd = Math.round(Math.random() * 1000);\n\t\t\t\twin = \"win\" + rnd;\n\t\t\t\twindow.open(url, win, \"scrollbars=yes, location=no, width=900, height=600\", \"\");\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t};\n\n\n\n\t\t/*\n\t\t * Used to make the left side list tab be active\n\t\t */\n\t\tcontroller.getListClass = function getListClass(listId)\n\t\t{\n\t\t\tif (listId === controller.page.currentlistId)\n\t\t\t{\n\t\t\t\treturn \"active\";\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Used to mark which form is active.\n\t\t */\n\t\tcontroller.getActiveFormClass = function getActiveFormClass(item)\n\t\t{\n\t\t\tif (item.type == controller.page.currentForm.type && item.id == controller.page.currentForm.id && angular.isDefined(item.id))\n\t\t\t{\n\t\t\t\treturn \"active\";\n\t\t\t}\n\t\t\telse if (item.type == controller.page.currentForm.type && angular.isUndefined(item.id) && item.formId == controller.page.currentForm.formId)\n\t\t\t{\n\t\t\t\treturn \"active\";\n\t\t\t}\n\t\t};\n\n\t\t// Remove this?\n\t\tfunction handleError(errorMessage)\n\t\t{\n\t\t\tconsole.log(errorMessage);\n\t\t}\n\n\t\t/*\n\t\t * This still needs to be tested\n\t\t */\n\t\tcontroller.keypress = function keypress(event)\n\t\t{\n\t\t\tif (event.altKey == true && event.key == \"Up\")\n\t\t\t{\n\t\t\t\tconsole.log(\"up\", event);\n\t\t\t\tconsole.log(controller.page.currentFormList[controller.page.currentlistId].indexOf(controller.page.currentForm));\n\t\t\t\tvar currIdx = controller.page.currentFormList[controller.page.currentlistId].indexOf(controller.page.currentForm);\n\t\t\t\tif (currIdx > 0)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.currentForm = controller.page.currentFormList[controller.page.currentlistId][currIdx - 1];\n\t\t\t\t\tcontroller.viewFormState(controller.page.currentForm);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (event.altKey == true && event.key == \"Down\")\n\t\t\t{\n\t\t\t\tconsole.log(\"down\", event);\n\t\t\t\tvar currIdx = controller.page.currentFormList[controller.page.currentlistId].indexOf(controller.page.currentForm);\n\t\t\t\tconsole.log(currIdx, controller.page.currentFormList[controller.page.currentlistId].length);\n\t\t\t\tif (currIdx <= controller.page.currentFormList[controller.page.currentlistId].length)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.currentForm = controller.page.currentFormList[controller.page.currentlistId][currIdx + 1];\n\t\t\t\t\tcontroller.viewFormState(controller.page.currentForm);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconsole.log(\"keypress\", event.altKey, event.key, event);\n\t\t\t}\n\t\t};\n\t}\n]);","'use strict';\n\nangular.module('Record.PHR', ['Common', 'Common.Services']);","/*\n\n    Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n    This software is published under the GPL GNU General Public License.\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n    This software was written for the\n    Department of Family Medicine\n    McMaster University\n    Hamilton\n    Ontario, Canada\n\n*/\nangular.module('Record.Details').controller('Record.Details.DetailsController', [\n\n\t'$scope',\n\t'$http',\n\t'$location',\n\t'$stateParams',\n\t'$state',\n\t'$window',\n\t'demographicService',\n\t'demographicsService',\n\t'providersService',\n\t'patientDetailStatusService',\n\t'securityService',\n\t'staticDataService',\n\t'referralDoctorsService',\n\t'user',\n\n\tfunction(\n\t\t$scope,\n\t\t$http,\n\t\t$location,\n\t\t$stateParams,\n\t\t$state,\n\t\t$window,\n\t\tdemographicService,\n\t\tdemographicsService,\n\t\tprovidersService,\n\t\tpatientDetailStatusService,\n\t\tsecurityService,\n\t\tstaticDataService,\n\t\treferralDoctorsService,\n\t\tuser)\n\t{\n\n\t\tvar controller = this;\n\t\tcontroller.page = {};\n\n\t\t// Global variables\n\t\tvar posExtras = {};\n\t\tvar hcParts = {};\n\t\tvar phoneNum = {};\n\t\tvar colorAttn = \"#ffff99\";\n\t\tvar defPhTitle = \"Check to set preferred contact number\";\n\t\tvar prefPhTitle = \"Preferred contact number\";\n\t\tvar hin0;\n\t\tvar ver0;\n\t\tvar chartNo0;\n\t\tvar cytolNum0;\n\t\tvar referralDocNo0;\n\t\tvar familyDocNo0;\n\t\tvar sin0;\n\t\tvar effDate0;\n\t\tvar hcRenewDate0;\n\t\tvar rosterDate0;\n\t\tvar rosterTerminationDate0;\n\t\tvar patientStatusDate0;\n\t\tvar dateJoined0;\n\t\tvar endDate0;\n\t\tvar onWaitingListSinceDate0;\n\t\tvar paperChartArchivedDate0;\n\n\t\tcontroller.properties = $scope.$parent.recordCtrl.properties;\n\n\t\tcontroller.init = function init()\n\t\t{\n\t\t\tdemographicService.getDemographic($stateParams.demographicNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.demo = results;\n\t\t\t\t\tcontroller.initDemographicVars();\n\t\t\t\t\tcontroller.checkAccess();\n\n\t\t\t\t\t// retrieve provider types for dropdown selection\n\t\t\t\t\t//TODO - are roles determined by security role or provider type?\n\t\t\t\t\tprovidersService.getBySecurityRole(\"doctor\").then(\n\t\t\t\t\t\tfunction success(data) {\n\t\t\t\t\t\t\tcontroller.page.doctors = data;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tprovidersService.getBySecurityRole(\"nurse\").then(\n\t\t\t\t\t\tfunction success(data) {\n\t\t\t\t\t\t\tcontroller.page.nurses = data;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tprovidersService.getBySecurityRole(\"midwife\").then(\n\t\t\t\t\t\tfunction success(data) {\n\t\t\t\t\t\t\tcontroller.page.midwives = data;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\t// retrieve contact lists for demographic\n\t\t\t\t\tdemographicService.getDemographicContacts(controller.page.demo.demographicNo, \"personal\").then(\n\t\t\t\t\t\tfunction success(data) {\n\t\t\t\t\t\t\tcontroller.page.demoContacts = demoContactShow(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tdemographicService.getDemographicContacts(controller.page.demo.demographicNo, \"professional\").then(\n\t\t\t\t\t\tfunction success(data) {\n\t\t\t\t\t\t\tcontroller.page.demoContactPros = demoContactShow(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\t//show notes\n\t\t\t\t\tif (controller.page.demo.notes != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.page.demo.scrNotes = controller.page.demo.notes;\n\t\t\t\t\t\tif (/^<unotes>[\\s\\S]*/.test(controller.page.demo.scrNotes)) controller.page.demo.scrNotes = controller.page.demo.scrNotes.substring(\"<unotes>\".length);\n\t\t\t\t\t\tif (/[\\s\\S]*<\\/unotes>$/.test(controller.page.demo.scrNotes)) controller.page.demo.scrNotes = controller.page.demo.scrNotes.substring(0, controller.page.demo.scrNotes.lastIndexOf(\"</unotes>\"));\n\t\t\t\t\t}\n\n\t\t\t\t\t//show referral doctor\n\t\t\t\t\tif (controller.page.demo.familyDoctor != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar referralDoc = controller.formatDocOutput(controller.page.demo.familyDoctor);\n\t\t\t\t\t\tcontroller.page.demo.scrReferralDocNo = referralDoc.number;\n\t\t\t\t\t\tcontroller.page.demo.scrReferralDoc = referralDoc.name;\n\t\t\t\t\t}\n\n\t\t\t\t\t//show family doctor\n\t\t\t\t\tif (controller.page.demo.familyDoctor2 != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar familyDoc = controller.formatDocOutput(controller.page.demo.familyDoctor2);\n\t\t\t\t\t\tcontroller.page.demo.scrFamilyDocNo = familyDoc.number;\n\t\t\t\t\t\tcontroller.page.demo.scrFamilyDoc = familyDoc.name;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (controller.page.demo.extras != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.page.demo.extras = toArray(controller.page.demo.extras);\n\t\t\t\t\t\tfor (var i = 0; i < controller.page.demo.extras.length; i++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (controller.page.demo.extras[i].key == \"demo_cell\") controller.page.demo.scrDemoCell = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"aboriginal\") controller.page.demo.scrAboriginal = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"hPhoneExt\") controller.page.demo.scrHPhoneExt = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"wPhoneExt\") controller.page.demo.scrWPhoneExt = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"cytolNum\") controller.page.demo.scrCytolNum = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"phoneComment\") controller.page.demo.scrPhoneComment = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"paper_chart_archived\") controller.page.demo.scrPaperChartArchived = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"paper_chart_archived_date\") controller.page.demo.scrPaperChartArchivedDate = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"usSigned\") controller.page.demo.scrUsSigned = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"privacyConsent\") controller.page.demo.scrPrivacyConsent = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"informedConsent\") controller.page.demo.scrInformedConsent = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"securityQuestion1\") controller.page.demo.scrSecurityQuestion1 = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"securityAnswer1\") controller.page.demo.scrSecurityAnswer1 = controller.page.demo.extras[i].value;\n\t\t\t\t\t\t\telse if (controller.page.demo.extras[i].key == \"rxInteractionWarningLevel\") controller.page.demo.scrRxInteractionLevel = controller.page.demo.extras[i].value;\n\n\n\t\t\t\t\t\t\t//record array position of extras by keys - to be used on saving\n\t\t\t\t\t\t\tposExtras[controller.page.demo.extras[i].key] = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t//show phone numbers with preferred check\n\t\t\t\t\tcontroller.page.demo.scrCellPhone = getPhoneNum(controller.page.demo.scrDemoCell);\n\t\t\t\t\tcontroller.page.demo.scrHomePhone = getPhoneNum(controller.page.demo.phone);\n\t\t\t\t\tcontroller.page.demo.scrWorkPhone = getPhoneNum(controller.page.demo.alternativePhone);\n\n\t\t\t\t\t//show waitingListNames\n\t\t\t\t\tif (controller.page.demo.waitingListNames != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (controller.page.demo.waitingListNames.id != null)\n\t\t\t\t\t\t{ //only 1 entry, convert to array\n\t\t\t\t\t\t\tvar tmp = {};\n\t\t\t\t\t\t\ttmp.id = controller.page.demo.waitingListNames.id;\n\t\t\t\t\t\t\ttmp.name = controller.page.demo.waitingListNames.name;\n\t\t\t\t\t\t\ttmp.groupNo = controller.page.demo.waitingListNames.groupNo;\n\t\t\t\t\t\t\ttmp.providerNo = controller.page.demo.waitingListNames.providerNo;\n\t\t\t\t\t\t\ttmp.createDate = controller.page.demo.waitingListNames.createDate;\n\t\t\t\t\t\t\ttmp.isHistory = controller.page.demo.waitingListNames.isHistory;\n\t\t\t\t\t\t\tcontroller.page.demo.waitingListNames = [tmp];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\n\t\t\t\t\tcontroller.page.cellPhonePreferredMsg = defPhTitle;\n\t\t\t\t\tcontroller.page.homePhonePreferredMsg = defPhTitle;\n\t\t\t\t\tcontroller.page.workPhonePreferredMsg = defPhTitle;\n\t\t\t\t\tif (isPreferredPhone(controller.page.demo.scrDemoCell))\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.page.demo.scrPreferredPhone = \"C\";\n\t\t\t\t\t\tcontroller.page.preferredPhoneNumber = controller.page.demo.scrCellPhone;\n\t\t\t\t\t\tcontroller.page.cellPhonePreferredMsg = prefPhTitle;\n\t\t\t\t\t\tcontroller.page.cellPhonePreferredColor = colorAttn;\n\t\t\t\t\t}\n\t\t\t\t\telse if (isPreferredPhone(controller.page.demo.phone))\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.page.demo.scrPreferredPhone = \"H\";\n\t\t\t\t\t\tcontroller.page.preferredPhoneNumber = controller.page.demo.scrHomePhone;\n\t\t\t\t\t\tcontroller.page.homePhonePreferredMsg = prefPhTitle;\n\t\t\t\t\t\tcontroller.page.homePhonePreferredColor = colorAttn;\n\t\t\t\t\t}\n\t\t\t\t\telse if (isPreferredPhone(controller.page.demo.alternativePhone))\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.page.demo.scrPreferredPhone = \"W\";\n\t\t\t\t\t\tcontroller.page.preferredPhoneNumber = controller.page.demo.scrWorkPhone;\n\t\t\t\t\t\tcontroller.page.workPhonePreferredMsg = prefPhTitle;\n\t\t\t\t\t\tcontroller.page.workPhonePreferredColor = colorAttn;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.page.preferredPhoneNumber = controller.page.demo.scrHomePhone;\n\t\t\t\t\t}\n\n\t\t\t\t\tcontroller.page.dataChanged = false;\n\n\t\t\t\t\t//get static lists to be selected\n\t\t\t\t\tcontroller.page.genders = staticDataService.getGenders();\n\t\t\t\t\tcontroller.page.titles = staticDataService.getTitles();\n\t\t\t\t\tcontroller.page.provinces = staticDataService.getProvinces();\n\t\t\t\t\tcontroller.page.countries = staticDataService.getCountries();\n\t\t\t\t\tcontroller.page.engFre = staticDataService.getEngFre();\n\t\t\t\t\tcontroller.page.spokenlangs = staticDataService.getSpokenLanguages();\n\t\t\t\t\tcontroller.page.rosterTermReasons = staticDataService.getRosterTerminationReasons();\n\t\t\t\t\tcontroller.page.securityQuestions = staticDataService.getSecurityQuestions();\n\t\t\t\t\tcontroller.page.rxInteractionLevels = staticDataService.getRxInteractionLevels();\n\n\t\t\t\t\t//get patient detail status\n\t\t\t\t\tpatientDetailStatusService.getStatus($stateParams.demographicNo).then(\n\t\t\t\t\t\tfunction success(results)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontroller.page.macPHRLoggedIn = results.macPHRLoggedIn;\n\t\t\t\t\t\t\tcontroller.page.macPHRIdsSet = results.macPHRIdsSet;\n\t\t\t\t\t\t\tcontroller.page.macPHRVerificationLevel = results.macPHRVerificationLevel;\n\n\t\t\t\t\t\t\tcontroller.page.integratorEnabled = results.integratorEnabled;\n\t\t\t\t\t\t\tcontroller.page.integratorOffline = results.integratorOffline;\n\t\t\t\t\t\t\tcontroller.page.integratorAllSynced = results.integratorAllSynced;\n\n\t\t\t\t\t\t\tcontroller.page.conformanceFeaturesEnabled = results.conformanceFeaturesEnabled;\n\t\t\t\t\t\t\tcontroller.page.workflowEnhance = results.workflowEnhance;\n\t\t\t\t\t\t\tcontroller.page.billregion = results.billregion;\n\t\t\t\t\t\t\tcontroller.page.defaultView = results.defaultView;\n\t\t\t\t\t\t\tcontroller.page.hospitalView = results.hospitalView;\n\n\t\t\t\t\t\t\tif (controller.page.integratorEnabled)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (controller.page.integratorOffline)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcontroller.page.integratorStatusColor = \"#ff5500\";\n\t\t\t\t\t\t\t\t\tcontroller.page.integratorStatusMsg = \"NOTE: Integrator is not available at this time\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (!controller.page.integratorAllSynced)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcontroller.page.integratorStatusColor = \"#ff5500\";\n\t\t\t\t\t\t\t\t\tcontroller.page.integratorStatusMsg = \"NOTE: Integrated Community is not synced\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcontroller.page.billingHistoryLabel = \"Invoice List\";\n\t\t\t\t\t\t\tif (controller.page.billregion == \"ON\") controller.page.billingHistoryLabel = \"Billing History\";\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t//show patientStatusList & rosterStatusList values\n\t\t\t\t\tdemographicsService.getStatusList(\"roster\").then(\n\t\t\t\t\t\tfunction success(data)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontroller.page.rosterStatusList = toArray(data);\n\t\t\t\t\t\t\tcontroller.page.rosterStatusList.unshift(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"FS\",\n\t\t\t\t\t\t\t\t\t\"label\": \"FS - fee for service\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontroller.page.rosterStatusList.unshift(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"TE\",\n\t\t\t\t\t\t\t\t\t\"label\": \"TE - terminated\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontroller.page.rosterStatusList.unshift(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"NR\",\n\t\t\t\t\t\t\t\t\t\"label\": \"NR - not rostered\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontroller.page.rosterStatusList.unshift(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"RO\",\n\t\t\t\t\t\t\t\t\t\"label\": \"RO - rostered\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tdemographicsService.getStatusList(\"patient\").then(\n\t\t\t\t\t\tfunction success(data)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontroller.page.patientStatusList = toArray(data);\n\t\t\t\t\t\t\tcontroller.page.patientStatusList.unshift(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"FI\",\n\t\t\t\t\t\t\t\t\t\"label\": \"FI - Fired\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontroller.page.patientStatusList.unshift(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"MO\",\n\t\t\t\t\t\t\t\t\t\"label\": \"MO - Moved\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontroller.page.patientStatusList.unshift(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"DE\",\n\t\t\t\t\t\t\t\t\t\"label\": \"DE - Deceased\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontroller.page.patientStatusList.unshift(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"IN\",\n\t\t\t\t\t\t\t\t\t\"label\": \"IN - Inactive\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontroller.page.patientStatusList.unshift(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"AC\",\n\t\t\t\t\t\t\t\t\t\"label\": \"AC - Active\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\tcontroller.formatDate(\"DobM\"); //done on page load\n\t\t\t\t\tcontroller.formatDate(\"DobD\"); //done on page load\n\t\t\t\t\tcontroller.page.demo.age = Juno.Common.Util.calcAge(controller.page.demo.dobYear, controller.page.demo.dobMonth, controller.page.demo.dobDay);\n\t\t\t\t\tcontroller.formatLastName(); //done on page load\n\t\t\t\t\tcontroller.formatFirstName(); //done on page load\n\t\t\t\t\tcontroller.setSwipeReady(); //done on page load\n\t\t\t\t\tcontroller.validateHCSave();\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\talert('Error loading demographic: ', errors) // TODO: Display actual error message\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t// controller.page.demo = demo;\n\t\t};\n\n\t\tcontroller.initDemographicVars = function initDemographicVars()\n\t\t{\n\t\t\tphoneNum[\"C\"] = controller.page.demo.scrCellPhone;\n\t\t\tphoneNum[\"H\"] = controller.page.demo.scrHomePhone;\n\t\t\tphoneNum[\"W\"] = controller.page.demo.scrWorkPhone;\n\t\t\tphoneNum[\"HX\"] = controller.page.demo.scrHPhoneExt;\n\t\t\tphoneNum[\"WX\"] = controller.page.demo.scrWPhoneExt;\n\t\t\thin0 = controller.page.demo.hin;\n\t\t\tver0 = controller.page.demo.ver;\n\t\t\tchartNo0 = controller.page.demo.chartNo;\n\t\t\tcytolNum0 = controller.page.demo.scrCytolNum;\n\t\t\treferralDocNo0 = controller.page.demo.scrReferralDocNo;\n\t\t\tsin0 = controller.page.demo.sin;\n\t\t\teffDate0 = controller.page.demo.effDate;\n\t\t\thcRenewDate0 = controller.page.demo.hcRenewDate;\n\t\t\trosterDate0 = controller.page.demo.rosterDate;\n\t\t\trosterTerminationDate0 = controller.page.demo.rosterTerminationDate;\n\t\t\tpatientStatusDate0 = controller.page.demo.patientStatusDate;\n\t\t\tdateJoined0 = controller.page.demo.dateJoined;\n\t\t\tendDate0 = controller.page.demo.endDate;\n\t\t\tonWaitingListSinceDate0 = controller.page.demo.onWaitingListSinceDate;\n\t\t\tpaperChartArchivedDate0 = controller.page.demo.scrPaperChartArchivedDate;\n\t\t};\n\n\t\tcontroller.checkAccess = function checkAccess()\n\t\t{\n\t\t\t//get access rights\n\t\t\tsecurityService.hasRight(\"_demographic\", \"r\", controller.page.demo.demographicNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.canRead = results;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t\tsecurityService.hasRight(\"_demographic\", \"u\", controller.page.demo.demographicNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.cannotChange = !results;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\t\t};\n\n\t\t// Is there a shared location where this could be accessed from any controller? i.e. a utils file\n\t\tcontroller.isNaN = function(num)\n\t\t{\n\t\t\treturn isNaN(num);\n\t\t};\n\n\t\t//disable click and keypress if user only has read-access\n\t\tcontroller.checkAction = function checkAction(event)\n\t\t{\n\t\t\tif (controller.page.cannotChange)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tcontroller.setSwipeReady();\n\t\t\t}\n\t\t};\n\n\t\t//----------------------//\n\t\t// on-screen operations //\n\t\t//----------------------//\n\t\t//monitor data changed\n\t\t$scope.$watch(function()\n\t\t{\n\t\t\treturn controller.page.demo;\n\t\t}, function(newValue, oldValue)\n\t\t{\n\t\t\tif (newValue !== oldValue && angular.isDefined(oldValue) && angular.isDefined(newValue))\n\t\t\t{\n\t\t\t\tcontroller.page.dataChanged = true;\n\t\t\t}\n\n\t\t}, true);\n\n\t\t$window.onbeforeunload = function ()\n\t\t{\n\t\t\t/* Have to check if we are on the details page since the controller is\n\t\t\t\tnot necessarily destroyed upon leaving the page\n\t\t\t*/\n\t\t\tif (controller.page.dataChanged === true && $state.current.name === 'record.details')\n\t\t\t{\n\t\t\t\treturn 'You have unsaved patient data. Are you sure you want to leave?';\n\t\t\t}\n\t\t};\n\n\t\t$scope.$on('$destroy', function() {\n\t\t\tdelete $window.onbeforeunload;\n\t\t});\n\n\t\t// Warn user about unsaved data before a state change\n\t\t$scope.$on(\"$stateChangeStart\", function(event)\n\t\t{\n\t\t\tif (controller.page.dataChanged === true)\n\t\t\t{\n\t\t\t\tvar discard = confirm(\"You have unsaved patient data. Are you sure you want to leave?\");\n\t\t\t\tif (!discard)\n\t\t\t\t{\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\tdemographicService.getDemographic($stateParams.demographicNo).then(\n\t\t\t\t\t\tfunction success(results)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// TODO: Celebrate\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\talert('Error loading demographic: ', errors) // TODO: Display actual error message\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//format lastname, firstname\n\t\tcontroller.formatLastName = function formatLastName()\n\t\t{\n\t\t\tcontroller.page.demo.lastName = controller.page.demo.lastName.toUpperCase();\n\t\t};\n\t\tcontroller.formatFirstName = function formatFirstName()\n\t\t{\n\t\t\tcontroller.page.demo.firstName = controller.page.demo.firstName.toUpperCase();\n\t\t};\n\n\n\t\t// //calculate age\n\t\t// var now = new Date();\n\t\t// controller.calculateAge = function calculateAge()\n\t\t// {\n\t\t// \tcontroller.page.demo.age = now.getFullYear() - controller.page.demo.dobYear;\n\t\t// \tif (now.getMonth() < controller.page.demo.dobMonth - 1) controller.page.demo.age--;\n\t\t// \telse if (now.getMonth() == controller.page.demo.dobMonth - 1 && now.getDate() < controller.page.demo.dobDay) controller.page.demo.age--;\n\t\t// };\n\t\t//\n\t\t// controller.calculateAge(); //done on page load\n\n\t\t//set ready for swipe card\n\t\tcontroller.setSwipeReady = function setSwipeReady(status)\n\t\t{\n\t\t\tif (status == \"off\")\n\t\t\t{\n\t\t\t\tcontroller.page.readyForSwipe = \"\";\n\t\t\t\tcontroller.page.swipecardMsg = \"Click for Card Swipe\";\n\t\t\t}\n\t\t\telse if (status == \"done\")\n\t\t\t{\n\t\t\t\tcontroller.page.readyForSwipe = \"btn-primary\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcontroller.page.readyForSwipe = \"btn-success\";\n\t\t\t\tcontroller.page.swipecardMsg = \"Ready for Card Swipe\";\n\t\t\t\tcontroller.page.swipecard = \"\";\n\t\t\t}\n\t\t};\n\n\t\t//Health card verification\n\t\tcontroller.healthCardHandler = function healthCardHandler(keycode)\n\t\t{\n\t\t\tif (keycode == 13)\n\t\t\t{ //carriage-return\n\t\t\t\tvar swipeCardData = controller.page.swipecard;\n\t\t\t\tcontroller.page.swipecard = \"\";\n\n\t\t\t\tif (swipeCardData.substring(0, 3) == \"%E?\")\n\t\t\t\t{ //swipe card error\n\t\t\t\t\talert(\"Error reading card\");\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (swipeCardData.substring(2, 8) == \"610054\")\n\t\t\t\t\t{ //Ontario\n\t\t\t\t\t\thcParts[\"issuer\"] = \"ON\";\n\t\t\t\t\t\thcParts[\"hin\"] = swipeCardData.substring(8, 18);\n\n\t\t\t\t\t\tvar namePos = swipeCardData.indexOf(\"^\") + 1;\n\t\t\t\t\t\tvar endNamePos = swipeCardData.indexOf(\"^\", namePos);\n\t\t\t\t\t\thcParts[\"fullName\"] = swipeCardData.substring(namePos, endNamePos);\n\t\t\t\t\t\thcParts[\"lastName\"] = hcParts[\"fullName\"].split(\"/\")[0];\n\t\t\t\t\t\thcParts[\"firstName\"] = hcParts[\"fullName\"].split(\"/\")[1].trim();\n\n\t\t\t\t\t\thcParts[\"sex\"] = swipeCardData.substring(endNamePos + 8, endNamePos + 9);\n\t\t\t\t\t\thcParts[\"dob\"] = swipeCardData.substring(endNamePos + 9, endNamePos + 17);\n\t\t\t\t\t\thcParts[\"hinExp\"] = swipeCardData.substring(endNamePos + 1, endNamePos + 5) + hcParts[\"dob\"].substring(6, 8);\n\t\t\t\t\t\thcParts[\"hinVer\"] = swipeCardData.substring(endNamePos + 17, endNamePos + 19);\n\t\t\t\t\t\thcParts[\"firstNameShort\"] = swipeCardData.substring(endNamePos + 19, endNamePos + 24);\n\t\t\t\t\t\thcParts[\"issueDate\"] = swipeCardData.substring(endNamePos + 24, endNamePos + 30);\n\t\t\t\t\t\thcParts[\"lang\"] = swipeCardData.substring(endNamePos + 30, endNamePos + 32);\n\n\t\t\t\t\t\tif (!isNumber(hcParts[\"dob\"]))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thcParts[\"dob\"] = null;\n\t\t\t\t\t\t\thcParts[\"hinExp\"] = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!isNumber(hcParts[\"hinExp\"]))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thcParts[\"hinExp\"] = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!isNumber(hcParts[\"issueDate\"]))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thcParts[\"issueDate\"] = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontroller.setSwipeReady(\"done\");\n\t\t\t\t\t\tcontroller.healthCardUpdateDemographics();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\talert(\"Not Ontario Health Card\");\n\t\t\t\t\t}\n\t\t\t\t\tcontroller.validateHC(); //Run HCValidation\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tcontroller.healthCardUpdateDemographics = function healthCardUpdateDemographics()\n\t\t{\n\t\t\tvar now = new Date();\n\t\t\tif (controller.page.demo.hcType != hcParts[\"issuer\"])\n\t\t\t{\n\t\t\t\tcontroller.page.demo.hcType = hcParts[\"issuer\"];\n\t\t\t\tcontroller.page.hcTypeColor = colorAttn;\n\t\t\t}\n\t\t\tif (controller.page.demo.lastName != hcParts[\"lastName\"])\n\t\t\t{\n\t\t\t\tcontroller.page.demo.lastName = hcParts[\"lastName\"];\n\t\t\t\tcontroller.page.lastNameColor = colorAttn;\n\t\t\t}\n\t\t\tif (controller.page.demo.firstName != hcParts[\"firstName\"])\n\t\t\t{\n\t\t\t\tcontroller.page.demo.firstName = hcParts[\"firstName\"];\n\t\t\t\tcontroller.page.firstNameColor = colorAttn;\n\t\t\t}\n\t\t\tif (isNumber(hcParts[\"hin\"]) && controller.page.demo.hin != hcParts[\"hin\"])\n\t\t\t{\n\t\t\t\tcontroller.page.demo.hin = hcParts[\"hin\"];\n\t\t\t\tcontroller.page.hinColor = colorAttn;\n\t\t\t}\n\t\t\tif (controller.page.demo.ver != hcParts[\"hinVer\"])\n\t\t\t{\n\t\t\t\tcontroller.page.demo.ver = hcParts[\"hinVer\"];\n\t\t\t\tcontroller.page.verColor = colorAttn;\n\t\t\t}\n\t\t\tvar hcSex = hcParts[\"sex\"] == 1 ? \"M\" : (hcParts[\"sex\"] == 2 ? \"F\" : null);\n\t\t\tif (hcSex != null && controller.page.demo.sex != hcSex)\n\t\t\t{\n\t\t\t\tcontroller.page.demo.sex = hcSex;\n\t\t\t\tcontroller.page.sexColor = colorAttn;\n\t\t\t}\n\t\t\tvar dateParts = {};\n\t\t\tif (hcParts[\"dob\"] != null)\n\t\t\t{\n\t\t\t\tdateParts[\"year\"] = hcParts[\"dob\"].substring(0, 4);\n\t\t\t\tdateParts[\"month\"] = hcParts[\"dob\"].substring(4, 6);\n\t\t\t\tdateParts[\"day\"] = hcParts[\"dob\"].substring(6);\n\t\t\t\tif (controller.page.demo.dobYear != dateParts[\"year\"])\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.demo.dobYear = dateParts[\"year\"];\n\t\t\t\t\tcontroller.page.dobYearColor = colorAttn;\n\t\t\t\t}\n\t\t\t\tif (controller.page.demo.dobMonth != dateParts[\"month\"])\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.demo.dobMonth = dateParts[\"month\"];\n\t\t\t\t\tcontroller.page.dobMonthColor = colorAttn;\n\t\t\t\t}\n\t\t\t\tif (controller.page.demo.dobDay != dateParts[\"day\"])\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.demo.dobDay = dateParts[\"day\"];\n\t\t\t\t\tcontroller.page.dobDayColor = colorAttn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hcParts[\"issueDate\"] != null)\n\t\t\t{\n\t\t\t\tvar swipeDate = \"20\" + hcParts[\"issueDate\"].substring(0, 2) + \"-\" + hcParts[\"issueDate\"].substring(2, 4) + \"-\" + hcParts[\"issueDate\"].substring(4);\n\t\t\t\tif (controller.page.demo.effDate != swipeDate)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.demo.effDate = swipeDate;\n\t\t\t\t\tcontroller.page.effDateColor = colorAttn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hcParts[\"hinExp\"] != null)\n\t\t\t{\n\t\t\t\tvar swipeDate = \"20\" + hcParts[\"hinExp\"].substring(0, 2) + \"-\" + hcParts[\"hinExp\"].substring(2, 4) + \"-\" + hcParts[\"hinExp\"].substring(4);\n\t\t\t\tif (controller.page.demo.hcRenewDate != swipeDate)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.demo.hcRenewDate = swipeDate;\n\t\t\t\t\tcontroller.page.hcRenewDateColor = colorAttn;\n\t\t\t\t}\n\t\t\t\tvar hinExpDate = buildDate(\"20\" + hcParts[\"hinExp\"].substring(0, 2), hcParts[\"hinExp\"].substring(2, 4), hcParts[\"hinExp\"].substring(4));\n\t\t\t\tif (hinExpDate != null && now > hinExpDate)\n\t\t\t\t{\n\t\t\t\t\talert(\"This health card has expired!\");\n\t\t\t\t\tcontroller.page.hcRenewDateColor = colorAttn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//HCValidation\n\t\tcontroller.validateHC = function validateHC()\n\t\t{\n\t\t\tif (controller.page.demo.hcType != \"ON\" || controller.page.demo.hin == null || controller.page.demo.hin == \"\") return;\n\t\t\tif (controller.page.demo.ver == null) controller.page.demo.ver = \"\";\n\t\t\tpatientDetailStatusService.validateHC(controller.page.demo.hin, controller.page.demo.ver).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif (results.valid == null)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.page.HCValidation = \"n/a\";\n\t\t\t\t\t\tcontroller.page.swipecardMsg = \"Done Health Card Action\";\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.page.HCValidation = results.valid ? \"valid\" : \"invalid\";\n\t\t\t\t\t\tcontroller.page.swipecardMsg = results.responseDescription + \" (\" + results.responseCode + \")\";\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t}\n\n\t\t//manage hin/hinVer entries\n\t\tcontroller.checkHin = function checkHin()\n\t\t{\n\t\t\tif (controller.page.demo.hcType == \"ON\" && controller.page.demo.hin != null && controller.page.demo.hin != \"\")\n\t\t\t{\n\t\t\t\tif (controller.page.demo.hin.length > 10) controller.page.demo.hin = hin0;\n\t\t\t\tif (!isNumber(controller.page.demo.hin)) controller.page.demo.hin = hin0;\n\t\t\t}\n\t\t\thin0 = controller.page.demo.hin;\n\t\t\tcontroller.page.HCValidation = null;\n\t\t}\n\t\tcontroller.checkHinVer = function checkHinVer()\n\t\t{\n\t\t\tif (controller.page.demo.hcType == \"ON\")\n\t\t\t{\n\t\t\t\tif (controller.page.demo.ver.length > 2) controller.page.demo.ver = ver0;\n\t\t\t\tif (!(/^[a-zA-Z()]*$/.test(controller.page.demo.ver))) controller.page.demo.ver = ver0;\n\t\t\t\tcontroller.page.demo.ver = controller.page.demo.ver.toUpperCase();\n\t\t\t}\n\t\t\tver0 = controller.page.demo.ver;\n\t\t}\n\n\t\t//manage date entries\n\t\tcontroller.checkDate = function checkDate(id)\n\t\t{\n\t\t\tif (id == \"DobY\")\n\t\t\t{\n\t\t\t\tcontroller.page.demo.dobYear = checkYear(controller.page.demo.dobYear);\n\t\t\t}\n\t\t\telse if (id == \"DobM\")\n\t\t\t{\n\t\t\t\tcontroller.page.demo.dobMonth = checkMonth(controller.page.demo.dobMonth);\n\t\t\t}\n\t\t\telse if (id == \"DobD\")\n\t\t\t{\n\t\t\t\tcontroller.page.demo.dobDay = checkDay(controller.page.demo.dobDay, controller.page.demo.dobMonth, controller.page.demo.dobYear);\n\t\t\t}\n\t\t\tconsole.log('MONTH: ', controller.page.demo.dobMonth);\n\t\t\tcontroller.page.demo.age = Juno.Common.Util.calcAge(controller.page.demo.dobYear, controller.page.demo.dobMonth, controller.page.demo.dobDay);\n\t\t};\n\n\t\tcontroller.formatDate = function formatDate(id)\n\t\t{\n\t\t\t// controller.calculateAge();\n\n\t\t\tif (id == \"DobM\" && controller.page.demo.dobMonth != null && String(controller.page.demo.dobMonth).length == 1)\n\t\t\t{\n\t\t\t\tcontroller.page.demo.dobMonth = \"0\" + controller.page.demo.dobMonth;\n\t\t\t}\n\t\t\telse if (id == \"DobD\" && controller.page.demo.dobDay != null && String(controller.page.demo.dobDay).length == 1)\n\t\t\t{\n\t\t\t\tcontroller.page.demo.dobDay = \"0\" + controller.page.demo.dobDay;\n\t\t\t}\n\t\t};\n\n\t\t//check Patient Status if endDate is entered\n\t\tcontroller.checkPatientStatus = function checkPatientStatus()\n\t\t{\n\t\t\tvar now = new Date();\n\t\t\tif (controller.page.demo.patientStatus == \"AC\")\n\t\t\t{\n\t\t\t\tif (controller.page.demo.endDate != null && controller.page.demo.endDate != \"\")\n\t\t\t\t{\n\t\t\t\t\tif (dateValid(controller.page.demo.endDate))\n\t\t\t\t\t{\n\t\t\t\t\t\tvar datePart = controller.page.demo.endDate.split(\"-\");\n\t\t\t\t\t\tvar endDate = new Date(datePart[0], datePart[1] - 1, datePart[2]);\n\t\t\t\t\t\tif (now > endDate)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\talert(\"Patient Status cannot be Active after End Date.\");\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tcontroller.isPostalComplete = function isPostalComplete()\n\t\t{\n\t\t\tvar province = controller.page.demo.address.province;\n\t\t\tvar postal = controller.page.demo.address.postal;\n\t\t\t// If Canadian province is selected, proceed with validation\n\t\t\tif (postal !== null && province !== null && province !== \"OT\" && province.indexOf(\"US\") !== 0)\n\t\t\t{\n\t\t\t\tif (controller.isPostalValid())\n\t\t\t\t{\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tcontroller.resetEditState();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\n\t\tcontroller.isPostalValid = function isPostalValid()\n\t\t{\n\t\t\tvar postal = controller.page.demo.address.postal.replace(/\\s/g, \"\"); // Trim whitespace\n\n\t\t\t// If postal code is an empty string, set it to null and continue\n\t\t\tif(postal.length === 0)\n\t\t\t{\n\t\t\t\tcontroller.page.demo.address.postal = null;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar regex = new RegExp(/^[A-Za-z]\\d[A-Za-z]\\d[A-Za-z]\\d$/); // Match to Canadian postal code standard (minus the space)\n\t\t\tif (regex.test(postal))\n\t\t\t{\n\t\t\t\t// Format postal code to Canadian standard\n\t\t\t\tcontroller.page.demo.address.postal = postal.substring(0, 3) + \" \" + postal.substring(3);\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\talert(\"Invalid/Incomplete Postal Code\"); // TODO: Display proper error message\n\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\n\t\t//check email\n\t\tcontroller.checkEmail = function checkEmail()\n\t\t{\n\t\t\tif (controller.page.demo.email == null || controller.page.demo.email == \"\") return true;\n\n\t\t\tvar regex = /^[^@]+@[^@]+$/;\n\t\t\tif (regex.test(controller.page.demo.email))\n\t\t\t{\n\t\t\t\tvar email = controller.page.demo.email.split(\"@\");\n\n\t\t\t\tregex = /^[!#%&'=`~\\{}\\-\\$\\*\\+\\/\\?\\^\\|\\w]+(\\.[!#%&'=`~\\{}\\-\\$\\*\\+\\/\\?\\^\\|\\w]+)*$/;\n\t\t\t\tif (regex.test(email[0]))\n\t\t\t\t{ //test email local address part\n\n\t\t\t\t\tregex = /^[^\\W_]+(([^\\W_]|-)+[^\\W_]+)*(\\.[^\\W_]+(([^\\W_]|-)+[^\\W_]+)*)*\\.[^\\W_]{2,3}$/;\n\t\t\t\t\tif (regex.test(email[1])) return true; //test email address domain part\n\t\t\t\t}\n\t\t\t}\n\t\t\talert(\"Invalid email address\");\n\t\t\treturn false;\n\t\t}\n\n\t\t//check Chart No (length)\n\t\tcontroller.checkChartNo = function checkChartNo()\n\t\t{\n\t\t\tif (controller.page.demo.chartNo == null || controller.page.demo.chartNo == \"\")\n\t\t\t{\n\t\t\t\tchartNo0 = controller.page.demo.chartNo;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (controller.page.demo.chartNo.length > 10) controller.page.demo.chartNo = chartNo0;\n\t\t\telse chartNo0 = controller.page.demo.chartNo;\n\t\t}\n\n\t\t//check Cytology Number\n\t\tcontroller.checkCytoNum = function checkCytoNum()\n\t\t{\n\t\t\tif (controller.page.demo.scrCytolNum == null || controller.page.demo.scrCytolNum == \"\")\n\t\t\t{\n\t\t\t\tcytolNum0 = controller.page.demo.scrCytolNum;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!isNumber(controller.page.demo.scrCytolNum)) controller.page.demo.scrCytolNum = cytolNum0;\n\t\t\telse cytolNum0 = controller.page.demo.scrCytolNum;\n\t\t};\n\n\t\t//check Referral Doctor No\n\t\tcontroller.checkReferralDocNo = function checkReferralDocNo()\n\t\t{\n\t\t\tvar isValid = controller.validateDocNo(controller.page.demo.scrReferralDocNo, true);\n\t\t\tif (isValid)\n\t\t\t\treferralDocNo0 = controller.page.demo.scrReferralDocNo;\n\t\t\telse\n\t\t\t\tcontroller.page.demo.scrReferralDocNo = referralDocNo0;\n\t\t};\n\n\t\t//check Family Doctor No\n\t\tcontroller.checkFamilyDocNo = function checkFamilyDocNo()\n\t\t{\n\t\t\tvar isValid = controller.validateDocNo(controller.page.demo.scrFamilyDocNo, true);\n\t\t\tif (isValid)\n\t\t\t\tfamilyDocNo0 = controller.page.demo.scrFamilyDocNo;\n\t\t\telse\n\t\t\t\tcontroller.page.demo.scrFamilyDocNo = familyDocNo0;\n\t\t};\n\n\t\tcontroller.validateDocNo = function validateDocNo(docNo, quiet)\n\t\t{\n\t\t\tif (docNo == null || docNo === \"\" || (isNumber(docNo) && docNo.length < 10))\n\t\t\t\treturn true;\n\n\t\t\tif (!quiet)\n\t\t\t\talert(\"Invalid Doctor Number\");\n\n\t\t\treturn false;\n\t\t};\n\n\t\t//check SIN\n\t\tcontroller.checkSin = function checkSin()\n\t\t{\n\t\t\tif (controller.page.demo.sin == null || controller.page.demo.sin == \"\")\n\t\t\t{\n\t\t\t\tsin0 = controller.page.demo.sin;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar sin = controller.page.demo.sin.replace(/\\s/g, \"\");\n\t\t\tif (!isNumber(sin) || sin.length > 9)\n\t\t\t{\n\t\t\t\tcontroller.page.demo.sin = sin0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (sin.length > 6)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.demo.sin = sin.substring(0, 3) + \" \" + sin.substring(3, 6) + \" \" + sin.substring(6);\n\t\t\t\t}\n\t\t\t\telse if (sin.length > 3)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.demo.sin = sin.substring(0, 3) + \" \" + sin.substring(3);\n\t\t\t\t}\n\t\t\t\tsin0 = controller.page.demo.sin;\n\t\t\t}\n\t\t}\n\n\t\tcontroller.validateSin = function validateSin()\n\t\t{\n\t\t\tif (controller.page.demo.sin == null || controller.page.demo.sin == \"\") return true;\n\n\t\t\tvar sin = controller.page.demo.sin.replace(/\\s/g, \"\");\n\t\t\tif (isNumber(sin) && sin.length == 9)\n\t\t\t{\n\t\t\t\tvar sinNumber = 0;\n\t\t\t\tfor (var i = 0; i < sin.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar n = Number(sin.charAt(i)) * (i % 2 + 1);\n\t\t\t\t\tsinNumber += n % 10 + Math.floor(n / 10);\n\t\t\t\t}\n\t\t\t\tif (sinNumber % 10 == 0) return true;\n\t\t\t}\n\t\t\talert(\"Invalid SIN #\");\n\t\t\treturn false;\n\t\t}\n\n\t\t//prevent manual input dates\n\t\tcontroller.preventManualEffDate = function preventManualEffDate()\n\t\t{\n\t\t\tif (controller.page.demo.effDate == null) controller.page.demo.effDate = effDate0;\n\t\t\telse effDate0 = controller.page.demo.effDate;\n\t\t}\n\t\tcontroller.preventManualHcRenewDate = function preventManualHcRenewDate()\n\t\t{\n\t\t\tif (controller.page.demo.hcRenewDate == null) controller.page.demo.hcRenewDate = hcRenewDate0;\n\t\t\telse hcRenewDate0 = controller.page.demo.hcRenewDate;\n\t\t}\n\t\tcontroller.preventManualRosterDate = function preventManualRosterDate()\n\t\t{\n\t\t\tif (controller.page.demo.rosterDate == null) controller.page.demo.rosterDate = rosterDate0;\n\t\t\telse rosterDate0 = controller.page.demo.rosterDate;\n\t\t}\n\t\tcontroller.preventManualRosterTerminationDate = function preventManualRosterTerminationDate()\n\t\t{\n\t\t\tif (controller.page.demo.rosterTerminationDate == null) controller.page.demo.rosterTerminationDate = rosterTerminationDate0;\n\t\t\telse rosterTerminationDate0 = controller.page.demo.rosterTerminationDate;\n\t\t}\n\t\tcontroller.preventManualPatientStatusDate = function preventManualPatientStatusDate()\n\t\t{\n\t\t\tif (controller.page.demo.patientStatusDate == null) controller.page.demo.patientStatusDate = patientStatusDate0;\n\t\t\telse patientStatusDate0 = controller.page.demo.patientStatusDate;\n\t\t}\n\t\tcontroller.preventManualDateJoined = function preventManualDateJoined()\n\t\t{\n\t\t\tif (controller.page.demo.dateJoined == null) controller.page.demo.dateJoined = dateJoined0;\n\t\t\telse dateJoined0 = controller.page.demo.dateJoined;\n\t\t}\n\t\tcontroller.preventManualEndDate = function preventManualEndDate()\n\t\t{\n\t\t\tif (controller.page.demo.endDate == null) controller.page.demo.endDate = endDate0;\n\t\t\telse endDate0 = controller.page.demo.endDate;\n\t\t}\n\t\tcontroller.preventManualOnWaitingListSinceDate = function preventManualOnWaitingListSinceDate()\n\t\t{\n\t\t\tif (controller.page.demo.onWaitingListSinceDate == null) controller.page.demo.onWaitingListSinceDate = onWaitingListSinceDate0;\n\t\t\telse onWaitingListSinceDate0 = controller.page.demo.onWaitingListSinceDate;\n\t\t}\n\t\tcontroller.preventManualPaperChartArchivedDate = function preventManualPaperChartArchivedDate()\n\t\t{\n\t\t\tif (controller.page.demo.scrPaperChartArchivedDate == null) controller.page.demo.scrPaperChartArchivedDate = paperChartArchivedDate0;\n\t\t\telse paperChartArchivedDate0 = controller.page.demo.scrPaperChartArchivedDate;\n\t\t}\n\n\t\t//show/hide items\n\t\t// TODO: FIGURE OUT BETTER WAY TO SYNCHRONIZE THIS WITH DEMOGRAPHIC LOADING\n\t\tcontroller.isRosterTerminated = function isRosterTerminated()\n\t\t{\n\t\t\tif(controller.page.demo !== null && controller.page.demo !== undefined)\n\t\t\t\treturn (controller.page.demo.rosterStatus === \"TE\");\n\n\t\t\treturn null;\n\t\t};\n\t\tcontroller.showReferralDocList = function showReferralDocList()\n\t\t{\n\t\t\tcontroller.page.showReferralDocList = !controller.page.showReferralDocList;\n\t\t};\n\n\t\tcontroller.searchReferralDocsName = function searchReferralDocsName(searchName)\n\t\t{\n\t\t\treturn controller.searchReferralDocs(searchName, null);\n\t\t};\n\t\tcontroller.searchReferralDocsRefNo = function searchReferralDocsRefNo(searchRefNo)\n\t\t{\n\t\t\treturn controller.searchReferralDocs(null, searchRefNo);\n\t\t};\n\t\tcontroller.searchReferralDocs = function searchReferralDocs(searchName, searchRefNo)\n\t\t{\n\t\t\treturn referralDoctorsService.searchReferralDoctors(searchName, searchRefNo, 1, 10).then(\n\t\t\t\tfunction success(results) {\n\n\t\t\t\t\tvar referralDoctors = new Array(results.length);\n\t\t\t\t\tfor (var i = 0; i < results.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar displayName = results[i].lastName + ', ' + results[i].firstName;\n\t\t\t\t\t\treferralDoctors[i] = {\n\t\t\t\t\t\t\tlabel: displayName,\n\t\t\t\t\t\t\tname: displayName,\n\t\t\t\t\t\t\treferralNo: results[i].referralNo\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (results[i].specialtyType != null && results[i].specialtyType != \"\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treferralDoctors[i].label += \" [\" + results[i].specialtyType + \"]\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn referralDoctors;\n\t\t\t\t},\n\t\t\t\tfunction failure(errors) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\t\tcontroller.chooseReferralDoc = function chooseReferralDoc(item, model, label)\n\t\t{\n\t\t\tcontroller.page.demo.scrReferralDocNo = item.referralNo;\n\t\t\tcontroller.page.demo.scrReferralDoc = item.name;\n\t\t\tcontroller.checkReferralDocNo();\n\t\t};\n\t\tcontroller.chooseFamilyDoc = function chooseFamilyDoc(item, model, label)\n\t\t{\n\t\t\tcontroller.page.demo.scrFamilyDocNo = item.referralNo;\n\t\t\tcontroller.page.demo.scrFamilyDoc = item.name;\n\t\t\tcontroller.checkFamilyDocNo();\n\t\t};\n\t\tcontroller.showAddNewRosterStatus = function showAddNewRosterStatus()\n\t\t{\n\t\t\tcontroller.page.showAddNewRosterStatus = !controller.page.showAddNewRosterStatus;\n\t\t\tcontroller.page.newRosterStatus = null;\n\t\t};\n\t\tcontroller.showAddNewPatientStatus = function showAddNewPatientStatus()\n\t\t{\n\t\t\tcontroller.page.showAddNewPatientStatus = !controller.page.showAddNewPatientStatus;\n\t\t\tcontroller.page.newPatientStatus = null;\n\t\t};\n\n\t\t//add new Roster Status\n\t\tcontroller.addNewRosterStatus = function addNewRosterStatus()\n\t\t{\n\t\t\tif (controller.page.newRosterStatus != null && controller.page.newRosterStatus != \"\")\n\t\t\t{\n\t\t\t\tcontroller.page.rosterStatusList.push(\n\t\t\t\t{\n\t\t\t\t\t\"value\": controller.page.newRosterStatus,\n\t\t\t\t\t\"label\": controller.page.newRosterStatus\n\t\t\t\t});\n\t\t\t\tcontroller.page.demo.rosterStatus = controller.page.newRosterStatus;\n\t\t\t}\n\t\t\tcontroller.showAddNewRosterStatus();\n\t\t}\n\n\t\t//add new Patient Status\n\t\tcontroller.addNewPatientStatus = function addNewPatientStatus()\n\t\t{\n\t\t\tif (controller.page.newPatientStatus != null && controller.page.newPatientStatus != \"\")\n\t\t\t{\n\t\t\t\tcontroller.page.patientStatusList.push(\n\t\t\t\t{\n\t\t\t\t\t\"value\": controller.page.newPatientStatus,\n\t\t\t\t\t\"label\": controller.page.newPatientStatus\n\t\t\t\t});\n\t\t\t\tcontroller.page.demo.patientStatus = controller.page.newPatientStatus;\n\t\t\t}\n\t\t\tcontroller.showAddNewPatientStatus();\n\t\t}\n\n\t\t//check phone numbers\n\t\tcontroller.checkPhone = function checkPhone(type)\n\t\t{\n\t\t\tif (type == \"C\")\n\t\t\t{\n\t\t\t\tif (invalidPhoneNumber(controller.page.demo.scrCellPhone)) controller.page.demo.scrCellPhone = phoneNum[\"C\"];\n\t\t\t\telse phoneNum[\"C\"] = controller.page.demo.scrCellPhone;\n\t\t\t}\n\t\t\telse if (type == \"H\")\n\t\t\t{\n\t\t\t\tif (invalidPhoneNumber(controller.page.demo.scrHomePhone)) controller.page.demo.scrHomePhone = phoneNum[\"H\"];\n\t\t\t\telse phoneNum[\"H\"] = controller.page.demo.scrHomePhone;\n\t\t\t}\n\t\t\telse if (type == \"W\")\n\t\t\t{\n\t\t\t\tif (invalidPhoneNumber(controller.page.demo.scrWorkPhone)) controller.page.demo.scrWorkPhone = phoneNum[\"W\"];\n\t\t\t\telse phoneNum[\"W\"] = controller.page.demo.scrWorkPhone;\n\t\t\t}\n\t\t\telse if (type == \"HX\" && controller.page.demo.scrHPhoneExt != null && controller.page.demo.scrHPhoneExt != \"\")\n\t\t\t{\n\t\t\t\tif (!isNumber(controller.page.demo.scrHPhoneExt)) controller.page.demo.scrHPhoneExt = phoneNum[\"HX\"];\n\t\t\t\telse phoneNum[\"HX\"] = controller.page.demo.scrHPhoneExt;\n\t\t\t}\n\t\t\telse if (type == \"WX\" && controller.page.demo.scrWPhoneExt != null && controller.page.demo.scrWPhoneExt != \"\")\n\t\t\t{\n\t\t\t\tif (!isNumber(controller.page.demo.scrWPhoneExt)) controller.page.demo.scrWPhoneExt = phoneNum[\"WX\"];\n\t\t\t\telse phoneNum[\"WX\"] = controller.page.demo.scrWPhoneExt;\n\t\t\t}\n\t\t}\n\n\t\t//set preferred contact phone number\n\t\tcontroller.setPreferredPhone = function setPreferredPhone()\n\t\t{\n\t\t\tcontroller.page.cellPhonePreferredMsg = defPhTitle;\n\t\t\tcontroller.page.cellPhonePreferredColor = \"\";\n\t\t\tcontroller.page.homePhonePreferredMsg = defPhTitle;\n\t\t\tcontroller.page.homePhonePreferredColor = \"\";\n\t\t\tcontroller.page.workPhonePreferredMsg = defPhTitle;\n\t\t\tcontroller.page.workPhonePreferredColor = \"\";\n\n\t\t\tif (controller.page.demo.scrPreferredPhone == \"C\")\n\t\t\t{\n\t\t\t\tcontroller.page.preferredPhoneNumber = controller.page.demo.scrCellPhone;\n\t\t\t\tcontroller.page.cellPhonePreferredMsg = prefPhTitle;\n\t\t\t\tcontroller.page.cellPhonePreferredColor = colorAttn;\n\t\t\t}\n\t\t\telse if (controller.page.demo.scrPreferredPhone == \"H\")\n\t\t\t{\n\t\t\t\tcontroller.page.preferredPhoneNumber = controller.page.demo.scrHomePhone;\n\t\t\t\tcontroller.page.homePhonePreferredMsg = prefPhTitle;\n\t\t\t\tcontroller.page.homePhonePreferredColor = colorAttn;\n\t\t\t}\n\t\t\telse if (controller.page.demo.scrPreferredPhone == \"W\")\n\t\t\t{\n\t\t\t\tcontroller.page.preferredPhoneNumber = controller.page.demo.scrWorkPhone;\n\t\t\t\tcontroller.page.workPhonePreferredMsg = prefPhTitle;\n\t\t\t\tcontroller.page.workPhonePreferredColor = colorAttn;\n\t\t\t}\n\t\t}\n\n\t\t//disable set-preferred if phone number empty\n\t\tcontroller.isPhoneVoid = function isPhoneVoid(phone)\n\t\t{\n\t\t\treturn (phone == null || phone == \"\");\n\t\t}\n\n\t\t//show enrollment history (roster staus history)\n\t\tcontroller.showEnrollmentHistory = function showEnrollmentHistory()\n\t\t{\n\t\t\tvar url = \"../demographic/EnrollmentHistory.jsp?demographicNo=\" + controller.page.demo.demographicNo;\n\t\t\twindow.open(url, \"enrollmentHistory\", \"width=650, height=1000\");\n\t\t}\n\n\t\t//upload photo\n\t\tcontroller.launchPhoto = function launchPhoto()\n\t\t{\n\t\t\tvar url = \"../casemgmt/uploadimage.jsp?demographicNo=\" + controller.page.demo.demographicNo;\n\t\t\twindow.open(url, \"uploadWin\", \"width=500, height=300\");\n\t\t}\n\n\t\t//manage contacts\n\t\tcontroller.manageContacts = function manageContacts()\n\t\t{\n\t\t\tvar discard = true;\n\t\t\tif (controller.page.dataChanged > 0)\n\t\t\t{\n\t\t\t\tdiscard = confirm(\"You may have unsaved data. Are you sure to leave?\");\n\t\t\t}\n\t\t\tif (discard)\n\t\t\t{\n\t\t\t\tvar url = \"../demographic/Contact.do?method=manage&demographic_no=\" + controller.page.demo.demographicNo;\n\t\t\t\twindow.open(url, \"ManageContacts\", \"width=960, height=700\");\n\t\t\t}\n\t\t}\n\n\t\t//print buttons\n\t\tcontroller.printLabel = function printLabel(label)\n\t\t{\n\t\t\tvar url = null;\n\t\t\tif (label == \"PDFLabel\") url = \"../demographic/printDemoLabelAction.do?appointment_no=null&demographic_no=\" + controller.page.demo.demographicNo;\n\t\t\telse if (label == \"PDFAddress\") url = \"../demographic/printDemoAddressLabelAction.do?demographic_no=\" + controller.page.demo.demographicNo;\n\t\t\telse if (label == \"PDFChart\") url = \"../demographic/printDemoChartLabelAction.do?demographic_no=\" + controller.page.demo.demographicNo;\n\t\t\telse if (label == \"PrintLabel\") url = \"../demographic/demographiclabelprintsetting.jsp?demographic_no=\" + controller.page.demo.demographicNo;\n\t\t\telse if (label == \"ClientLab\") url = \"../demographic/printClientLabLabelAction.do?demographic_no=\" + controller.page.demo.demographicNo;\n\t\t\twindow.open(url, \"Print\", \"width=960, height=700\");\n\t\t}\n\n\t\t//integrator buttons\n\t\tcontroller.integratorDo = function integratorDo(func)\n\t\t{\n\t\t\tvar url = null;\n\t\t\tif (func == \"ViewCommunity\") url = \"../admin/viewIntegratedCommunity.jsp\";\n\t\t\telse if (func == \"Linking\") url = \"../integrator/manage_linked_clients.jsp?demographicId=\" + controller.page.demo.demographicNo;\n\t\t\telse if (func == \"Compare\") url = \"../demographic/DiffRemoteDemographics.jsp?demographicId=\" + controller.page.demo.demographicNo;\n\t\t\telse if (func == \"Update\") url = \"../demographic/copyLinkedDemographicInfoAction.jsp?displaymode=edit&dboperation=search_detail&demographicId=\" + controller.page.demo.demographicNo + \"&demographic_no=\" + controller.page.demo.demographicNo;\n\t\t\telse if (func == \"SendNote\") url = \"../demographic/followUpSelection.jsp?demographicId=\" + controller.page.demo.demographicNo;\n\t\t\twindow.open(url, \"Integrator\", \"width=960, height=700\");\n\t\t}\n\n\t\t//MacPHR buttons\n\t\tcontroller.macPHRDo = function macPHRDo(func)\n\t\t{\n\t\t\tvar url = null;\n\t\t\tif (func == \"Register\")\n\t\t\t{\n\t\t\t\tif (!controller.page.macPHRLoggedIn)\n\t\t\t\t{\n\t\t\t\t\talert(\"Please login to PHR first\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\turl = \"../phr/indivo/RegisterIndivo.jsp?demographicNo=\" + controller.page.demo.demographicNo;\n\t\t\t}\n\t\t\telse if (func == \"SendMessage\")\n\t\t\t{\n\t\t\t\turl = \"../phr/PhrMessage.do?method=createMessage&providerNo=\" + user.providerNo + \"&demographicNo=\" + controller.page.demo.demographicNo;\n\t\t\t}\n\t\t\telse if (func == \"ViewRecord\")\n\t\t\t{\n\t\t\t\turl = \"../demographic/viewPhrRecord.do?demographic_no=\" + controller.page.demo.demographicNo;\n\t\t\t}\n\t\t\telse if (func == \"Verification\")\n\t\t\t{\n\t\t\t\turl = \"../phr/PHRVerification.jsp?demographic_no=\" + controller.page.demo.demographicNo;\n\t\t\t}\n\t\t\twindow.open(url, \"MacPHR\", \"width=960, height=700\");\n\t\t}\n\n\t\t//appointment buttons\n\t\tcontroller.appointmentDo = function appointmentDo(func)\n\t\t{\n\t\t\tvar url = null;\n\t\t\tif (func == \"ApptHistory\") url = \"../demographic/demographiccontrol.jsp?displaymode=appt_history&dboperation=appt_history&limit1=0&limit2=25&orderby=appttime&demographic_no=\" + controller.page.demo.demographicNo + \"&last_name=\" + encodeURI(controller.page.demo.lastName) + \"&first_name=\" + encodeURI(controller.page.demo.firstName);\n\t\t\telse if (func == \"WaitingList\") url = \"../oscarWaitingList/SetupDisplayPatientWaitingList.do?demographic_no=\" + controller.page.demo.demographicNo;\n\t\t\twindow.open(url, \"Appointment\", \"width=960, height=700\");\n\t\t}\n\n\t\tcontroller.isClinicaidBilling = function isClinicaidBilling()\n\t\t{\n\t\t\treturn controller.page.billregion == \"CLINICAID\";\n\t\t}\n\n\t\t//billing buttons\n\t\tcontroller.billingDo = function billingDo(func)\n\t\t{\n\t\t\tvar now = new Date();\n\t\t\tvar url = null;\n\t\t\tif (func == \"BillingHistory\")\n\t\t\t{\n\t\t\t\tif (controller.page.billregion == \"CLINICAID\")\n\t\t\t\t{\n\t\t\t\t\turl = \"../billing.do?billRegion=CLINICAID&action=invoice_reports&patient_remote_id=\" + controller.page.demo.demographicNo;\n\t\t\t\t}\n\t\t\t\telse if (controller.page.billregion == \"ON\")\n\t\t\t\t{\n\t\t\t\t\turl = \"../billing/CA/ON/billinghistory.jsp?demographic_no=\" + controller.page.demo.demographicNo + \"&last_name=\" + encodeURI(controller.page.demo.lastName) + \"&first_name=\" + encodeURI(controller.page.demo.firstName) + \"&orderby=appointment_date&displaymode=appt_history&dboperation=appt_history&limit1=0&limit2=10\";\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\turl = \"../billing/CA/BC/billcontroller.page.jsp?lastName=\" + encodeURI(controller.page.demo.lastName) + \"&firstName=\" + encodeURI(controller.page.demo.firstName) + \"&filterPatient=true&demographicNo=\" + controller.page.demo.demographicNo;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (func == \"CreateInvoice\")\n\t\t\t{\n\t\t\t\turl = \"../billing.do?billRegion=\" + controller.page.billregion + \"&billForm=\" + controller.page.defaultView + \"&hotclick=&appointment_no=0&demographic_name=\" + encodeURI(controller.page.demo.lastName) + encodeURI(\",\") + encodeURI(controller.page.demo.firstName) + \"&demographic_no=\" + controller.page.demo.demographicNo + \"&providerview=\" + controller.page.demo.providerNo + \"&user_no=\" + user.providerNo + \"&apptProvider_no=none&appointment_date=\" + now.getFullYear + \"-\" + (now.getMonth() + 1) + \"-\" + now.getDate() + \"&start_time=00:00:00&bNewForm=1&status=t\";\n\t\t\t}\n\t\t\telse if (func == \"FluBilling\")\n\t\t\t{\n\t\t\t\turl = \"../billing/CA/ON/specialtyBilling/fluBilling/addFluBilling.jsp?function=demographic&functionid=\" + controller.page.demo.demographicNo + \"&creator=\" + user.providerNo + \"&demographic_name=\" + encodeURI(controller.page.demo.lastName) + encodeURI(\",\") + encodeURI(controller.page.demo.firstName) + \"&hin=\" + controller.page.demo.hin + controller.page.demo.ver + \"&demo_sex=\" + controller.page.demo.sex + \"&demo_hctype=\" + controller.page.demo.hcType + \"&rd=\" + encodeURI(controller.page.demo.scrReferralDoc) + \"&rdohip=\" + controller.page.demo.scrReferralDocNo + \"&dob=\" + controller.page.demo.dobYear + controller.page.demo.dobMonth + controller.page.demo.dobDay + \"&mrp=\" + controller.page.demo.providerNo;\n\t\t\t}\n\t\t\telse if (func == \"HospitalBilling\")\n\t\t\t{\n\t\t\t\turl = \"../billing/CA/ON/billingShortcutPg1.jsp?billRegion=\" + controller.page.billregion + \"&billForm=\" + encodeURI(controller.page.hospitalView) + \"&hotclick=&appointment_no=0&demographic_name=\" + encodeURI(controller.page.demo.lastName) + encodeURI(\",\") + encodeURI(controller.page.demo.firstName) + \"&demographic_no=\" + controller.page.demo.demographicNo + \"&providerview=\" + controller.page.demo.providerNo + \"&user_no=\" + user.providerNo + \"&apptProvider_no=none&appointment_date=\" + now.getFullYear + \"-\" + (now.getMonth() + 1) + \"-\" + now.getDate() + \"&start_time=00:00:00&bNewForm=1&status=t\";\n\t\t\t}\n\t\t\telse if (func == \"AddBatchBilling\")\n\t\t\t{\n\t\t\t\turl = \"../billing/CA/ON/addBatchBilling.jsp?demographic_no=\" + controller.page.demo.demographicNo + \"&creator=\" + user.providerNo + \"&demographic_name=\" + encodeURI(controller.page.demo.lastName) + encodeURI(\",\") + encodeURI(controller.page.demo.firstName) + \"&hin=\" + controller.page.demo.hin + controller.page.demo.ver + \"&dob=\" + controller.page.demo.dobYear + controller.page.demo.dobMonth + controller.page.demo.dobDay;\n\t\t\t}\n\t\t\telse if (func == \"AddINR\")\n\t\t\t{\n\t\t\t\turl = \"../billing/CA/ON/inr/addINRbilling.jsp?function=demographic&functionid=\" + controller.page.demo.demographicNo + \"&creator=\" + user.providerNo + \"&demographic_name=\" + encodeURI(controller.page.demo.lastName) + encodeURI(\",\") + encodeURI(controller.page.demo.firstName) + \"&hin=\" + controller.page.demo.hin + controller.page.demo.ver + \"&dob=\" + controller.page.demo.dobYear + controller.page.demo.dobMonth + controller.page.demo.dobDay;\n\t\t\t}\n\t\t\telse if (func == \"BillINR\")\n\t\t\t{\n\t\t\t\turl = \"../billing/CA/ON/inr/reportINR.jsp?provider_no=\" + user.providerNo;\n\t\t\t}\n\t\t\twindow.open(url, \"Billing\", \"width=960, height=700\");\n\t\t}\n\n\t\t//export demographic\n\t\tcontroller.exportDemographic = function exportDemographic()\n\t\t{\n\t\t\tvar url = \"../demographic/demographicExport.jsp?demographicNo=\" + controller.page.demo.demographicNo;\n\t\t\twindow.open(url, \"DemographicExport\", \"width=960, height=700\");\n\t\t}\n\n\t\tcontroller.formatDocOutput = function formatDocOutput(value)\n\t\t{\n\t\t\tvar number, name;\n\t\t\tvar begin = value.indexOf(\"<rdohip>\") + \"<rdohip>\".length;\n\t\t\tvar end = value.indexOf(\"</rdohip>\");\n\t\t\tif (end > begin && end >= 0 && begin >= 0) number = value.substring(begin, end);\n\n\t\t\tbegin = value.indexOf(\"<rd>\") + \"<rd>\".length;\n\t\t\tend = value.indexOf(\"</rd>\");\n\t\t\tif (end > begin && end >= 0 && begin >= 0) name = value.substring(begin, end);\n\n\t\t\treturn {\"number\": number, \"name\": name};\n\t\t};\n\n\t\tcontroller.formatDocInput = function formatDocInput(name, number)\n\t\t{\n\t\t\tvar docNo = \"<rdohip></rdohip>\";\n\t\t\tvar doc = \"<rd></rd>\";\n\t\t\tif (number != null && number !== \"\")\n\t\t\t{\n\t\t\t\tdocNo = \"<rdohip>\" + number + \"</rdohip>\";\n\t\t\t}\n\t\t\tif (name != null && name !== \"\")\n\t\t\t{\n\t\t\t\tdoc = \"<rd>\" + name + \"</rd>\";\n\t\t\t}\n\t\t\treturn docNo + doc;\n\t\t};\n\n\t\t//HCValidation on open & save\n\t\tcontroller.validateHCSave = function validateHCSave(doSave)\n\t\t{\n\t\t\tif (controller.page.demo.hin == null || controller.page.demo.hin == \"\")\n\t\t\t{\n\t\t\t\tif (doSave) controller.save();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tpatientDetailStatusService.isUniqueHC(controller.page.demo.hin, controller.page.demo.demographicNo).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!results.success)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\talert(\"HIN is already in use!\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (controller.page.demo.hcType != \"ON\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (doSave) controller.save();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (controller.page.demo.ver == null) controller.page.demo.ver = \"\";\n\t\t\t\t\t\t\tpatientDetailStatusService.validateHC(controller.page.demo.hin, controller.page.demo.ver).then(\n\t\t\t\t\t\t\t\tfunction success(results)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (results.valid == null)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcontroller.page.HCValidation = \"n/a\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if (!results.valid)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\talert(\"Health Card Validation failed: \" + results.responseDescription + \" (\" + results.responseCode + \")\");\n\t\t\t\t\t\t\t\t\t\tdoSave = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (doSave) controller.save();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t//-----------------//\n\t\t// save operations //\n\t\t//-----------------//\n\t\tcontroller.save = function save()\n\t\t{\n\t\t\tcontroller.page.saving = true;\n\n\t\t\t//check required fields\n\t\t\tif (controller.page.demo.lastName == null || controller.page.demo.lastName == \"\")\n\t\t\t{\n\t\t\t\talert(\"Last Name is required\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (controller.page.demo.firstName == null || controller.page.demo.firstName == \"\")\n\t\t\t{\n\t\t\t\talert(\"First Name is required\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (controller.page.demo.sex == null || controller.page.demo.sex == \"\")\n\t\t\t{\n\t\t\t\talert(\"Sex is required\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (dateEmpty(controller.page.demo.dobYear, controller.page.demo.dobMonth, controller.page.demo.dobDay))\n\t\t\t{\n\t\t\t\talert(\"Date of Birth is required\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//validate field inputs\n\t\t\tcontroller.page.demo.dateOfBirth = buildDate(controller.page.demo.dobYear, controller.page.demo.dobMonth, controller.page.demo.dobDay);\n\t\t\tif (controller.page.demo.dateOfBirth == null)\n\t\t\t{\n\t\t\t\talert(\"Invalid Date of Birth\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!controller.checkPatientStatus()) return;\n\t\t\tif (!controller.isPostalComplete()) return;\n\t\t\tif (!controller.validateSin()) return;\n\t\t\tif (!controller.validateDocNo(controller.page.demo.scrReferralDocNo)) return;\n\t\t\tif (!controller.validateDocNo(controller.page.demo.scrFamilyDocNo)) return;\n\n\t\t\t//save notes\n\t\t\tif (controller.page.demo.scrNotes != null)\n\t\t\t{\n\t\t\t\tcontroller.page.demo.notes = \"<unotes>\" + controller.page.demo.scrNotes + \"</unotes>\";\n\t\t\t}\n\n\t\t\t//save referral doctor (familyDoctor)\n\t\t\tcontroller.page.demo.familyDoctor = controller.formatDocInput(controller.page.demo.scrReferralDoc, controller.page.demo.scrReferralDocNo);\n\n\t\t\t//save family doctor (familyDoctor2)\n\t\t\tcontroller.page.demo.familyDoctor2 = controller.formatDocInput(controller.page.demo.scrFamilyDoc, controller.page.demo.scrFamilyDocNo);\n\n\t\t\t//save phone numbers\n\t\t\tcontroller.page.demo.scrDemoCell = controller.page.demo.scrCellPhone;\n\t\t\tcontroller.page.demo.phone = controller.page.demo.scrHomePhone;\n\t\t\tcontroller.page.demo.alternativePhone = controller.page.demo.scrWorkPhone;\n\n\t\t\tif (controller.page.demo.scrPreferredPhone == \"C\") controller.page.demo.scrDemoCell += \"*\";\n\t\t\telse if (controller.page.demo.scrPreferredPhone == \"H\") controller.page.demo.phone += \"*\";\n\t\t\telse if (controller.page.demo.scrPreferredPhone == \"W\") controller.page.demo.alternativePhone += \"*\";\n\n\t\t\t//save extras\n\t\t\tvar newDemoExtras = [];\n\t\t\tnewDemoExtras = updateDemoExtras(\"demo_cell\", controller.page.demo.scrDemoCell, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"aboriginal\", controller.page.demo.scrAboriginal, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"hPhoneExt\", controller.page.demo.scrHPhoneExt, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"wPhoneExt\", controller.page.demo.scrWPhoneExt, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"cytolNum\", controller.page.demo.scrCytolNum, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"phoneComment\", controller.page.demo.scrPhoneComment, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"paper_chart_archived\", controller.page.demo.scrPaperChartArchived, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"paper_chart_archived_date\", controller.page.demo.scrPaperChartArchivedDate, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"usSigned\", controller.page.demo.scrUsSigned, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"privacyConsent\", controller.page.demo.scrPrivacyConsent, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"informedConsent\", controller.page.demo.scrInformedConsent, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"securityQuestion1\", controller.page.demo.scrSecurityQuestion1, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"securityAnswer1\", controller.page.demo.scrSecurityAnswer1, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tnewDemoExtras = updateDemoExtras(\"rxInteractionWarningLevel\", controller.page.demo.scrRxInteractionLevel, posExtras, controller.page.demo.extras, newDemoExtras);\n\t\t\tcontroller.page.demo.extras = newDemoExtras;\n\n\t\t\t//save to database\n\t\t\tdemographicService.updateDemographic(controller.page.demo).then(\n\t\t\t\tfunction success()\n\t\t\t\t{\n\t\t\t\t\tcontroller.resetEditState();\n\t\t\t\t},\n\n\t\t\t\tfunction error()\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.saving = false;\n\t\t\t\t\talert('Failed to save demographic');\n\t\t\t\t\t// TODO: handle error\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\n\t\tcontroller.resetEditState = function resetEditState()\n\t\t{\n\t\t\tcontroller.page.saving = false;\n\t\t\tcontroller.page.dataChanged = false;\n\t\t};\n\n\t\tcontroller.init(); // Initialize the controller\n\t}\n]);\n\n\n// Move these?\nfunction updateDemoExtras(extKey, newVal, posExtras, oldExtras, newExtras)\n{\n\tif (newVal == null) return newExtras;\n\n\tvar pos = posExtras[extKey];\n\tif (pos != null && oldExtras[pos] != null)\n\t{ //existing ext\n\t\tif (oldExtras[pos].value != newVal)\n\t\t{\n\t\t\tnewExtras.push(\n\t\t\t{\n\t\t\t\tid: oldExtras[pos].id,\n\t\t\t\tkey: extKey,\n\t\t\t\tvalue: newVal,\n\t\t\t\thidden: oldExtras[pos].hidden\n\t\t\t});\n\t\t}\n\t}\n\telse\n\t{ //newly added ext\n\t\tnewExtras.push(\n\t\t{\n\t\t\tkey: extKey,\n\t\t\tvalue: newVal\n\t\t});\n\t}\n\treturn newExtras;\n}\n\nfunction buildDate(year, month, day)\n{\n\tif (dateEmpty(year, month, day)) return \"\";\n\tif (date3Valid(year, month, day)) return year + \"-\" + month + \"-\" + day;\n\treturn null;\n}\n\nfunction checkYear(year)\n{\n\tfor (var i = 0; i < year.length; i++)\n\t{\n\t\tif (!isNumber(year.charAt(i)))\n\t\t{\n\t\t\tyear = year.substring(0, i) + year.substring(i + 1);\n\t\t}\n\t}\n\tif (year != \"\")\n\t{\n\t\tyear = parseInt(year).toString();\n\t\tif (year.length > 4) year = year.substring(0, 4);\n\t\tif (year == 0) year = \"\";\n\t}\n\treturn year;\n}\n\nfunction checkMonth(month)\n{\n\tfor (var i = 0; i < month.length; i++)\n\t{\n\t\tif (!isNumber(month.charAt(i)))\n\t\t{\n\t\t\tmonth = month.substring(0, i) + month.substring(i + 1);\n\t\t}\n\t}\n\tif (month != \"\")\n\t{\n\t\tif (month.length > 2) month = month.substring(0, 2);\n\t\tif (month > 12) month = month.substring(0, 1);\n\t}\n\treturn month;\n}\n\nvar daysOfMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction checkDay(day, month, year)\n{\n\tfor (var i = 0; i < day.length; i++)\n\t{\n\t\tif (!isNumber(day.charAt(i)))\n\t\t{\n\t\t\tday = day.substring(0, i) + day.substring(i + 1);\n\t\t}\n\t}\n\tif (day != \"\")\n\t{\n\t\tif (day.length > 2) day = day.substring(0, 2);\n\n\t\tif (month == null)\n\t\t{\n\t\t\tif (day > 31) day = day.substring(0, 1);\n\t\t}\n\t\telse if (year == null)\n\t\t{\n\t\t\tif (day > daysOfMonth[month - 1]) day.substring(0, 1);\n\t\t}\n\t\telse if (!date3Valid(year, month, day))\n\t\t{\n\t\t\tday = day.substring(0, 1);\n\t\t}\n\t}\n\treturn day;\n}\n\nfunction date3Valid(year, month, day)\n{\n\tif (year != null && year != \"\" && month != null && month != \"\" && day != null && day != \"\")\n\t{\n\t\tvar maxDaysOfMonth = daysOfMonth[month - 1];\n\t\tif (month == 2)\n\t\t{\n\t\t\tif ((year % 4 == 0 && year % 100 != 0) || year % 400 == 0)\n\t\t\t{\n\t\t\t\tmaxDaysOfMonth = 29;\n\t\t\t}\n\t\t}\n\t\treturn (day > 0 && day <= maxDaysOfMonth);\n\t}\n\treturn dateEmpty(year, month, day);\n}\n\nfunction dateEmpty(year, month, day)\n{\n\treturn ((year == null || year == \"\") && (month == null || month == \"\") && (day == null || day == \"\"));\n}\n\nfunction dateValid(dateStr)\n{ //valid date format: yyyy-MM-dd\n\tif (dateStr == null || dateStr == \"\") return true;\n\n\tvar datePart = dateStr.toString().split(\"-\");\n\tif (datePart.length != 3) return false;\n\n\tvar dateDate = new Date(datePart[0], datePart[1] - 1, datePart[2]);\n\tif (isNaN(dateDate.getTime())) return false;\n\n\tif (dateDate.getFullYear() != datePart[0]) return false;\n\tif (dateDate.getMonth() != datePart[1] - 1) return false;\n\tif (dateDate.getDate() != datePart[2]) return false;\n\n\treturn true;\n}\n\nfunction isNumber(s)\n{\n\treturn /^[0-9]+$/.test(s);\n}\n\nfunction invalidPhoneNumber(phone)\n{\n\tif (phone == null) return false; //phone number is NOT invalid\n\treturn !(/^[0-9 \\-\\()]*$/.test(phone));\n}\n\nfunction isPreferredPhone(phone)\n{\n\tphone = String(phone);\n\tif (phone != null && phone != \"\")\n\t{\n\t\tif (phone.charAt(phone.length - 1) == \"*\") return true;\n\t}\n\treturn false;\n}\n\nfunction getPhoneNum(phone)\n{\n\tif (isPreferredPhone(phone))\n\t{\n\t\tphone = phone.substring(0, phone.length - 1);\n\t}\n\treturn phone;\n}\n\nfunction demoContactShow(demoContact)\n{\n\tvar contactShow = demoContact;\n\tif (demoContact.role != null)\n\t{ //only 1 entry\n\t\tvar tmp = {};\n\t\ttmp.role = demoContact.role;\n\t\ttmp.sdm = demoContact.sdm;\n\t\ttmp.ec = demoContact.ec;\n\t\ttmp.category = demoContact.category;\n\t\ttmp.lastName = demoContact.lastName;\n\t\ttmp.firstName = demoContact.firstName;\n\t\ttmp.phone = demoContact.phone;\n\t\tcontactShow = [tmp];\n\t}\n\tfor (var i = 0; i < contactShow.length; i++)\n\t{\n\t\tif (contactShow[i].sdm == true) contactShow[i].role += \" /sdm\";\n\t\tif (contactShow[i].ec == true) contactShow[i].role += \" /ec\";\n\t\tif (contactShow[i].role == null || contactShow[i].role == \"\") contactShow[i].role = \"-\";\n\n\t\tif (contactShow[i].phone == null || contactShow[i].phone == \"\")\n\t\t{\n\t\t\tcontactShow[i].phone = \"-\";\n\t\t}\n\t\telse if (contactShow[i].phone.charAt(contactShow[i].phone.length - 1) == \"*\")\n\t\t{\n\t\t\tcontactShow[i].phone = contactShow[i].phone.substring(0, contactShow[i].phone.length - 1);\n\t\t}\n\t}\n\treturn contactShow;\n}\n\nfunction toArray(obj)\n{ //convert single object to array\n\tif (obj instanceof Array) return obj;\n\telse if (obj == null) return [];\n\telse return [obj];\n}","'use strict';\n\nangular.module('Record.Details', ['Common', 'Common.Services']);","/*\n\n    Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n    This software is published under the GPL GNU General Public License.\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n    This software was written for the\n    Department of Family Medicine\n    McMaster University\n    Hamilton\n    Ontario, Canada\n\n*/\nangular.module('Record.Forms').controller('Record.Forms.FormController', [\n\n\t'$scope',\n\t'$http',\n\t'$location',\n\t'$stateParams',\n\t'$state',\n\t'demographicService',\n\t'demo',\n\t'formService',\n\t'user',\n\t'securityService',\n\n\tfunction(\n\t\t$scope,\n\t\t$http,\n\t\t$location,\n\t\t$stateParams,\n\t\t$state,\n\t\tdemographicService,\n\t\tdemo,\n\t\tformService,\n\t\tuser,\n\t\tsecurityService)\n\t{\n\n\t\tvar controller = this;\n\n\t\tconsole.log(\"form ctrl \", $stateParams, $state);\n\n\t\tcontroller.demographicNo = $stateParams.demographicNo;\n\t\tcontroller.providerNo = user.providerNo;\n\n\t\tcontroller.page = {};\n\t\tcontroller.page.currentFormList = [];\n\t\tcontroller.page.currentForm = {};\n\t\tcontroller.page.currentlistId = $stateParams.formListId;\n\n\t\tconsole.log(\"What is the state \" + $state.params.type + \" : \" + angular.isUndefined($state.params.type) + \" id \" + $state.params.id, $state); // Use this to load the current form if the page is refreshed\n\n\t\tsecurityService.hasRights(\n\t\t{\n\t\t\titems: [\n\t\t\t{\n\t\t\t\tobjectName: '_admin',\n\t\t\t\tprivilege: 'w'\n\t\t\t},\n\t\t\t{\n\t\t\t\tobjectName: '_admin.eform',\n\t\t\t\tprivilege: 'w'\n\t\t\t}]\n\t\t}).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.adminAccess = results.content[0];\n\t\t\t\tcontroller.adminEformAccess = results.content[1];\n\t\t\t\tif (results.content != null && results.content.length == 2)\n\t\t\t\t{\n\t\t\t\t\tif (controller.adminAccess || controller.adminEformAccess)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.hasAdminAccess = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\talert('failed to load rights');\n\t\t\t\t}\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\n\t\tcontroller.page.formlists = [\n\t\t{\n\t\t\tid: 0,\n\t\t\tlabel: 'Completed'\n\t\t},\n\t\t{\n\t\t\tid: 1,\n\t\t\tlabel: 'Library'\n\t\t}]; //Need to get this from the server.\n\n\t\tcontroller.page.formlists.forEach(function(item, index)\n\t\t{\n\t\t\tconsole.log('What is the item ', item);\n\t\t\tformService.getAllFormsByHeading($stateParams.demographicNo, item.label).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.currentFormList[index] = Juno.Common.Util.toArray(results.list);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t});\n\n\n\t\tcontroller.page.encounterFormlist = [];\n\t\tcontroller.page.formGroups = [];\n\t\tcontroller.getFormGroups = function getFormGroups()\n\t\t{\n\t\t\tformService.getFormGroups().then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif (results instanceof Array)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.page.formGroups = results;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.page.formGroups.push(results);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var i = 0; i < controller.page.formGroups.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!(controller.page.formGroups[i].summaryItem instanceof Array))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontroller.page.formGroups[i].summaryItem = [controller.page.formGroups[i].summaryItem];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.getFormGroups();\n\t\tcontroller.page.formOptions = [];\n\t\tcontroller.favouriteGroup = null;\n\n\t\tgetFavouriteFormGroup = function getFavouriteFormGroup()\n\t\t{\n\t\t\tformService.getFavouriteFormGroup().then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.favouriteGroup = results;\n\n\t\t\t\t\tif (!(controller.favouriteGroup.summaryItem instanceof Array))\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.favouriteGroup.summaryItem = [controller.favouriteGroup.summaryItem];\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tgetFavouriteFormGroup();\n\n\t\tformService.getFormOptions(controller.demographicNo).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tconsole.log(\"data\", results);\n\n\t\t\t\tif (results.items instanceof Array)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.formOptions = results.items;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.formOptions.push(results.items);\n\t\t\t\t}\n\n\n\t\t\t\tconsole.log(\"form options\", controller.page.formOptions);\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\tformService.getCompletedEncounterForms($stateParams.demographicNo).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.page.encounterFormlist[0] = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\tformService.getSelectedEncounterForms().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.page.encounterFormlist[1] = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\n\t\tcontroller.changeTo = function changeTo(listId)\n\t\t{\n\t\t\tcontroller.page.currentlistId = listId;\n\t\t\tconsole.log('set currentlist to ' + listId);\n\t\t\tif (listId == 0)\n\t\t\t{\n\t\t\t\tformService.getAllFormsByHeading($stateParams.demographicNo, 'Completed').then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.debug('whats the index' + 0, results);\n\t\t\t\t\t\tcontroller.page.currentFormList[0] = Juno.Common.Util.toArray(results.list);\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tcontroller.viewFormState = function viewFormState(item, view)\n\t\t{\n\n\t\t\twhile (document.getElementById('formInViewFrame').hasChildNodes())\n\t\t\t{\n\t\t\t\tdocument.getElementById('formInViewFrame').removeChild(document.getElementById('formInViewFrame').firstChild);\n\t\t\t}\n\n\t\t\tvar queryName = $location.search().name;\n\t\t\tvar params = {\n\t\t\t\tdemographicNo: $stateParams.demographicNo,\n\t\t\t\ttype: item.type === 'eform' ? 'eform' : 'form',\n\t\t\t\tid: item.id || item.formId\n\t\t\t};\n\n\t\t\t// The items sent from the server are such that\n\t\t\t// 1. Existing eforms have a formId and an id\n\t\t\t// 2. Existing forms have a formId only\n\t\t\t// 3. Library/available eforms have a formId only\n\t\t\t// 4. Library/available forms have neither\n\t\t\tif ((item.type === 'eform' && item.id) || (item.type === 'form' && item.formId))\n\t\t\t{\n\t\t\t\tparams.name = item.type === 'form' ? item.name || queryName : '';\n\t\t\t\t$state.go('record.forms.view', params);\n\t\t\t}\n\t\t\telse if (item.type === 'eform')\n\t\t\t{\n\t\t\t\t$state.go('record.forms.add', params);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$state.go('record.forms');\n\t\t\t}\n\n\t\t\t/*\n\t\t\t* 1=frame\n\t\t\t* 2=newwindow\n\t\t\t*/\n\t\t\tif (view === undefined)\n\t\t\t{\n\t\t\t\tview = 1;\n\t\t\t}\n\n\t\t\tvar url = '';\n\t\t\tif (item.type === 'eform')\n\t\t\t{\n\t\t\t\tif (!Juno.Common.Util.isUndefinedOrNull(item.id))\n\t\t\t\t{\n\t\t\t\t\turl = '../eform/efmshowform_data.jsp?fdid=' + item.id;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\turl = '../eform/efmformadd_data.jsp?fid=' + item.formId + '&demographic_no=' + $stateParams.demographicNo;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{ //form\n\t\t\t\tif (angular.isDefined(item.formId))\n\t\t\t\t{\n\t\t\t\t\tvar name = item.name || queryName;\n\t\t\t\t\turl = '../form/forwardshortcutname.jsp?formname=' + name + '&demographic_no=' + $stateParams.demographicNo + '&formId=' + item.formId;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\turl = item.formValue + $stateParams.demographicNo + \"&formId=0&provNo=\" + user.providerNo + \"&parentAjaxId=forms\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (view === 1)\n\t\t\t{\n\t\t\t\t$(\"html, body\").animate(\n\t\t\t\t\t{\n\t\t\t\t\t\tscrollTop: 0\n\t\t\t\t\t}, \"slow\");\n\t\t\t}\n\t\t\telse if (view === 2)\n\t\t\t{\n\t\t\t\tvar rnd = Math.round(Math.random() * 1000);\n\t\t\t\twin = \"win\" + rnd;\n\n\t\t\t\twindow.open(url, win, \"scrollbars=yes, location=no, width=900, height=600\", \"\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcontroller.page.currentForm = item;\n\t\t\tvar pymParent = new pym.Parent('formInViewFrame', url,\n\t\t\t{});\n\t\t\tcontroller.pymParent = pymParent;\n\n\t\t\t/*if(item.type != 'eform' && view==1){\n\t\t\t\tdocument.getElementById('formInViewFrame').firstChild.style.height = \"1600px\"; //temp hack for the forms\n\t\t\t}*/\n\n\t\t\t//resize iframe for both form and eforms\n\t\t\t$('iframe').load(function()\n\t\t\t{\n\t\t\t\tvar maxheight = Math.max(document.getElementById('formInViewFrame').firstChild.contentWindow.document.body.scrollHeight, document.getElementById('formInViewFrame').firstChild.contentWindow.document.body.offsetHeight) + 30 + 'px';\n\t\t\t\tdocument.getElementById('formInViewFrame').firstChild.style.height = maxheight;\n\t\t\t});\n\n\t\t};\n\n\t\tcontroller.isEmpty = function isEmpty(obj)\n\t\t{\n\t\t\tfor (var i in obj)\n\t\t\t\tif (obj.hasOwnProperty(i)) return false;\n\t\t\treturn true;\n\t\t};\n\n\t\tcontroller.currentEformGroup = {};\n\n\t\tcontroller.setCurrentEFormGroup = function setCurrentEFormGroup(mod)\n\t\t{\n\t\t\tcontroller.currentEformGroup = mod;\n\t\t};\n\n\t\tcontroller.openFormFromGroups = function openFormFromGroups(item)\n\t\t{\n\t\t\tconsole.log(\"group item\", item);\n\t\t\titem.formId = item.id;\n\t\t\tdelete item.id;\n\t\t\tcontroller.viewFormState(item, 2);\n\t\t};\n\n\t\tcontroller.formOption = function formOption(opt)\n\t\t{\n\t\t\tvar atleastOneItemSelected = false;\n\t\t\tif (opt.extra == \"send2PHR\")\n\t\t\t{\n\t\t\t\tvar docIds = \"\";\n\t\t\t\tfor (var i = 0; i < controller.page.currentFormList[controller.page.currentlistId].length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (controller.page.currentFormList[controller.page.currentlistId][i].isChecked)\n\t\t\t\t\t{\n\t\t\t\t\t\tdocIds = docIds + '&sendToPhr=' + controller.page.currentFormList[controller.page.currentlistId][i].id;\n\t\t\t\t\t\tatleastOneItemSelected = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (atleastOneItemSelected)\n\t\t\t\t{\n\t\t\t\t\tvar rnd = Math.round(Math.random() * 1000);\n\t\t\t\t\twin = \"win\" + rnd;\n\t\t\t\t\tvar url = '../eform/efmpatientformlistSendPhrAction.jsp?clientId=' + controller.demographicNo + docIds;\n\t\t\t\t\twindow.open(url, win, \"scrollbars=yes, location=no, width=900, height=600\", \"\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!atleastOneItemSelected)\n\t\t\t{\n\t\t\t\talert(\"No Documents Selected\");\n\t\t\t}\n\t\t};\n\n\n\t\t/*\n\t\t * Used to make the left side list tab be active\n\t\t */\n\t\tcontroller.getListClass = function getListClass(listId)\n\t\t{\n\t\t\tif (listId === controller.page.currentlistId)\n\t\t\t{\n\t\t\t\treturn \"active\";\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Used to make group setting active\n\t\t */\n\t\tcontroller.getGroupListClass = function getGroupListClass(grp)\n\t\t{\n\t\t\tif (grp === controller.currentEformGroup)\n\t\t\t{\n\t\t\t\treturn \"active\";\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Used to mark which form is active.\n\t\t */\n\t\tcontroller.getActiveFormClass = function getActiveFormClass(item)\n\t\t{\n\t\t\tif (item.type === controller.page.currentForm.type && item.id === controller.page.currentForm.id && !Juno.Common.Util.isUndefinedOrNull(item.id))\n\t\t\t{\n\t\t\t\treturn \"active\";\n\t\t\t}\n\t\t\telse if (item.type === controller.page.currentForm.type && item.formId === controller.page.currentForm.formId && Juno.Common.Util.isUndefinedOrNull(item.id))\n\t\t\t{\n\t\t\t\treturn \"active\";\n\t\t\t}\n\t\t}\n\n\t\tvar currentState = $state.current.name;\n\t\tif (currentState === 'record.forms.view' || currentState === 'record.forms.add')\n\t\t{\n\t\t\tvar item = {};\n\t\t\titem.type = $state.params.type;\n\n\t\t\t// set item properties in a way that matches the content that the server returns\n\t\t\tif (currentState === 'record.forms.view' && item.type === 'eform')\n\t\t\t{\n\t\t\t\titem.id = $state.params.id;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\titem.formId = $state.params.id;\n\t\t\t}\n\n\t\t\tcontroller.viewFormState(item);\n\t\t\tcontroller.changeTo(currentState === 'record.forms.view' ? 0 : 1);\n\t\t}\n\n\t\t/*\n\t\t * This still needs to be tested\n\t\t */\n\t\tcontroller.keypress = function keypress(event)\n\t\t{\n\t\t\tif (event.altKey == true && event.keyCode == 38)\n\t\t\t{ //up\n\t\t\t\tconsole.log(\"up\", event);\n\t\t\t\tconsole.log(controller.page.currentFormList[controller.page.currentlistId].indexOf(controller.page.currentForm));\n\t\t\t\tvar currIdx = controller.page.currentFormList[controller.page.currentlistId].indexOf(controller.page.currentForm);\n\t\t\t\tif (currIdx > 0)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.currentForm = controller.page.currentFormList[controller.page.currentlistId][currIdx - 1];\n\t\t\t\t\tcontroller.viewFormState(controller.page.currentForm);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (event.altKey == true && event.keyCode == 40)\n\t\t\t{ //Down\n\t\t\t\tconsole.log(\"down\", event);\n\t\t\t\tvar currIdx = controller.page.currentFormList[controller.page.currentlistId].indexOf(controller.page.currentForm);\n\t\t\t\tconsole.log(currIdx, controller.page.currentFormList[controller.page.currentlistId].length);\n\t\t\t\tif (currIdx <= controller.page.currentFormList[controller.page.currentlistId].length)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.currentForm = controller.page.currentFormList[controller.page.currentlistId][currIdx + 1];\n\t\t\t\t\tcontroller.viewFormState(controller.page.currentForm);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconsole.log(\"keypress\", event.altKey, event.key, event);\n\t\t\t}\n\t\t};\n\n\n\t}\n]);","'use strict';\n\nangular.module('Record.Forms', ['Common', 'Common.Services']);","angular.module('Record.Summary').controller('Record.Summary.SaveWarningController', [\n\n\t'$rootScope',\n\t'$scope',\n\t'$uibModal',\n\t'$uibModalInstance',\n\t'saveSignNote',\n\t'cancelNoteEdit',\n\n\tfunction(\n\t\t$rootScope,\n\t\t$scope,\n\t\t$uibModal,\n\t\t$uibModalInstance,\n\t\tsaveSignNote,\n\t\tcancelNoteEdit)\n\t{\n\n\t\tvar controller = this;\n\n\t\t// Cancel warning and maintain note changes\n\t\tcontroller.cancel = function cancel()\n\t\t{\n\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t};\n\n\t\t// Save changes to the note\n\t\tcontroller.save = function save()\n\t\t{\n\t\t\tif (angular.isFunction(saveSignNote))\n\t\t\t{\n\t\t\t\tsaveSignNote();\n\t\t\t}\n\t\t\t$uibModalInstance.close(true);\n\t\t};\n\n\t\t// Clear changes to the note\n\t\tcontroller.clearChanges = function clearChanges()\n\t\t{\n\t\t\tif (angular.isFunction(cancelNoteEdit))\n\t\t\t{\n\t\t\t\tcancelNoteEdit();\n\t\t\t}\n\t\t\t$uibModalInstance.close(true);\n\t\t};\n\t}\n]);","angular.module('Record.Summary').controller('Record.Summary.GroupNotesController', [\n\n\t'$scope',\n\t'$uibModal',\n\t'$uibModalInstance',\n\t'$stateParams',\n\t'$state',\n\t'$interval',\n\t'mod',\n\t'action',\n\t'user',\n\t'noteService',\n\t'securityService',\n\t'diseaseRegistryService',\n\n\tfunction(\n\t\t$scope,\n\t\t$uibModal,\n\t\t$uibModalInstance,\n\t\t$stateParams,\n\t\t$state,\n\t\t$interval,\n\t\tmod,\n\t\taction,\n\t\tuser,\n\t\tnoteService,\n\t\tsecurityService,\n\t\tdiseaseRegistryService)\n\t{\n\n\t\tvar controller = this;\n\n\n\t\tcontroller.page = {};\n\t\tcontroller.page.title = mod.displayName;\n\t\tcontroller.page.items = mod.summaryItem;\n\t\tcontroller.page.quickLists = [];\n\t\t\n\t\t//controller.action = action;\n\t\tcontroller.page.code = mod.summaryCode;\n\n\t\tcontroller.groupNotesForm = {\n\t\t\tassignedCMIssues: []\n\t\t};\n\t\tcontroller.groupNotesForm.encounterNote = {\n\t\t\tposition: 1\n\t\t};\n\n\n\t\t//set hidden which can can move out of hidden to $scope values\n\t\tvar now = new Date();\n\t\tcontroller.groupNotesForm.annotation_attrib = \"anno\" + now.getTime();\n\n\n\t\t//get access rights\n\t\tsecurityService.hasRight(\"_eChart\", \"u\", $stateParams.demographicNo).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.page.cannotChange = !results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\tdiseaseRegistryService.getIssueQuickLists().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tconsole.log(results);\n\t\t\t\tcontroller.page.quickLists = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\tcontroller.addDxItem = function addDxItem(item)\n\t\t{\n\t\t\tfor (var x = 0; x < controller.groupNotesForm.assignedCMIssues.length; x++)\n\t\t\t{\n\t\t\t\tif (controller.groupNotesForm.assignedCMIssues[x].issue.code === item.code && controller.groupNotesForm.assignedCMIssues[x].issue.type === item.codingSystem)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdiseaseRegistryService.findDxIssue(item.code, item.codingSystem).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar cmIssue = {\n\t\t\t\t\t\tacute: false,\n\t\t\t\t\t\tcertain: false,\n\t\t\t\t\t\tissue: results,\n\t\t\t\t\t\tissue_id: results.id,\n\t\t\t\t\t\tmajor: false,\n\t\t\t\t\t\tresolved: false,\n\t\t\t\t\t\tunsaved: true\n\t\t\t\t\t};\n\t\t\t\t\tcontroller.groupNotesForm.assignedCMIssues.push(cmIssue);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\n\t\t};\n\n\t\t//disable click and keypress if user only has read-access\n\t\tcontroller.checkAction = function checkAction(event)\n\t\t{\n\t\t\tif (controller.page.cannotChange)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t};\n\n\t\tdisplayIssueId = function displayIssueId(issueCode)\n\t\t{\n\t\t\tnoteService.getIssueId(issueCode).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.issueId = results.id;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tdisplayIssueId(controller.page.code);\n\n\t\tdisplayGroupNote = function displayGroupNote(item, itemId)\n\t\t{\n\t\t\tif (controller.page.items[itemId].noteId != null)\n\t\t\t{\n\t\t\t\tnoteService.getIssueNote(controller.page.items[itemId].noteId).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\t//controller.master = angular.copy( \"iNote----\" +  JSON.stringify(iNote) );\n\t\t\t\t\t\tcontroller.groupNotesForm.encounterNote = results.encounterNote;\n\t\t\t\t\t\tcontroller.groupNotesForm.encounterNote.editorNames = mod.editorNames; // Get editor names. TODO: Add editor names to the object on the back end\n\t\t\t\t\t\tcontroller.groupNotesForm.groupNoteExt = results.groupNoteExt;\n\t\t\t\t\t\tcontroller.groupNotesForm.assignedCMIssues = results.assignedCMIssues;\n\n\t\t\t\t\t\tcontroller.groupNotesForm.assignedCMIssues = [];\n\n\t\t\t\t\t\tif (results.assignedCMIssues instanceof Array)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontroller.groupNotesForm.assignedCMIssues = results.assignedCMIssues;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (results.assignedCMIssues != null)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontroller.groupNotesForm.assignedCMIssues.push(results.assignedCMIssues);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\taction = itemId;\n\t\t\t\t\t\tcontroller.setAvailablePositions();\n\n\t\t\t\t\t\tcontroller.removeEditingNoteFlag();\n\n\t\t\t\t\t\tif (controller.groupNotesForm.encounterNote.position < 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontroller.groupNotesForm.encounterNote.position = 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\telse if (controller.page.items[itemId].type === \"dx_reg\")\n\t\t\t{\n\t\t\t\tcontroller.groupNotesForm.assignedCMIssues = [];\n\t\t\t\tvar itemExtra = controller.page.items[itemId].extra;\n\t\t\t\tdiseaseRegistryService.findDxIssue(itemExtra.code, itemExtra.codingSystem).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar cmIssue = {\n\t\t\t\t\t\t\tacute: false,\n\t\t\t\t\t\t\tcertain: false,\n\t\t\t\t\t\t\tissue: results,\n\t\t\t\t\t\t\tissue_id: results.issueId,\n\t\t\t\t\t\t\tmajor: false,\n\t\t\t\t\t\t\tresolved: false,\n\t\t\t\t\t\t\tunsaved: true\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconsole.log(\"find like issue \", cmIssue, results);\n\t\t\t\t\t\tcontroller.groupNotesForm.assignedCMIssues.push(cmIssue);\n\t\t\t\t\t\tcontroller.groupNotesForm.encounterNote = {};\n\t\t\t\t\t\tcontroller.groupNotesForm.groupNoteExt = {};\n\t\t\t\t\t\tcontroller.groupNotesForm.encounterNote = {\n\t\t\t\t\t\t\tposition: 1\n\t\t\t\t\t\t};\n\t\t\t\t\t\taction = itemId;\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t//action is NULL when new , action is some id when not\n\t\tif (action != null)\n\t\t{\n\t\t\tdisplayGroupNote(controller.page.items, action);\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//new entry\n\t\t}\n\n\t\tcontroller.setAvailablePositions = function setAvailablePositions()\n\t\t{\n\t\t\tcontroller.availablePositions = [];\n\t\t\tif (controller.page.items == null || controller.page.items.length == 0)\n\t\t\t{\n\t\t\t\tcontroller.availablePositions.push(1);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar x = 0;\n\t\t\t\tfor (x = 0; x < controller.page.items.length; x++)\n\t\t\t\t{\n\t\t\t\t\tcontroller.availablePositions.push(x + 1);\n\t\t\t\t}\n\t\t\t\tif (action == null)\n\t\t\t\t{\n\t\t\t\t\tcontroller.availablePositions.push(x + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tcontroller.setAvailablePositions();\n\n\t\tcontroller.changeNote = function changeNote(item, itemId)\n\t\t{\n\t\t\treturn displayGroupNote(item, itemId);\n\t\t};\n\n\t\tcontroller.saveGroupNotes = function saveGroupNotes()\n\t\t{\n\t\t\tif (controller.groupNotesForm.encounterNote.noteId == null)\n\t\t\t{\n\t\t\t\tcontroller.groupNotesForm.encounterNote.noteId = 0;\n\t\t\t}\n\t\t\tcontroller.groupNotesForm.encounterNote.cpp = true;\n\t\t\tcontroller.groupNotesForm.encounterNote.editable = true;\n\t\t\tcontroller.groupNotesForm.encounterNote.isSigned = true;\n\t\t\tcontroller.groupNotesForm.encounterNote.observationDate = new Date();\n\t\t\tcontroller.groupNotesForm.encounterNote.appointmentNo = $stateParams.appointmentNo; //TODO: make this dynamic so it changes on edit\n\t\t\tcontroller.groupNotesForm.encounterNote.encounterType = \"\";\n\t\t\tcontroller.groupNotesForm.encounterNote.encounterTime = \"\";\n\t\t\tcontroller.groupNotesForm.encounterNote.assignedIssues = controller.groupNotesForm.assignedCMIssues;\n\t\t\tcontroller.groupNotesForm.encounterNote.summaryCode = controller.page.code; //'ongoingconcerns';\n\n\t\t\tnoteService.saveIssueNote($stateParams.demographicNo, controller.groupNotesForm).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t\t\t\t$state.transitionTo($state.current, $stateParams, {\n\t\t\t\t\t\treload: true,\n\t\t\t\t\t\tinherit: false,\n\t\t\t\t\t\tnotify: true\n\t\t\t\t\t});\n\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.removeGroupNoteIssue = function removeGroupNoteIssue(i)\n\t\t{\n\t\t\tconsole.log('removing issue');\n\t\t\ti.unchecked = true;\n\t\t\tvar newList = [];\n\t\t\tfor (var x = 0; x < controller.groupNotesForm.assignedCMIssues.length; x++)\n\t\t\t{\n\t\t\t\tif (controller.groupNotesForm.assignedCMIssues[x].issue_id != i.issue_id)\n\t\t\t\t{\n\t\t\t\t\tnewList.push(controller.groupNotesForm.assignedCMIssues[x]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontroller.groupNotesForm.assignedCMIssues = newList;\n\t\t\tconsole.log('NEW LIST: ', newList);\n\t\t};\n\n\t\t/*\n\t\t * handle concurrent note edit - EditingNoteFlag\n\t\t */\n\t\tcontroller.doSetEditingNoteFlag = function doSetEditingNoteFlag()\n\t\t{\n\t\t\tnoteService.setEditingNoteFlag(editingNoteId, user.providerNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif (!results.success)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (results.message == \"Parameter error\") alert(\"Parameter Error: noteUUID[\" + editingNoteId + \"] userId[\" + user.providerNo + \"]\");\n\t\t\t\t\t\telse alert(\"Warning! Another user is editing this note now.\");\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.setEditingNoteFlag = function setEditingNoteFlag()\n\t\t{\n\t\t\tif (controller.groupNotesForm.encounterNote.uuid == null) return;\n\n\t\t\tcontroller.removeEditingNoteFlag(); //remove any previous flag actions\n\t\t\teditingNoteId = controller.groupNotesForm.encounterNote.uuid;\n\n\t\t\titvSet = $interval(controller.doSetEditingNoteFlag(), 30000); //set flag every 5 min\n\t\t\titvCheck = $interval(function()\n\t\t\t{\n\t\t\t\tnoteService.checkEditNoteNew(editingNoteId, user.providerNo).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!results.success)\n\t\t\t\t\t\t{ //someone else wants to edit this note\n\t\t\t\t\t\t\talert(\"Warning! Another user tries to edit this note. Your update may be replaced by later revision(s).\");\n\n\t\t\t\t\t\t\t//cancel 10sec check after 1st time warning when another user tries to edit this note\n\t\t\t\t\t\t\t$interval.cancel(itvCheck);\n\t\t\t\t\t\t\titvCheck = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}, 10000); //check for new edit every 10 sec\n\t\t};\n\n\t\tcontroller.removeEditingNoteFlag = function removeEditingNoteFlag()\n\t\t{\n\t\t\tif (editingNoteId != null)\n\t\t\t{\n\t\t\t\tnoteService.removeEditingNoteFlag(editingNoteId, user.providerNo);\n\t\t\t\t$interval.cancel(itvSet);\n\t\t\t\t$interval.cancel(itvCheck);\n\t\t\t\titvSet = null;\n\t\t\t\titvCheck = null;\n\t\t\t\teditingNoteId = null;\n\t\t\t}\n\t\t};\n\n\n\t\tcontroller.removeIssue = function removeIssue(i)\n\t\t{\n\t\t\ti.unchecked = true;\n\t\t};\n\t\tcontroller.restoreIssue = function restoreIssue(i)\n\t\t{\n\t\t\ti.unchecked = false;\n\t\t};\n\n\t\tcontroller.archiveGroupNotes = function archiveGroupNotes()\n\t\t{\n\t\t\t//controller.master = angular.copy(controller.groupNotesForm);\n\t\t\tcontroller.groupNotesForm.encounterNote.archived = true;\n\t\t\tcontroller.saveGroupNotes();\n\t\t};\n\n\t\tcontroller.cancel = function cancel()\n\t\t{\n\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t};\n\n\t\t//temp load into pop-up\n\t\tcontroller.openRevisionHistory = function openRevisionHistory(encounterNote)\n\t\t{\n\t\t\tconsole.log(controller.groupNotesForm);\n\t\t\tvar rnd = Math.round(Math.random() * 1000);\n\t\t\twin = \"win\" + rnd;\n\t\t\tvar url = \"../CaseManagementEntry.do?method=notehistory&noteId=\" + encounterNote.noteId;\n\t\t\twindow.open(url, win, \"scrollbars=yes, location=no, width=647, height=600\", \"\");\n\t\t};\n\n\t\tcontroller.searchIssues = function searchIssues(term)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\t'term': term\n\t\t\t};\n\t\t\treturn noteService.searchIssues(search, 0, 100).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.content.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push({\n\t\t\t\t\t\t\tissueId: results.content[x].id,\n\t\t\t\t\t\t\tcode: results.content[x].description + '(' + results.content[x].code + ')'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (results.total > results.content.length)\n\t\t\t\t\t{\n\t\t\t\t\t\t//warn user there's more results somehow?\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.assignIssue = function assignIssue(item, model, label)\n\t\t{\n\t\t\tfor (var x = 0; x < controller.groupNotesForm.assignedCMIssues.length; x++)\n\t\t\t{\n\t\t\t\tif (controller.groupNotesForm.assignedCMIssues[x].issue.id == model)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnoteService.getIssue(model).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar cmIssue = {\n\t\t\t\t\t\tacute: false,\n\t\t\t\t\t\tcertain: false,\n\t\t\t\t\t\tissue: results,\n\t\t\t\t\t\tissue_id: item.issueId,\n\t\t\t\t\t\tmajor: false,\n\t\t\t\t\t\tresolved: false,\n\t\t\t\t\t\tunsaved: true\n\t\t\t\t\t};\n\t\t\t\t\tcontroller.groupNotesForm.assignedCMIssues.push(cmIssue);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.isSelected = function isSelected(item)\n\t\t{\n\t\t\tif (item.id == action)\n\t\t\t{\n\t\t\t\treturn \"group-note-selected\";\n\t\t\t}\n\t\t};\n\n\t\tcontroller.addToDxRegistry = function addToDxRegistry(issue)\n\t\t{\n\t\t\tdiseaseRegistryService.addToDxRegistry($stateParams.demographicNo, issue).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(results);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\t\t};\n\n\t}\n]);","angular.module('Record.Summary').controller('Record.Summary.RecordPrintController', [\n\n\t'$scope',\n\t'$uibModal',\n\t'$uibModalInstance',\n\t'$filter',\n\t'mod',\n\t'action',\n\t'$stateParams',\n\t'summaryService',\n\n\tfunction(\n\t\t$scope,\n\t\t$uibModal,\n\t\t$uibModalInstance,\n\t\t$filter,\n\t\tmod,\n\t\taction,\n\t\t$stateParams,\n\t\tsummaryService)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.pageOptions = {};\n\t\tcontroller.pageOptions.printType = {};\n\t\tcontroller.pageOptions.dates = {};\n\t\tcontroller.page = {};\n\t\tcontroller.page.selectedWarning = false;\n\n\t\t/*\n\t\t *If mod length > 0 than the user has selected a note. = Default to Note\n\t\t *Other wise default to All\n\t\t */\n\t\tvar atleastOneSelected = false;\n\t\tfor (var i = 0; i < mod.length; i++)\n\t\t{\n\t\t\tif (mod[i].isSelected)\n\t\t\t{\n\t\t\t\tatleastOneSelected = true;\n\t\t\t\ti = mod.length;\n\t\t\t}\n\t\t}\n\n\t\tif (atleastOneSelected)\n\t\t{\n\t\t\tconsole.log(\"mod len \", mod.length);\n\t\t\tcontroller.pageOptions.printType = 'selected';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tconsole.log(\"printType = all\");\n\t\t\tcontroller.pageOptions.printType = 'all';\n\t\t}\n\n\t\tcontroller.printToday = function printToday()\n\t\t{\n\t\t\tcontroller.pageOptions.printType = 'dates';\n\t\t\tvar date = new Date();\n\t\t\tcontroller.pageOptions.dates.start = date;\n\t\t\tcontroller.pageOptions.dates.end = date;\n\t\t};\n\n\t\tcontroller.cancelPrint = function cancelPrint()\n\t\t{\n\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t};\n\n\n\t\tcontroller.sendToPhr = function sendToPhr()\n\t\t{\n\t\t\tvar queryString = \"demographic_no=\" + $stateParams.demographicNo;\n\t\t\tqueryString = queryString + \"&module=echart\";\n\n\t\t\tif (controller.pageOptions.printType == 'all')\n\t\t\t{\n\t\t\t\tqueryString = queryString + '&notes2print=ALL_NOTES';\n\t\t\t}\n\t\t\telse if (controller.pageOptions.printType == 'selected')\n\t\t\t{\n\t\t\t\t//get array\n\t\t\t\tvar selectedList = [];\n\t\t\t\tfor (var i = 0; i < mod.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (mod[i].isSelected)\n\t\t\t\t\t{\n\t\t\t\t\t\tselectedList.push(mod[i].noteId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tqueryString = queryString + '&notes2print=' + selectedList.join();\n\t\t\t}\n\t\t\telse if (controller.pageOptions.printType == 'dates')\n\t\t\t{\n\t\t\t\tqueryString = queryString + '&notes2print=ALL_NOTES';\n\t\t\t\tqueryString = queryString + '&startDate=' + controller.pageOptions.dates.start.getTime();\n\t\t\t\tqueryString = queryString + '&endDate=' + controller.pageOptions.dates.end.getTime();\n\t\t\t}\n\n\t\t\tif (controller.pageOptions.cpp)\n\t\t\t{\n\t\t\t\tqueryString = queryString + '&printCPP=true';\n\t\t\t}\n\t\t\tif (controller.pageOptions.cpp)\n\t\t\t{\n\t\t\t\tqueryString = queryString + '&printRx=true';\n\t\t\t}\n\t\t\tif (controller.pageOptions.cpp)\n\t\t\t{\n\t\t\t\tqueryString = queryString + '&printLabs=true';\n\t\t\t}\n\t\t\tconsole.log(\"QS\" + queryString);\n\n\t\t\tif (controller.pageOptions.printType === 'selected' && selectedList.length == 0)\n\t\t\t{\n\t\t\t\tcontroller.page.selectedWarning = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcontroller.page.selectedWarning = false;\n\t\t\t}\n\n\t\t\twindow.open('../SendToPhr.do?' + queryString, '_blank');\n\t\t};\n\n\t\tcontroller.print = function print()\n\t\t{\n\t\t\tvar selectedList = [];\n\t\t\tfor (var i = 0; i < mod.length; i++)\n\t\t\t{\n\t\t\t\tif (mod[i].isSelected)\n\t\t\t\t{\n\t\t\t\t\tselectedList.push(mod[i].noteId);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (controller.pageOptions.printType === 'selected' && selectedList.length == 0)\n\t\t\t{\n\t\t\t\tcontroller.page.selectedWarning = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcontroller.page.selectedWarning = false;\n\t\t\t}\n\n\t\t\tcontroller.pageOptions.selectedList = selectedList;\n\t\t\tvar ops = encodeURIComponent(JSON.stringify(controller.pageOptions));\n\t\t\twindow.open('../ws/rs/recordUX/' + $stateParams.demographicNo + '/print?printOps=' + ops, '_blank');\n\n\n\n\t\t};\n\t}\n]);","/*\n\n    Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n    This software is published under the GPL GNU General Public License.\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n    This software was written for the\n    Department of Family Medicine\n    McMaster University\n    Hamilton\n    Ontario, Canada\n\n*/\nangular.module('Record.Summary').controller('Record.Summary.SummaryController', [\n\n\t'$rootScope',\n\t'$scope',\n\t'$http',\n\t'$location',\n\t'$stateParams',\n\t'$state',\n\t'$filter',\n\t'$uibModal',\n\t'$interval',\n\t'user',\n\t'noteService',\n\t'summaryService',\n\t'securityService',\n\n\tfunction(\n\t\t$rootScope,\n\t\t$scope,\n\t\t$http,\n\t\t$location,\n\t\t$stateParams,\n\t\t$state,\n\t\t$filter,\n\t\t$uibModal,\n\t\t$interval,\n\t\tuser,\n\t\tnoteService,\n\t\tsummaryService,\n\t\tsecurityService)\n\t{\n\n\t\tvar controller = this;\n\n\t\tconsole.log(\"in summary Ctrl \", $stateParams);\n\n\t\tcontroller.page = {};\n\t\tcontroller.page.columnOne = {};\n\t\tcontroller.page.columnOne.modules = {};\n\n\t\tcontroller.page.columnThree = {};\n\t\tcontroller.page.columnThree.modules = {};\n\t\tcontroller.page.selectedNotes = [];\n\n\t\tcontroller.page.notes = {};\n\t\tcontroller.index = 0;\n\t\tcontroller.page.notes = {};\n\t\tcontroller.page.notes.notelist = [];\n\t\tcontroller.busy = false;\n\t\tcontroller.page.noteFilter = {};\n\t\tcontroller.page.currentFilter = 'none';\n\t\tcontroller.page.onlyNotes = false; // Filter for only showing encounter notes\n\t\tcontroller.page.onlyMine = false; // Filter for only showing notes the current user has created/edited\n\n\t\tcontroller.demographicNo = $stateParams.demographicNo;\n\n\t\t//get access rights\n\t\tsecurityService.hasRight(\"_eChart\", \"r\", $stateParams.demographicNo).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.page.canRead = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\t\tsecurityService.hasRight(\"_eChart\", \"u\", $stateParams.demographicNo).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.page.cannotChange = !results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\t\tsecurityService.hasRight(\"_eChart\", \"w\", $stateParams.demographicNo).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.page.cannotAdd = !results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\t//disable click and keypress if user only has read-access\n\t\tcontroller.checkAction = function checkAction(event)\n\t\t{\n\t\t\tif (controller.page.cannotChange)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t};\n\n\t\tcontroller.openRevisionHistory = function openRevisionHistory(note)\n\t\t{\n\t\t\t//var rnd = Math.round(Math.random() * 1000);\n\t\t\twin = \"revision\";\n\t\t\tvar url = \"../CaseManagementEntry.do?method=notehistory&noteId=\" + note.noteId;\n\t\t\twindow.open(url, win, \"scrollbars=yes, location=no, width=647, height=600\", \"\");\n\t\t};\n\n\t\tcontroller.openRx = function openRx(demoNo)\n\t\t{\n\t\t\twin = \"Rx\" + demoNo;\n\t\t\tvar url = \"../oscarRx/choosePatient.do?demographicNo=\" + demoNo;\n\t\t\twindow.open(url, win, \"scrollbars=yes, location=no, width=900, height=600\", \"\");\n\t\t};\n\n\t\tcontroller.openAllergies = function openAllergies(demoNo)\n\t\t{\n\t\t\twin = \"Allergy\" + demoNo;\n\t\t\tvar url = \"../oscarRx/showAllergy.do?demographicNo=\" + demoNo;\n\t\t\twindow.open(url, win, \"scrollbars=yes, location=no, width=900, height=600\", \"\");\n\t\t\treturn false;\n\t\t};\n\n\t\tcontroller.openPreventions = function openPreventions(demoNo)\n\t\t{\n\t\t\twin = \"prevention\" + demoNo;\n\t\t\tvar url = \"../oscarPrevention/index.jsp?demographic_no=\" + demoNo;\n\t\t\twindow.open(url, win, \"scrollbars=yes, location=no, width=900, height=600\", \"\");\n\t\t\treturn false;\n\t\t};\n\n\t\tcontroller.openAssessments = function openAssessments()\n\t\t{\n\t\t\t// open forms tab with \"Library\" list selected\n\t\t\t$state.go('record.forms', {formListId: 1});\n\t\t};\n\n\t\t//Note display functions\n\t\tcontroller.addMoreItems = function addMoreItems()\n\t\t{\n\t\t\tconsole.log(controller.busy);\n\t\t\tif (controller.busy) return;\n\n\t\t\tcontroller.busy = true;\n\n\t\t\tnoteService.getNotesFrom($stateParams.demographicNo, controller.index, 20, controller.page.noteFilter).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tconsole.log('whats the data', angular.isUndefined(results.notelist), results.notelist);\n\t\t\t\t\tif (angular.isDefined(results.notelist))\n\t\t\t\t\t{\n\t\t\t\t\t\t//controller.page.notes = data;\n\t\t\t\t\t\tif (results.notelist instanceof Array)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(\"ok its in an array\", controller.busy);\n\t\t\t\t\t\t\tfor (var i = 0; i < results.notelist.length; i++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontroller.page.notes.notelist.push(results.notelist[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontroller.page.notes.notelist.push(results.notelist);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontroller.index = controller.page.notes.notelist.length;\n\t\t\t\t\t}\n\t\t\t\t\tcontroller.busy = false;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\tcontroller.error = errors;\n\t\t\t\t\tcontroller.busy = false;\n\t\t\t\t}\n\t\t\t);\n\n\t\t};\n\n\t\tcontroller.addMoreItems();\n\n\t\tcontroller.editNote = function editNote(note)\n\t\t{\n\t\t\t$rootScope.$emit('loadNoteForEdit', note);\n\t\t};\n\n\t\t// Call the findGroupNote function and search for the given note, if found, open the groupNote editor\n\t\tcontroller.editGroupNote = function editGroupNote(note)\n\t\t{\n\t\t\tvar obj = controller.findGroupNote(note);\n\n\t\t\tif (obj !== null)\n\t\t\t{\n\t\t\t\tobj.module.editorNames = note.editorNames;\n\t\t\t\tcontroller.gotoState(obj.note, obj.module, obj.note.id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t};\n\n\t\t// There is probably a better way of doing this\n\t\tcontroller.findGroupNote = function findGroupNote(note)\n\t\t{\n\t\t\tvar moduleList = controller.page.columnOne.modules;\n\t\t\tfor (var i = 0; i < moduleList.length; i++)\n\t\t\t{\n\n\t\t\t\tvar summaryItems = moduleList[i].summaryItem;\n\t\t\t\tfor (var k = 0; k < summaryItems.length; k++)\n\t\t\t\t{\n\t\t\t\t\tif (summaryItems[k].noteId === note.noteId)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tnote: summaryItems[k],\n\t\t\t\t\t\t\tmodule: moduleList[i]\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t\tcontroller.page.currentEditNote = {};\n\n\t\tcontroller.isNoteBeingEdited = function isNoteBeingEdited(note)\n\t\t{\n\n\t\t\tif (note.uuid === controller.page.currentEditNote.uuid && note.uuid !== null)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\t$rootScope.$on('currentlyEditingNote', function(event, data)\n\t\t{\n\t\t\tcontroller.page.currentEditNote = data;\n\t\t});\n\n\t\t// TODO\n\t\t$rootScope.$on('stopEditingNote', function()\n\t\t{\n\t\t\tcontroller.page.currentEditNote = {};\n\t\t});\n\n\t\t$rootScope.$on('noteSaved', function(event, data)\n\t\t{\n\t\t\tconsole.log('new data coming in', data);\n\t\t\tvar noteFound = false;\n\t\t\tfor (var notecount = 0; notecount < controller.page.notes.notelist.length; notecount++)\n\t\t\t{\n\t\t\t\tif (data.uuid == controller.page.notes.notelist[notecount].uuid)\n\t\t\t\t{\n\t\t\t\t\tconsole.log('uuid ' + data.uuid + ' notecount ' + notecount, data, controller.page.notes.notelist[notecount]);\n\t\t\t\t\tcontroller.page.notes.notelist[notecount] = data;\n\t\t\t\t\tnoteFound = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (noteFound == false)\n\t\t\t{\n\t\t\t\tcontroller.page.notes.notelist.unshift(data);\n\t\t\t}\n\t\t\tcontroller.index = controller.page.notes.notelist.length;\n\t\t});\n\n\t\t// Check if note regular note, if not, we must either display the group note edit window or have no edit option\n\t\tcontroller.isRegularNote = function isRegularNote(note)\n\t\t{\n\t\t\tif (note.document || note.rxAnnotation || note.eformData || note.encounterForm || note.invoice || note.ticklerNote || note.cpp)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\n\t\t//Note display functions\n\t\tcontroller.setColor = function setColor(note)\n\t\t{\n\t\t\tif (note.eformData)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t'border-left-color': '#DFF0D8',\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if (note.document)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t'border-left-color': '#617CB2',\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if (note.rxAnnotation)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t'border-left-color': '#D3D3D3',\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if (note.encounterForm)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t'border-left-color': '#BCAD75',\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if (note.invoice)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t'border-left-color': '##FF7272',\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if (note.ticklerNote)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t'border-left-color': '#FFA96F',\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if (note.cpp)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t'border-left-color': '#9B8166',\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\tcontroller.showNoteHeader = function showNoteHeader(note)\n\t\t{\n\t\t\tif (controller.page.onlyNotes)\n\t\t\t{\n\t\t\t\tif (note.document || note.rxAnnotation || note.eformData || note.encounterForm || note.invoice || note.ticklerNote || note.cpp)\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\t\tcontroller.showNote = function showNote(note)\n\t\t{\n\t\t\tif (controller.page.onlyNotes)\n\t\t\t{\n\t\t\t\tif (note.document || note.rxAnnotation || note.eformData || note.encounterForm || note.invoice || note.ticklerNote || note.cpp)\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(controller.page.onlyMine)\n\t\t\t{\n\t\t\t\t// Hide note if the current user is not in the list of editors.\n\t\t\t\t// TODO: Decide later if we want to filter based on this rather than the author alone\n\t\t\t\t// if (!Juno.Common.Util.isInArray(user.formattedName, note.editorNames))\n\t\t\t\t// \treturn false;\n\n\t\t\t\t// Hide the note if the current user's provder number does not match that of the note author\n\t\t\t\tif (user.providerNo !== note.providerNo)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn !note.deleted;\n\t\t};\n\n\t\tcontroller.getNoteHeader = function firstLine(noteObj)\n\t\t{\n\t\t\treturn  noteObj.note.trim().split('\\n')[0]; // First line of the note text, split by newline\n\t\t};\n\n\t\tcontroller.trackerUrl = \"\";\n\n\t\tcontroller.getTrackerUrl = function getTrackerUrl(demographicNo)\n\t\t{\n\t\t\tcontroller.trackerUrl = '../oscarEncounter/oscarMeasurements/HealthTrackerPage.jspf?template=tracker&demographic_no=' + demographicNo + '&numEle=4&tracker=slim';\n\t\t};\n\n\t\tcontroller.toggleList = function toggleList(mod)\n\t\t{\n\n\t\t\t// If all the items are displayed, reset displaySize to 5 (min), else, show all the items\n\t\t\tif (mod.displaySize >= mod.summaryItem.length)\n\t\t\t{\n\t\t\t\tmod.displaySize = 5;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmod.displaySize = mod.summaryItem.length;\n\t\t\t}\n\t\t};\n\n\t\tcontroller.showMoreItems = function showMoreItems(mod)\n\t\t{\n\n\t\t\tif (!angular.isDefined(mod.summaryItem))\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (mod.summaryItem.length == 0)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\n\t\t// Return true if a given section is expanded, otherwise return false\n\t\tcontroller.isSectionExpanded = function isSectionExpanded(mod)\n\t\t{\n\t\t\tif (mod.displaySize > 5)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\t// Return true if a given section is empty, otherwise return false\n\t\tcontroller.isSectionEmpty = function isSectionEmpty(mod)\n\t\t{\n\t\t\tif (mod.summaryItem.length <= 5)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\t// Returns true if the given note is an unsigned encounter note\n\t\tcontroller.isUnsignedEncounterNote = function isUnsignedEncounterNote(note)\n\t\t{\n\t\t\treturn (!note.isSigned && !note.cpp && !note.document && !note.ticklerNote && !note.eformData);\n\t\t};\n\n\t\t// controller.showMoreItemsSymbol = function(mod)\n\t\t// {\n\t\t// \tif (!angular.isDefined(mod.summaryItem))\n\t\t// \t{\n\t\t// \t\treturn \"\";\n\t\t// \t}\n\n\t\t// \tif ((mod.displaySize < mod.summaryItem.length) && mod.displaySize == initialDisplayLimit)\n\t\t// \t{\n\t\t// \t\treturn \"glyphicon glyphicon-chevron-down hand-hover pull-right\";\n\t\t// \t}\n\t\t// \telse if ((mod.displaySize == mod.summaryItem.length) && mod.displaySize != initialDisplayLimit)\n\t\t// \t{\n\t\t// \t\treturn \"glyphicon glyphicon-chevron-up hand-hover pull-right\";\n\t\t// \t}\n\t\t// \telse if (mod.summaryItem.length <= initialDisplayLimit)\n\t\t// \t{\n\t\t// \t\treturn \"glyphicon glyphicon-chevron-down glyphicon-chevron-down-disabled pull-right\";\n\t\t// \t}\n\t\t// \telse\n\t\t// \t{\n\t\t// \t\treturn \"\";\n\t\t// \t}\n\n\t\t// \tif (controller.isSectionExpanded(mod))\n\t\t// \t{\n\t\t// \t\treturn \"glyphicon glyphicon-chevron-up hand-hover pull-right\";\n\t\t// \t}\n\n\t\t// \treturn \"glyphicon glyphicon-chevron-down hand-hover pull-right\";\n\n\t\t// };\n\n\t\tfunction getLeftItems()\n\t\t{\n\t\t\tsummaryService.getSummaryHeaders($stateParams.demographicNo, 'left').then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"left\", results);\n\t\t\t\t\tcontroller.page.columnOne.modules = results;\n\t\t\t\t\tfillItems(controller.page.columnOne.modules);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\tcontroller.error = errors;\n\t\t\t\t});\n\t\t}\n\n\t\tgetLeftItems();\n\n\n\t\tfunction getRightItems()\n\t\t{\n\t\t\tsummaryService.getSummaryHeaders($stateParams.demographicNo, 'right').then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"right\", results);\n\t\t\t\t\tcontroller.page.columnThree.modules = results;\n\t\t\t\t\tfillItems(controller.page.columnThree.modules);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\tcontroller.error = errors;\n\t\t\t\t});\n\t\t}\n\n\t\tgetRightItems();\n\n\t\tvar summaryLists = {};\n\n\t\tfunction fillItems(itemsToFill)\n\t\t{\n\n\t\t\tfor (var i = 0; i < itemsToFill.length; i++)\n\t\t\t{\n\t\t\t\tsummaryLists[itemsToFill[i].summaryCode] = itemsToFill[i];\n\n\t\t\t\tsummaryService.getFullSummary($stateParams.demographicNo, itemsToFill[i].summaryCode).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (angular.isDefined(results.summaryItem))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (results.summaryItem instanceof Array)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsummaryLists[results.summaryCode].summaryItem = results.summaryItem;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsummaryLists[results.summaryCode].summaryItem = [results.summaryItem];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\n\t\tcontroller.editGroupedNotes = function editGroupedNotes(size, mod, action)\n\t\t{\n\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: 'src/record/summary/groupNotes.jsp',\n\t\t\t\tcontroller: 'Record.Summary.GroupNotesController as groupNotesCtrl',\n\t\t\t\tbackdrop: 'static',\n\t\t\t\twindowClass: 'notesModal',\n\t\t\t\tsize: size,\n\t\t\t\tresolve:\n\t\t\t\t{\n\t\t\t\t\tmod: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn mod;\n\t\t\t\t\t},\n\t\t\t\t\taction: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn action;\n\t\t\t\t\t},\n\t\t\t\t\tuser: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn user;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmodalInstance.result.then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(results);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tif (editingNoteId != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tnoteService.removeEditingNoteFlag(editingNoteId, user.providerNo);\n\t\t\t\t\t\t$interval.cancel(itvSet);\n\t\t\t\t\t\titvSet = null;\n\t\t\t\t\t\t$interval.cancel(itvCheck);\n\t\t\t\t\t\titvCheck = null;\n\t\t\t\t\t\teditingNoteId = null;\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\t\t\tconsole.log($('#myModal'));\n\t\t};\n\n\n\t\tcontroller.gotoState = function gotoState(item, mod, itemId)\n\t\t{\n\t\t\tconsole.log('ITEM: ', item);\n\t\t\tconsole.log('MOD: ', mod);\n\n\t\t\tif (item == \"add\")\n\t\t\t{\n\t\t\t\tcontroller.editGroupedNotes('md', mod, null);\n\n\t\t\t}\n\t\t\telse if (item.action == 'add' && item.type == 'dx_reg')\n\t\t\t{\n\n\t\t\t\tcontroller.editGroupedNotes('lg', mod, itemId);\n\n\t\t\t}\n\t\t\telse if (item.type == 'lab' || item.type == 'document' || item.type == 'rx' || item.type == 'allergy' || item.type == 'prevention' || item.type == 'dsguideline')\n\t\t\t{\n\n\t\t\t\tif (item.type == 'rx')\n\t\t\t\t{\n\t\t\t\t\twin = \"Rx\" + $stateParams.demographicNo;\n\t\t\t\t}\n\t\t\t\telse if (item.type == 'allergy')\n\t\t\t\t{\n\t\t\t\t\twin = \"Allergy\" + $stateParams.demographicNo;\n\t\t\t\t}\n\t\t\t\telse if (item.type == 'prevention')\n\t\t\t\t{\n\t\t\t\t\twin = \"prevention\" + $stateParams.demographicNo;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t//item.type == 'lab' || item.type == 'document'\n\t\t\t\t\t//var rnd = Math.round(Math.random() * 1000);\n\t\t\t\t\twin = \"win_item.type_\";\n\t\t\t\t}\n\n\t\t\t\twindow.open(item.action, win, \"scrollbars=yes, location=no, width=900, height=600\", \"\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse if (item.action == 'action')\n\t\t\t{\n\t\t\t\tcontroller.editGroupedNotes('lg', mod, itemId);\n\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$state.transitionTo(item.action,\n\t\t\t\t{\n\t\t\t\t\tdemographicNo: $stateParams.demographicNo,\n\t\t\t\t\ttype: item.type,\n\t\t\t\t\tid: item.id\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlocation: 'replace',\n\t\t\t\t\tnotify: true\n\t\t\t\t});\n\t\t\t}\n\n\t\t};\n\n\t\tcontroller.viewEform = function viewEform(eFormId)\n\t\t{\n\t\t\t$state.transitionTo('record.forms.view',\n\t\t\t\t{\n\t\t\t\t\tdemographicNo: $stateParams.demographicNo,\n\t\t\t\t\ttype: 'eform',\n\t\t\t\t\tid: eFormId\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlocation: 'replace',\n\t\t\t\t\tnotify: true\n\t\t\t\t});\n\t\t};\n\t\tcontroller.viewDocument = function viewDocument(documentId)\n\t\t{\n\t\t\t// get only document summary items\n\t\t\tlet itemArray = summaryLists['incoming'].summaryItem;\n\t\t\tlet item = null;\n\n\t\t\t// find the summary item that matches the document id\n\t\t\tfor (let i=0; i < itemArray.length; i++)\n\t\t\t{\n\t\t\t\tif(itemArray[i].id === documentId) {\n\t\t\t\t\titem = itemArray[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// if we found a matching document, open it\n\t\t\tif(item != null) {\n\t\t\t\tcontroller.gotoState(item);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconsole.error(\"item not linked to valid document id:\" + documentId);\n\t\t\t}\n\t\t};\n\n\n\t\tcontroller.showPrintModal = function showPrintModal(mod, action)\n\t\t{\n\t\t\tvar size = 'lg';\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: 'src/record/print.jsp',\n\t\t\t\tcontroller: 'Record.Summary.RecordPrintController as recordPrintCtrl',\n\t\t\t\tbackdrop: 'static',\n\t\t\t\tsize: size,\n\t\t\t\tresolve:\n\t\t\t\t{\n\t\t\t\t\tmod: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn mod;\n\t\t\t\t\t},\n\n\t\t\t\t\taction: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn action;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmodalInstance.result.then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(results);\n\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\t// Toggle whether the note is selected for printing\n\t\tcontroller.toggleIsSelectedForPrint = function toggleIsSelectedForPrint(note)\n\t\t{\n\t\t\tnote.isSelected = !note.isSelected;\n\t\t};\n\n\t}\n]);\n\n\nvar itvSet = null;\nvar itvCheck = null;\nvar editingNoteId = null;","'use strict';\n\nangular.module('Record.Summary', ['Common', 'Common.Services']);","/*\n\n    Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n    This software is published under the GPL GNU General Public License.\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n    This software was written for the\n    Department of Family Medicine\n    McMaster University\n    Hamilton\n    Ontario, Canada\n\n*/\n\nangular.module('Record').controller('Record.RecordController', [\n\n\t'$rootScope',\n\t'$scope',\n\t'$window',\n\t'$http',\n\t'$localStorage',\n\t'$location',\n\t'$state',\n\t'$stateParams',\n\t'$timeout',\n\t'$interval',\n\t'$uibModal',\n\t'demographicService',\n\t'demo',\n\t'user',\n\t'properties',\n\t'noteService',\n\t'uxService',\n\t'securityService',\n\t'scheduleService',\n\t'billingService',\n\n\tfunction(\n\t\t$rootScope,\n\t\t$scope,\n\t\t$window,\n\t\t$http,\n\t\t$localStorage,\n\t\t$location,\n\t\t$state,\n\t\t$stateParams,\n\t\t$timeout,\n\t\t$interval,\n\t\t$uibModal,\n\t\tdemographicService,\n\t\tdemo,\n\t\tuser,\n\t\tproperties,\n\t\tnoteService,\n\t\tuxService,\n\t\tsecurityService,\n\t\tscheduleService,\n\t\tbillingService)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.demographicNo = $stateParams.demographicNo;\n\t\tcontroller.demographic = demo;\n\t\tcontroller.properties = properties;\n\t\tcontroller.page = {};\n\t\tcontroller.page.assignedCMIssues = [];\n\n\t\t/*\n\t\t * handle concurrent note edit - EditingNoteFlag\n\t\t */\n\t\tcontroller.page.itvSet = null;\n\t\tcontroller.page.itvCheck = null;\n\t\tcontroller.page.editingNoteId = null;\n\t\tcontroller.page.isNoteSaved = false; // Track save state of note TODO: Potentially add this to the encounterNote object on the backend\n\n\t\tcontroller.$storage = $localStorage; // Define persistent storage\n\t\t/*\n\t\tcontroller.recordtabs2 = [ \n\t\t {id : 0,name : 'Master',url : 'partials/master.html'},\n\t\t {id : 1,name : 'Summary',url : 'partials/summary.html'},\n\t\t {id : 2,name : 'Rx',url : 'partials/rx.jsp'},\n\t\t {id : 3,name : 'Msg',url : 'partials/summary.html'},\n\t\t {id : 4,name : 'Trackers',url : 'partials/tracker.jsp'},\n\t\t {id : 5,name : 'Consults',url : 'partials/summary.html'},\n\t\t {id : 6,name : 'Forms',url : 'partials/formview.html'},\n\t\t {id : 7,name : 'Prevs/Measurements',url : 'partials/summary.html'},\n\t\t {id : 8,name : 'Ticklers',url : 'partials/summary.html'},\n\t\t {id : 9,name : 'MyOscar',url : 'partials/blank.jsp'},\n\t\t {id : 10,name : 'Allergies',url : 'partials/summary.html'},\n\t\t {id : 11,name : 'CPP',url : 'partials/cpp.html'},\n\t\t {id : 12,name : 'Labs/Docs',url : 'partials/labview.html'},\n\t\t {id : 13,name : 'Billing',url : 'partials/billing.jsp'}\t\n\t\t*/\n\t\tcontroller.recordtabs2 = [];\n\t\t/*\n\t\t                 \t {id : 0,displayName : 'Details'  ,path : 'record.details'},\n\t\t                 \t {id : 1,displayName : 'Summary'  ,path : 'record.summary'},\n\t\t                 \t {id : 2,displayName : 'Forms'    ,path : 'record.forms'},\n\t\t                 \t {id : 3,displayName : 'Labs/Docs',path : 'partials/eform.jsp'},\n\t\t                 \t {id : 4,displayName : 'Rx'       ,path : 'partials/eform.jsp'}];\n\t\t*/\n\n\t\tcontroller.init = function init()\n\t\t{\n\t\t\tcontroller.fillMenu();\n\t\t};\n\n\t\t//get access rights\n\t\tsecurityService.hasRight(\"_eChart\", \"w\", controller.demographicNo).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.page.cannotChange = !results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\t//disable click and keypress if user only has read-access\n\t\tcontroller.checkAction = function checkAction(event)\n\t\t{\n\t\t\tif (controller.page.cannotChange)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t};\n\n\t\t// Is there a shared location where this could be accessed from any controller? i.e. a utils file\n\t\tcontroller.isNaN = function(num)\n\t\t{\n\t\t\treturn isNaN(num);\n\t\t};\n\n\t\tcontroller.fillMenu = function fillMenu()\n\t\t{\n\t\t\tuxService.menu($stateParams.demographicNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.recordtabs2 = results;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\t//var transitionP = $state.transitionTo(controller.recordtabs2[0].path,$stateParams,{location:'replace',notify:true});\n\t\t//console.log(\"transition \",transitionP);\n\n\t\tcontroller.changeTab = function changeTab(temp)\n\t\t{\n\t\t\tcontroller.currenttab2 = controller.recordtabs2[temp.id];\n\n\t\t\tif (Juno.Common.Util.isDefinedAndNotNull(temp.state))\n\t\t\t{\n\t\t\t\tif(Juno.Common.Util.isDefinedAndNotNull(temp.demoId)){\n\t\t\t\t\t$state.go(temp.state,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdemographicNo: temp.demoId\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$state.go(temp.state);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (angular.isDefined(temp.url))\n\t\t\t{\n\t\t\t\tif (temp.label == \"Rx\")\n\t\t\t\t{\n\t\t\t\t\twin = temp.label + controller.demographicNo;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar rnd = Math.round(Math.random() * 1000);\n\t\t\t\t\twin = \"win\" + rnd;\n\t\t\t\t}\n\t\t\t\twindow.open(temp.url, win, \"scrollbars=yes, location=no, width=1000, height=600\", \"\");\n\t\t\t}\n\t\t\t//console.log(controller.recordtabs2[temp].path);\n\t\t};\n\n\t\tcontroller.isActive = function isActive(tab)\n\t\t{\n\t\t\tif(Juno.Common.Util.isDefinedAndNotNull($state.current.name) &&\n\t\t\t\tJuno.Common.Util.isDefinedAndNotNull(tab.state))\n\t\t\t{\n\t\t\t\treturn ($state.current.name === tab.state);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\t// Check if there have been potential changes to a note, display a warning if needed\n\t\t$window.onbeforeunload = function (event) {\n\t\t\tif (Juno.Common.Util.isDefinedAndNotNull(controller.page.encounterNote))\n\t\t\t{\n\t\t\t\tif(controller.page.encounterNote.note.trim().length !== 0 && controller.page.isNoteSaved === false)\n\t\t\t\t{\n\t\t\t\t\treturn 'You have made changes to a note, but you did not save them yet.\\nLeaving the page will revert all changes.';\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t$scope.$on('$destroy', function() {\n\t\t\tdelete $window.onbeforeunload;\n\t\t});\n\n\t\t// Warn user about unsaved data before a state change\n\t\t$scope.$on(\"$stateChangeStart\", function(event, data)\n\t\t{\n\t\t\t// If the encounter note is not null/undefined and the new state is not a child of record, continue\n\t\t\tif (Juno.Common.Util.isDefinedAndNotNull(controller.page.encounterNote) &&\n\t\t\t\tcontroller.page.isNoteSaved === false && data.name.indexOf('record.') === -1)\n\t\t\t{\n\t\t\t\tif(controller.page.encounterNote.note.trim().length !== 0)\n\t\t\t\t{\n\t\t\t\t\tvar discard = confirm(\"You have unsaved note data. Are you sure you want to leave?\");\n\t\t\t\t\tif (!discard)\n\t\t\t\t\t{\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//////AutoSave\n\t\tvar saveIntervalSeconds = 2;\n\n\t\tvar timeout = null;\n\t\tvar saveUpdates = function saveUpdates()\n\t\t{\n\t\t\tif (controller.page.encounterNote.note == controller.page.initNote) return; //user did not input anything, don't save\n\n\t\t\tconsole.log(\"save\", controller.page.encounterNote);\n\t\t\tnoteService.tmpSave($stateParams.demographicNo, controller.page.encounterNote);\n\t\t};\n\t\tvar skipTmpSave = false;\n\t\tvar noteDirty = false;\n\n\t\tvar delayTmpSave = function delayTmpSave(newVal, oldVal)\n\t\t{\n\t\t\tconsole.log(\"whats the val \", (newVal != oldVal));\n\t\t\tif (!skipTmpSave)\n\t\t\t{\n\t\t\t\tif (newVal != oldVal)\n\t\t\t\t{\n\t\t\t\t\tnoteDirty = true;\n\t\t\t\t\tif (timeout)\n\t\t\t\t\t{\n\t\t\t\t\t\t$timeout.cancel(timeout);\n\t\t\t\t\t}\n\t\t\t\t\ttimeout = $timeout(saveUpdates, saveIntervalSeconds * 1000);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tnoteDirty = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tskipTmpSave = false; // only skip once\n\t\t};\n\t\t$scope.$watch('controller.page.encounterNote.note', delayTmpSave);\n\n\t\t//////\n\n\t\t//////Timer\n\t\tvar d = new Date(); //the start\n\n\t\tvar totalSeconds = 0;\n\t\tvar myVar = setInterval(setTime, 1000);\n\n\t\tcontroller.getCurrentTimerToggle = function getCurrentTimerToggle()\n\t\t{\n\t\t\tif (angular.isDefined(myVar))\n\t\t\t{\n\t\t\t\treturn \"fa-pause\";\n\t\t\t}\n\t\t\treturn \"fa-play\";\n\t\t};\n\n\t\tcontroller.toggleTimer = function toggleTimer()\n\t\t{\n\t\t\tif ($(\"#aToggle\").hasClass(\"fa-pause\"))\n\t\t\t{\n\t\t\t\t$(\"#aToggle\").removeClass(\"fa-pause\");\n\t\t\t\t$(\"#aToggle\").addClass(\"fa-play\");\n\t\t\t\tclearInterval(myVar);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$(\"#aToggle\").removeClass(\"fa-play\");\n\t\t\t\t$(\"#aToggle\").addClass(\"fa-pause\");\n\t\t\t\tmyVar = setInterval(setTime, 1000);\n\t\t\t}\n\t\t};\n\n\t\tcontroller.pasteTimer = function pasteTimer()\n\t\t{\n\t\t\tvar ed = new Date();\n\t\t\tcontroller.page.encounterNote.note += \"\\n\" + document.getElementById(\"startTag\").value + \": \" + d.getHours() + \":\" + pad(d.getMinutes()) + \"\\n\" + document.getElementById(\"endTag\").value + \": \" + ed.getHours() + \":\" + pad(ed.getMinutes()) + \"\\n\" + pad(parseInt(totalSeconds / 3600)) + \":\" + pad(parseInt((totalSeconds / 60) % 60)) + \":\" + pad(totalSeconds % 60);\n\t\t};\n\n\t\tfunction setTime()\n\t\t{\n\t\t\t++totalSeconds;\n\t\t\tdocument.getElementById(\"aTimer\").innerHTML = pad(parseInt(totalSeconds / 60)) + \":\" + pad(totalSeconds % 60);\n\t\t\tif (totalSeconds == 1200)\n\t\t\t{\n\t\t\t\t$(\"#aTimer\").css(\"background-color\", \"#DFF0D8\");\n\t\t\t} //1200 sec = 20 min light green\n\t\t\tif (totalSeconds == 3000)\n\t\t\t{\n\t\t\t\t$(\"#aTimer\").css(\"background-color\", \"#FDFEC7\");\n\t\t\t} //3600 sec = 50 min light yellow\n\t\t}\n\n\t\tfunction pad(val)\n\t\t{\n\t\t\tvar valString = val + \"\";\n\t\t\tif (valString.length < 2)\n\t\t\t{\n\t\t\t\treturn \"0\" + valString;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn valString;\n\t\t\t}\n\t\t}\n\t\t$scope.$on('$destroy', function()\n\t\t{\n\t\t\tclearInterval(myVar);\n\t\t});\n\t\t//////\t\t\n\n\n\t\t// Note Input Logic\n\t\tcontroller.toggleNote = function toggleNote()\n\t\t{\n\t\t\tif (controller.$storage.hideNote)\n\t\t\t{\n\t\t\t\tcontroller.$storage.hideNote = false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcontroller.$storage.hideNote = true;\n\t\t\t}\n\t\t};\n\n\t\t// TODO\n\t\tcontroller.cancelNoteEdit = function cancelNoteEdit()\n\t\t{\n\t\t\tconsole.log('CANCELLING EDIT');\n\t\t\tcontroller.page.encounterNote = null;\n\t\t\t$rootScope.$emit('stopEditingNote');\n\t\t\tskipTmpSave = true;\n\t\t\tcontroller.getCurrentNote(false);\n\t\t\tcontroller.removeEditingNoteFlag();\n\t\t\tcontroller.$storage.hideNote = true;\n\t\t};\n\n\t\tcontroller.saveNote = function saveNote()\n\t\t{\n\t\t\t// Don't let users save an empty note\n\t\t\tif (controller.page.encounterNote.note.length === 0)\n\t\t\t{\n\t\t\t\talert(\"Can't save a blank note!\"); // Placeholder error handling\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Check if this is a new note, if it isn't, we don't want to overwrite the existing observationDate\n\t\t\t// Need to find a better way of preventing this date overwrite\n\t\t\tcontroller.page.encounterNote.assignedIssues = controller.page.assignedCMIssues;\n\t\t\tcontroller.page.encounterNote.issueDescriptions = [];\n\t\t\tif(!Juno.Common.Util.isInArray(user.displayName,  controller.page.encounterNote.editorNames))\n\t\t\t\tcontroller.page.encounterNote.editorNames.push(user.displayName);\n\n\t\t\tfor (var i = 0; i < controller.page.assignedCMIssues.length; i++)\n\t\t\t{\n\t\t\t\t// if (controller.page.encounterNote.issueDescriptions == null)\n\t\t\t\t// {\n\t\t\t\t// \tcontroller.page.encounterNote.issueDescriptions = controller.page.assignedCMIssues[i].issue.description;\n\t\t\t\t// }\n\t\t\t\t// else\n\t\t\t\t// {\n\t\t\t\t// \tcontroller.page.encounterNote.issueDescriptions += \",\" + controller.page.assignedCMIssues[i].issue.description;\n\t\t\t\t// }\n\t\t\t\tcontroller.page.encounterNote.issueDescriptions.push(controller.page.assignedCMIssues[i].issue.description);\n\t\t\t}\n\n\t\t\tnoteService.saveNote($stateParams.demographicNo, controller.page.encounterNote).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.isNoteSaved = true;\n\t\t\t\t\t$rootScope.$emit('noteSaved', results);\n\t\t\t\t\tskipTmpSave = true;\n\t\t\t\t\tcontroller.page.encounterNote = results;\n\t\t\t\t\tcontroller.$storage.hideNote = true;\n\t\t\t\t\tcontroller.getCurrentNote(false);\n\t\t\t\t\tcontroller.page.assignedCMIssues = [];\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t\tcontroller.removeEditingNoteFlag();\n\t\t};\n\n\t\tcontroller.saveSignNote = function saveSignNote()\n\t\t{\n\t\t\tcontroller.page.encounterNote.isSigned = true;\n\t\t\tcontroller.saveNote();\n\t\t};\n\n\t\tcontroller.saveSignVerifyNote = function saveSignVerifyNote()\n\t\t{\n\t\t\tcontroller.page.encounterNote.isVerified = true;\n\t\t\tcontroller.page.encounterNote.isSigned = true;\n\t\t\tcontroller.saveNote();\n\t\t};\n\n\t\tbillingService.getBillingRegion().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.page.billregion = results.message;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\t\tbillingService.getDefaultView().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.page.defaultView = results.message;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\t\tif ($location.search().appointmentNo != null)\n\t\t{\n\t\t\tscheduleService.getAppointment($location.search().appointmentNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.appointment = results;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t}\n\n\t\tcontroller.saveSignBillNote = function saveSignBillNote()\n\t\t{\n\t\t\tcontroller.page.encounterNote.isSigned = true;\n\t\t\tcontroller.saveNote();\n\n\t\t\tvar dxCode = \"\";\n\t\t\tfor (var i = 0; i < controller.page.assignedCMIssues.length; i++)\n\t\t\t{\n\t\t\t\tdxCode += \"&dxCode=\" + controller.page.assignedCMIssues[i].issue.code.substring(0, 3);\n\t\t\t}\n\n\t\t\tvar apptNo = \"\",\n\t\t\t\tapptProvider = \"\",\n\t\t\t\tapptDate = \"\",\n\t\t\t\tapptStartTime = \"\";\n\t\t\tif (controller.page.appointment != null)\n\t\t\t{\n\t\t\t\tapptNo = controller.page.appointment.id;\n\t\t\t\tapptProvider = controller.page.appointment.providerNo;\n\t\t\t\tvar dt = moment(controller.page.appointment.appointmentDate).toDate();\n\t\t\t\tapptDate = dt.getFullYear() + \"-\" + zero(dt.getMonth() + 1) + \"-\" + zero(dt.getDate());\n\t\t\t\tdt = new Date(controller.page.appointment.startTime);\n\t\t\t\tapptStartTime = zero(dt.getHours()) + \":\" + zero(dt.getMinutes()) + \":\" + zero(dt.getSeconds());\n\t\t\t}\n\n\t\t\tvar url = \"../billing.do?billRegion=\" + encodeURIComponent(controller.page.billregion);\n\t\t\turl += \"&billForm=\" + encodeURIComponent(controller.page.defaultView);\n\t\t\turl += \"&demographic_name=\" + encodeURIComponent(demo.lastName + \",\" + demo.firstName);\n\t\t\turl += \"&demographic_no=\" + demo.demographicNo;\n\t\t\turl += \"&providerview=\" + user.providerNo + \"&user_no=\" + user.providerNo;\n\t\t\turl += \"&appointment_no=\" + apptNo + \"&apptProvider_no=\" + apptProvider;\n\t\t\turl += \"&appointment_date=\" + apptDate + \"&start_time=\" + apptStartTime;\n\t\t\turl += \"&hotclick=&status=t&bNewForm=1\" + dxCode;\n\n\t\t\twindow.open(url, \"billingWin\", \"scrollbars=yes, location=no, width=\" + screen.width + \", height=\" + screen.height, \"\");\n\t\t};\n\n\n\t\tconsole.log('RecordCtrlEnd', $state);\n\n\t\tcontroller.page.currentNoteConfig = {};\n\n\n\t\tcontroller.getIssueNote = function getIssueNote()\n\t\t{\n\t\t\tif (controller.page.encounterNote.noteId != null)\n\t\t\t{\n\t\t\t\tnoteService.getIssueNote(controller.page.encounterNote.noteId).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (results != null) controller.page.assignedCMIssues = toArray(results.assignedCMIssues);\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tcontroller.getCurrentNote = function getCurrentNote(showNoteAfterLoadingFlag)\n\t\t{\n\t\t\tnoteService.getCurrentNote($stateParams.demographicNo, $location.search()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.page.encounterNote = results;\n\t\t\t\t\tcontroller.page.initNote = results.note; //compare this with current note content to determine tmpsave or not\n\t\t\t\t\tcontroller.getIssueNote();\n\t\t\t\t\t// controller.hideNote = showNoteAfterLoadingFlag;\n\t\t\t\t\t// controller.$storage.hideNote = showNoteAfterLoadingFlag;\n\t\t\t\t\t$rootScope.$emit('currentlyEditingNote', controller.page.encounterNote);\n\t\t\t\t\tcontroller.initAppendNoteEditor();\n\t\t\t\t\tcontroller.initObservationDate();\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.getCurrentNote(true);\n\n\t\tcontroller.editNote = function editNote(note)\n\t\t{\n\t\t\t$rootScope.$emit('', note);\n\t\t};\n\n\t\t$rootScope.$on('loadNoteForEdit', function(event, data)\n\t\t{\n\t\t\t// Check if another note is currently being edited\n\t\t\tif (controller.page.editingNoteId !== null)\n\t\t\t{\n\t\t\t\tconsole.log('Note is already being edited! Do you want to save changes?');\n\t\t\t\tcontroller.displayWarning(data);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontroller.page.encounterNote = angular.copy(data);\n\t\t\tcontroller.getIssueNote();\n\n\t\t\t//Need to check if note has been saved yet.\n\t\t\tcontroller.$storage.hideNote = false;\n\t\t\t$rootScope.$emit('currentlyEditingNote', controller.page.encounterNote);\n\n\t\t\tcontroller.removeEditingNoteFlag();\n\t\t});\n\n\t\tcontroller.initAppendNoteEditor = function initAppendNoteEditor()\n\t\t{\n\t\t\tif ($location.search().noteEditorText != null)\n\t\t\t{\n\t\t\t\tcontroller.page.encounterNote.note = controller.page.encounterNote.note + $location.search().noteEditorText;\n\t\t\t}\n\t\t};\n\n\t\t// Initialize the observationDate for new notes\n\t\tcontroller.initObservationDate = function initObservationDate()\n\t\t{\n\t\t\tif (controller.page.encounterNote.observationDate === null)\n\t\t\t{\n\t\t\t\tcontroller.page.encounterNote.observationDate = new Date();\n\t\t\t}\n\t\t};\n\n\n\t\t$rootScope.$on(\"$stateChangeStart\", function()\n\t\t{\n\t\t\tcontroller.removeEditingNoteFlag();\n\t\t});\n\n\t\tcontroller.doSetEditingNoteFlag = function doSetEditingNoteFlag()\n\t\t{\n\t\t\tnoteService.setEditingNoteFlag(controller.page.editingNoteId, user.providerNo).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif (!results.success)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (results.message == \"Parameter error\") alert(\"Parameter Error: noteUUID[\" + controller.page.editingNoteId + \"] userId[\" + user.providerNo + \"]\");\n\t\t\t\t\t\telse alert(\"Warning! Another user is editing this note now.\");\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.setEditingNoteFlag = function setEditingNoteFlag()\n\t\t{\n\t\t\tif (controller.page.encounterNote.uuid == null) return;\n\t\t\tcontroller.page.isNoteSaved = false;\n\t\t\tcontroller.page.editingNoteId = controller.page.encounterNote.uuid;\n\t\t\tif (controller.page.itvSet == null)\n\t\t\t{\n\t\t\t\tcontroller.page.itvSet = $interval(controller.doSetEditingNoteFlag(), 30000); //set flag every 5 min until canceled\n\t\t\t}\n\t\t\tif (controller.page.itvCheck == null)\n\t\t\t{ //warn once only when the 1st time another user tries to edit this note\n\t\t\t\tcontroller.page.itvCheck = $interval(function()\n\t\t\t\t{\n\t\t\t\t\tnoteService.checkEditNoteNew(controller.page.editingNoteId, user.providerNo).then(\n\t\t\t\t\t\tfunction success(results)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!results.success)\n\t\t\t\t\t\t\t{ //someone else wants to edit this note\n\t\t\t\t\t\t\t\talert(\"Warning! Another user tries to edit this note. Your update may be replaced by later revision(s).\");\n\t\t\t\t\t\t\t\t$interval.cancel(controller.page.itvCheck);\n\t\t\t\t\t\t\t\tcontroller.page.itvCheck = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t\t});\n\t\t\t\t}, 10000); //check for new edit every 10 seconds\n\t\t\t}\n\t\t};\n\n\t\tcontroller.removeEditingNoteFlag = function removeEditingNoteFlag()\n\t\t{\n\t\t\tif (controller.page.editingNoteId != null)\n\t\t\t{\n\t\t\t\tnoteService.removeEditingNoteFlag(controller.page.editingNoteId, user.providerNo);\n\t\t\t\t$interval.cancel(controller.page.itvSet);\n\t\t\t\t$interval.cancel(controller.page.itvCheck);\n\t\t\t\tcontroller.page.itvSet = null;\n\t\t\t\tcontroller.page.itvCheck = null;\n\t\t\t\tcontroller.page.editingNoteId = null;\n\t\t\t}\n\t\t};\n\n\n\t\tcontroller.searchTemplates = function searchTemplates(term)\n\t\t{\n\t\t\tvar search = {\n\t\t\t\tname: term\n\t\t\t};\n\n\t\t\treturn uxService.searchTemplates(search, 0, 25).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.templates.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tencounterTemplateName: results.templates[x].encounterTemplateName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.insertTemplate = function insertTemplate(item, model, label)\n\t\t{\n\t\t\t\n\t\t\tuxService.getTemplate(\n\t\t\t{\n\t\t\t\tname: model\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif (results.templates !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar template = results.templates[0];\n\t\t\t\t\t\tcontroller.page.encounterNote.note = controller.page.encounterNote.note + template.encounterTemplateValue;\n\t\t\t\t\t\tcontroller.options = {\n\t\t\t\t\t\t\tmagicVal: ''\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.displayWarning = function displayWarning(noteToEdit)\n\t\t{\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: 'src/record/summary/saveWarning.jsp',\n\t\t\t\tcontroller: 'Record.Summary.SaveWarningController as saveWarningCtrl',\n\t\t\t\tbackdrop: 'static',\n\t\t\t\tsize: 'md',\n\t\t\t\tresolve:\n\t\t\t\t{\n\t\t\t\t\tsaveSignNote: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn controller.saveSignNote;\n\t\t\t\t\t},\n\t\t\t\t\tcancelNoteEdit: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn controller.cancelNoteEdit;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Might need to keep this to continue the original edit action\n\t\t\tmodalInstance.result.then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(results);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.searchIssues = function searchIssues(term)\n\t\t{\n\t\t\tconsole.log('SEARCHING FOR ISSUE: ', term);\n\t\t\tvar search = {\n\t\t\t\t'term': term\n\t\t\t};\n\t\t\treturn noteService.searchIssues(search, 0, 100).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar resp = [];\n\t\t\t\t\tfor (var x = 0; x < results.content.length; x++)\n\t\t\t\t\t{\n\t\t\t\t\t\tresp.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tissueId: results.content[x].id,\n\t\t\t\t\t\t\tcode: results.content[x].description + '(' + results.content[x].code + ')'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (results.total > results.content.length)\n\t\t\t\t\t{\n\t\t\t\t\t\t//warn user there's more results somehow?\n\t\t\t\t\t}\n\t\t\t\t\treturn resp;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.assignIssue = function assignIssue(item, model, label)\n\t\t{\n\t\t\tfor (var x = 0; x < controller.page.assignedCMIssues.length; x++)\n\t\t\t{\n\t\t\t\tif (controller.page.assignedCMIssues[x].issue.id == model)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnoteService.getIssue(model).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tvar cmIssue = {\n\t\t\t\t\t\tacute: false,\n\t\t\t\t\t\tcertain: false,\n\t\t\t\t\t\tissue: results,\n\t\t\t\t\t\tissue_id: item.issueId,\n\t\t\t\t\t\tmajor: false,\n\t\t\t\t\t\tresolved: false,\n\t\t\t\t\t\tunsaved: true\n\t\t\t\t\t};\n\t\t\t\t\tcontroller.page.assignedCMIssues.push(cmIssue);\n\n\t\t\t\t\t$scope.$broadcast('noteIssueAdded');\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.removeIssue = function removeIssue(i)\n\t\t{\n\t\t\tconsole.log('removed issue in record ctrl');\n\t\t\ti.unchecked = true;\n\t\t\tvar newList = [];\n\t\t\tfor (var x = 0; x < controller.page.assignedCMIssues.length; x++)\n\t\t\t{\n\t\t\t\tif (controller.page.assignedCMIssues[x].issue_id != i.issue_id)\n\t\t\t\t{\n\t\t\t\t\tnewList.push(controller.page.assignedCMIssues[x]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontroller.page.assignedCMIssues = newList;\n\n\t\t\t$scope.$broadcast('noteIssueRemoved');\n\t\t};\n\n\t\t// If inverse === false, return true if the given item is supposed to be shown outisde the 'more' dropdown on the medium view\n\t\t// If inverse === true, return the inverse of the above statement,\n\t\tcontroller.mediumNavItemFilter = function mediumNavItemFilter(inverse)\n\t\t{\n\t\t\treturn function(item)\n\t\t\t{\n\t\t\t\tvar labelsToShow = ['Details', 'Summary', 'Forms', 'Tickler', 'Health Tracker', 'Rx', 'Consultations'];\n\t\t\t\tvar filterValue = $.inArray(item.label, labelsToShow) != -1;\n\n\t\t\t\tif (inverse === true)\n\t\t\t\t{\n\t\t\t\t\treturn !filterValue;\n\t\t\t\t}\n\n\t\t\t\treturn filterValue;\n\t\t\t};\n\t\t};\n\n\t\tcontroller.demographic.age = Juno.Common.Util.calcAge(controller.demographic.dobYear, controller.demographic.dobMonth, controller.demographic.dobDay);\n\t\tcontroller.init();\n\t}\n]);\n\nfunction toArray(obj)\n{ //convert single object to array\n\tif (obj instanceof Array) return obj;\n\tif (obj == null) return [];\n\treturn [obj];\n}\n\nfunction zero(n)\n{\n\tif (n < 10) n = \"0\" + n;\n\treturn n;\n}","'use strict';\n\nangular.module('Record', ['Common', 'Common.Services']);","angular.module('PatientList').controller('PatientList.PatientListProgramController', [\n\n\t'$scope',\n\t'$http',\n\n\tfunction(\n\t\t$scope,\n\t\t$http)\n\t{\n\n\t\tvar controller = this;\n\n\n\t\t$scope.$on('updatePatientList', function(event, data)\n\t\t{\n\t\t\tconsole.log('updatePatientList=' + JSON.stringify(data));\n\t\t\tcontroller.updateData(data.currentPage, data.pageSize);\n\t\t});\n\n\n\t\t//the currentPage is 0 based\n\t\tcontroller.updateData = function updateData(currentPage, pageSize)\n\t\t{\n\t\t\tvar startIndex = currentPage * pageSize;\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: '../ws/rs/program/patientList?startIndex=' + startIndex + '&numToReturn=' + pageSize,\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders:\n\t\t\t\t{\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.admissions = results.data.content;\n\t\t\t\t\t$scope.$emit('updatePatientListPagination', results.data.total);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\t//initialize..\n\t\tcontroller.updateData(0, controller.pageSize);\n\t\t$scope.$emit('togglePatientListFilter', false);\n\n\t}\n]);","angular.module('PatientList').controller('PatientList.PatientListDemographicSetController', [\n\n\t'$scope',\n\t'$http',\n\t'Navigation',\n\n\tfunction(\n\t\t$scope,\n\t\t$http,\n\t\tNavigation)\n\t{\n\n\t\tvar controller = this;\n\n\t\t$http(\n\t\t{\n\t\t\turl: '../ws/rs/reporting/demographicSets/list',\n\t\t\tmethod: \"GET\",\n\t\t\theaders:\n\t\t\t{\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t}).then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.sets = results.data.content;\n\t\t\t},\n\t\t\tfunction error(error)\n\t\t\t{\n\t\t\t\talert('Failed to get sets lists.');\n\t\t\t});\n\t}\n]);","angular.module('PatientList').controller('PatientList.PatientListConfigController', [\n\n\t'$scope',\n\t'$uibModalInstance',\n\t'config',\n\n\tfunction(\n\t\t$scope,\n\t\t$uibModalInstance,\n\t\tconfig)\n\t{\n\t\tvar controller = this;\n\n\t\tcontroller.patientListConfig = config;\n\n\t\tcontroller.cancel = function cancel()\n\t\t{\n\t\t\t$uibModalInstance.dismiss();\n\t\t};\n\n\t\tcontroller.saveConfiguration = function saveConfiguration()\n\t\t{\n\t\t\t$uibModalInstance.close(controller.patientListConfig);\n\t\t};\n\t}\n]);","angular.module('PatientList').controller('PatientList.PatientListAppointmentListController', [\n\n\t'$scope',\n\t'$http',\n\t'$q',\n\t'$filter',\n\t'$uibModal',\n\t'Navigation',\n\t'scheduleService',\n\t'providerService',\n\t'patientListState',\n\n\tfunction(\n\t\t$scope,\n\t\t$http,\n\t\t$q,\n\t\t$filter,\n\t\t$uibModal,\n\t\tNavigation,\n\t\tscheduleService,\n\t\tproviderService,\n\t\tpatientListState)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.dateOptions = {\n\t\t\tshowWeeks: false\n\t\t};\n\n\t\tscheduleService.getStatuses().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.statuses = results.content;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\tcontroller.getAppointmentTextStyle = function getAppointmentTextStyle(patient)\n\t\t{\n\t\t\tif (patient.demographicNo == 0)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t'color': 'white'\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\t//TODO:this gets called alot..should switch to a dictionary.\n\t\tcontroller.getAppointmentStyle = function getAppointmentStyle(patient)\n\t\t{\n\t\t\tif (patient.demographicNo == 0)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t'background-color': 'black'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (controller.statuses != null)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < controller.statuses.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (controller.statuses[i].status == patient.status)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t'background-color': controller.statuses[i].color\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {};\n\t\t};\n\n\n\t\tcontroller.today = function today()\n\t\t{\n\t\t\tcontroller.appointmentDate = new Date();\n\t\t};\n\n\t\tcontroller.today();\n\n\t\tcontroller.clear = function clear()\n\t\t{\n\t\t\tcontroller.appointmentDate = null;\n\t\t};\n\n\t\tcontroller.open = function open($event)\n\t\t{\n\t\t\t$event.preventDefault();\n\t\t\t$event.stopPropagation();\n\t\t\tcontroller.opened = true;\n\t\t};\n\n\t\tDate.prototype.AddDays = function AddDays(noOfDays)\n\t\t{\n\t\t\tthis.setTime(this.getTime() + (noOfDays * (1000 * 60 * 60 * 24)));\n\t\t\treturn this;\n\t\t};\n\n\t\tcontroller.switchDay = function switchDay(n)\n\t\t{\n\t\t\tvar dateNew = controller.appointmentDate;\n\t\t\tdateNew.AddDays(n);\n\n\t\t\tcontroller.appointmentDate = dateNew;\n\n\t\t\tvar formattedDate = $filter('date')(dateNew, 'yyyy-MM-dd');\n\n\t\t\tcontroller.changeApptList(formattedDate);\n\n\n\t\t};\n\n\t\tcontroller.changeApptDate = function changeApptDate()\n\t\t{\n\t\t\tif (controller.appointmentDate == undefined)\n\t\t\t{\n\t\t\t\tcontroller.today();\n\t\t\t}\n\t\t\tvar formattedDate = $filter('date')(controller.appointmentDate, 'yyyy-MM-dd');\n\t\t\tcontroller.changeApptList(formattedDate);\n\t\t};\n\n\t\tcontroller.changeApptList = function changeApptList(day)\n\t\t{\n\n\t\t\ttemp = 0;\n\n\t\t\tcontroller.currenttab = patientListState.tabItems[temp];\n\t\t\tvar lastIndx = controller.currenttab.url.lastIndexOf(\"/\");\n\t\t\tcontroller.currenttab.url = controller.currenttab.url.slice(0, lastIndx + 1) + day;\n\t\t\tcontroller.showFilter = true;\n\t\t\t$scope.$emit('juno:patientListRefresh');\n\t\t};\n\n\t\tcontroller.addNewAppointment = function addNewAppointment()\n\t\t{\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: 'src/schedule/appointmentAdd.jsp',\n\t\t\t\tcontroller: 'Schedule.AppointmentAddController as appointmentAddCtrl',\n\t\t\t\tbackdrop: 'static',\n\t\t\t\tsize: 'lg',\n\t\t\t\tresolve:\n\t\t\t\t{\n\t\t\t\t\tme: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn providerService.getMe();\n\t\t\t\t\t},\n\t\t\t\t\tapptDate: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn controller.appointmentDate;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmodalInstance.result.then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.switchDay(0);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.viewAppointment = function viewAppointment(apptNo)\n\t\t{\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: 'src/schedule/appointmentView.jsp',\n\t\t\t\tcontroller: 'Schedule.AppointmentViewController as appointmentViewCtrl',\n\t\t\t\tbackdrop: 'static',\n\t\t\t\tsize: 'lg',\n\t\t\t\tresolve:\n\t\t\t\t{\n\t\t\t\t\tme: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn providerService.getMe();\n\t\t\t\t\t},\n\t\t\t\t\tappointment: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn scheduleService.getAppointment(apptNo);\n\t\t\t\t\t},\n\t\t\t\t\tstatusList: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn scheduleService.getStatuses();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmodalInstance.result.then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.switchDay(0);\n\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\t}\n]);","/*\n\n    Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n    This software is published under the GPL GNU General Public License.\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n    This software was written for the\n    Department of Family Medicine\n    McMaster University\n    Hamilton\n    Ontario, Canada\n\n*/\n\nangular.module('PatientList').controller('PatientList.PatientListController', [\n\n\t'$scope',\n\t'$http',\n\t'$state',\n\t'$uibModal',\n\t'angularUtil',\n\t'Navigation',\n\t'personaService',\n\t'providerService',\n\t'patientListState',\n\n\tfunction(\n\t\t$scope,\n\t\t$http,\n\t\t$state,\n\t\t$uibModal,\n\t\tangularUtil,\n\t\tNavigation,\n\t\tpersonaService,\n\t\tproviderService,\n\t\tpatientListState)\n\t{\n\n\t\tvar controller = this;\n\t\tcontroller.sidebar = Navigation;\n\t\tcontroller.showFilter = true;\n\t\tcontroller.patientListConfig = {};\n\n\n\t\tcontroller.goToRecord = function goToRecord(patient)\n\t\t{\n\t\t\tif (patient.demographicNo != 0)\n\t\t\t{\n\t\t\t\tvar params = {\n\t\t\t\t\tdemographicNo: patient.demographicNo\n\t\t\t\t};\n\t\t\t\tif (angular.isDefined(patient.appointmentNo))\n\t\t\t\t{\n\t\t\t\t\tparams.appointmentNo = patient.appointmentNo;\n\t\t\t\t\tparams.encType = \"face to face encounter with client\";\n\n\t\t\t\t\tif (angularUtil.inMobileView())\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.hidePatientList();\n\t\t\t\t\t\tconsole.log('hiding patientlist');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log(\"params\", params);\n\t\t\t\t$state.go('record.summary', params);\n\t\t\t}\n\t\t};\n\n\t\t//for filter box\n\t\tcontroller.query = '';\n\n\n\t\tcontroller.isActive = function isActive(temp)\n\t\t{\n\t\t\tif (controller.currenttab === null)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn temp === controller.currenttab.id;\n\t\t};\n\n\t\tcontroller.isMoreActive = function isMoreActive(temp)\n\t\t{\n\t\t\tif (controller.currentmoretab === null)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn temp === controller.currentmoretab.id;\n\t\t};\n\n\t\tcontroller.showPatientList = function showPatientList()\n\t\t{\n\t\t\t$scope.$emit('configureShowPatientList', true);\n\t\t};\n\n\t\tcontroller.hidePatientList = function hidePatientList()\n\t\t{\n\t\t\t$scope.$emit('configureShowPatientList', false);\n\t\t};\n\n\t\tcontroller.changeMoreTab = function changeMoreTab(temp, filter)\n\t\t{\n\t\t\tvar beforeChangeTab = controller.currentmoretab;\n\t\t\tcontroller.currentmoretab = controller.moreTabItems[temp];\n\n\t\t\tcontroller.showFilter = true;\n\t\t\tcontroller.currenttab = null;\n\t\t\tcontroller.refresh(filter);\n\t\t};\n\n\t\tcontroller.changeTab = function changeTab(temp, filter)\n\t\t{\n\t\t\tif(controller.currenttab !== patientListState.tabItems[temp])\n\t\t\t{\n\t\t\t\tcontroller.currenttab = patientListState.tabItems[temp];\n\t\t\t\tcontroller.showFilter = true;\n\t\t\t\tcontroller.currentmoretab = null;\n\t\t\t\tcontroller.refresh(filter);\n\t\t\t}\n\t\t};\n\n\t\tcontroller.getMoreTabClass = function getMoreTabClass(id)\n\t\t{\n\t\t\tif (controller.currentmoretab != null && id == controller.currentmoretab.id)\n\t\t\t{\n\t\t\t\treturn \"more-tab-highlight\";\n\t\t\t}\n\t\t\treturn \"\";\n\t\t};\n\n\t\tcontroller.currentPage = 0;\n\t\tcontroller.pageSize = 8;\n\t\tcontroller.patients = null;\n\n\t\tcontroller.numberOfPages = function numberOfPages()\n\t\t{\n\t\t\tif (controller.nPages == null || controller.nPages == 0)\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn controller.nPages;\n\t\t};\n\n\n\t\t$scope.$on('updatePatientListPagination', function(event, data)\n\t\t{\n\t\t\tconsole.log('updatePatientListPagination=' + data);\n\t\t\tcontroller.nPages = Math.ceil(data / controller.pageSize);\n\t\t\tconsole.log('nPages=' + controller.nPages);\n\t\t});\n\n\n\t\tcontroller.changePage = function changePage(pageNum)\n\t\t{\n\t\t\tcontroller.currentPage = pageNum;\n\t\t\t//broadcast the change page\n\t\t\t$scope.$broadcast('updatePatientList',\n\t\t\t{\n\t\t\t\tcurrentPage: controller.currentPage,\n\t\t\t\tpageSize: controller.pageSize\n\t\t\t});\n\t\t};\n\n\n\t\t//  $scope.$watch(\"currentPage\", function(newValue, oldValue) {\n\t\t//     console.log('currentPage changes from ' + oldValue + ' to ' + newValue);\n\t\t//   });\n\n\t\t$scope.$on('togglePatientListFilter', function(event, data)\n\t\t{\n\t\t\tconsole.log(\"received a togglePatientListFilter event:\" + data);\n\t\t\tcontroller.showFilter = data;\n\t\t});\n\n\n\t\tcontroller.process = function process(tab, filter)\n\t\t{\n\t\t\tif (tab.url != null)\n\t\t\t{\n\n\t\t\t\tvar d = undefined;\n\t\t\t\tif (tab.httpType == 'POST')\n\t\t\t\t{\n\t\t\t\t\td = filter != null ? JSON.stringify(filter) :\n\t\t\t\t\t{}\n\t\t\t\t}\n\n\t\t\t\t$http(\n\t\t\t\t{\n\t\t\t\t\turl: tab.url,\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tdata: d,\n\t\t\t\t\tmethod: tab.httpType,\n\t\t\t\t\theaders:\n\t\t\t\t\t{\n\t\t\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t\t\t}\n\t\t\t\t}).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.template = tab.template;\n\t\t\t\t\t\tNavigation.load(controller.template);\n\n\t\t\t\t\t\tcontroller.currentPage = 0;\n\n\t\t\t\t\t\tif (results.data.patients instanceof Array)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontroller.patients = results.data.patients;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (results.data.patients == undefined)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontroller.patients = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar arr = new Array();\n\t\t\t\t\t\t\tarr[0] = results.data.patients;\n\t\t\t\t\t\t\tcontroller.patients = arr;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontroller.nPages = 1;\n\t\t\t\t\t\tif (controller.patients != null && controller.patients.length > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontroller.nPages = Math.ceil(controller.patients.length / controller.pageSize);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(error)\n\t\t\t\t\t{\n\t\t\t\t\t\talert('error loading data for patient list:' + error);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcontroller.changePage(controller.currentPage);\n\t\t\t\tcontroller.currentPage = 0;\n\t\t\t\tcontroller.nPages = 1;\n\t\t\t\tcontroller.template = tab.template;\n\t\t\t\tNavigation.load(controller.template);\n\t\t\t}\n\t\t};\n\n\t\tcontroller.refresh = function refresh(filter)\n\t\t{\n\n\t\t\tif (controller.currenttab != null)\n\t\t\t{\n\t\t\t\tcontroller.process(controller.currenttab, filter);\n\t\t\t}\n\t\t\tif (controller.currentmoretab != null)\n\t\t\t{\n\t\t\t\tcontroller.process(controller.currentmoretab, filter);\n\t\t\t}\n\n\t\t};\n\n\t\t$scope.$on('juno:patientListRefresh', function()\n\t\t{\n\t\t\tcontroller.refresh();\n\t\t});\n\n\t\tproviderService.getRecentPatientList().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.recentPatientList = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\t\tpersonaService.getPatientListConfig().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.patientListConfig = results;\n\t\t\t\tcontroller.pageSize = controller.patientListConfig.numberOfApptstoShow;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\n\t\tcontroller.getTabItems = function getTabItems()\n\t\t{\n\t\t\treturn patientListState.tabItems;\n\t\t};\n\n\t\tcontroller.manageConfiguration = function manageConfiguration()\n\t\t{\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: 'src/patientlist/patientListConfiguration.jsp',\n\t\t\t\tcontroller: 'PatientList.PatientListConfigController as patientListConfigCtrl',\n\t\t\t\tbackdrop: false,\n\t\t\t\tsize: 'lg',\n\t\t\t\tresolve:\n\t\t\t\t{\n\t\t\t\t\tconfig: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn controller.patientListConfig;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmodalInstance.result.then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tpersonaService.setPatientListConfig(results).then(\n\t\t\t\t\t\tfunction success(results)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontroller.patientListConfig = results;\n\t\t\t\t\t\t\tcontroller.pageSize = controller.patientListConfig.numberOfApptstoShow;\n\t\t\t\t\t\t\t$scope.$emit('updatePatientListPagination', controller.patients.length);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tpatientListState.tabItems = [\n\t\t\t{\n\t\t\t\tid: 0,\n\t\t\t\tlabel: \"Appts.\",\n\t\t\t\ttemplate: \"src/patientlist/patientList1.jsp\",\n\t\t\t\turl: \"../ws/rs/schedule/day/today\",\n\t\t\t\thttpType: \"GET\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 1,\n\t\t\t\tlabel: \"Recent\",\n\t\t\t\ttemplate: \"src/patientlist/recent.jsp\",\n\t\t\t\turl: \"../ws/rs/providerService/getRecentDemographicsViewed\",\n\t\t\t\thttpType: \"GET\"\n\t\t\t}\n\t\t];\n\t\tcontroller.moreTabItems = [\n\t\t\t{\n\t\t\t\tid: 0,\n\t\t\t\tlabel: \"Patient Sets\",\n\t\t\t\ttemplate: \"src/patientlist/demographicSets.jsp\",\n\t\t\t\turl: \"../ws/rs/reporting/demographicSets/patientList\",\n\t\t\t\thttpType: \"POST\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 1,\n\t\t\t\tlabel: \"Caseload\",\n\t\t\t\ttemplate: \"src/patientlist/program.jsp\",\n\t\t\t\turl: null,\n\t\t\t\thttpType: null\n\t\t\t}\n\t\t];\n\t\tcontroller.changeTab(0);\n\t}\n]);","angular.module(\"PatientList\").service(\"patientListState\", [\n\t// Store variables here that must be accessible across controllers in patientlist\n\tfunction()\n\t{\n\t\tvar service = this;\n\n\t\tservice.tabItems = [];\n\n\t}\n]);","'use strict';\n\nangular.module('PatientList', ['Common', 'Common.Services']);","angular.module('Dashboard').controller('Dashboard.TicklerConfigureController', [\n\n\t'$scope',\n\t'$uibModalInstance',\n\t'personaService',\n\t'prefs',\n\n\tfunction(\n\t\t$scope,\n\t\t$uibModalInstance,\n\t\tpersonaService,\n\t\tprefs)\n\t{\n\n\t\tvar controller = this;\n\n\t\tcontroller.prefs = prefs.dashboardPreferences;\n\n\t\tcontroller.close = function close()\n\t\t{\n\t\t\t$uibModalInstance.close(false);\n\t\t};\n\n\t\tcontroller.save = function save()\n\t\t{\n\n\t\t\tpersonaService.updateDashboardPreferences(controller.prefs).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\t$uibModalInstance.close(true);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\t$uibModalInstance.close(false);\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\t\t};\n\t}\n]);","/*\n\n    Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n    This software is published under the GPL GNU General Public License.\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n    This software was written for the\n    Department of Family Medicine\n    McMaster University\n    Hamilton\n    Ontario, Canada\n\n*/\nangular.module('Dashboard').controller('Dashboard.DashboardController', [\n\n    '$scope',\n    '$uibModal',\n    'NgTableParams',\n    'providerService',\n    'ticklerService',\n    'messageService',\n    'inboxService',\n    'k2aService',\n    'noteService',\n    'securityService',\n    'personaService',\n\n    function($scope,\n             $uibModal,\n             NgTableParams,\n             providerService,\n             ticklerService,\n             messageService,\n             inboxService,\n             k2aService,\n             noteService,\n             securityService,\n             personaService)\n    {\n\n        var controller = this;\n\n        //header\n        controller.displayDate = function displayDate()\n        {\n            return new Date();\n        };\n        console.log('TABLE PARAMS', NgTableParams);\n        controller.me = null;\n        controller.k2aActive = false;\n\t    controller.k2aFeedActive = false;\n\n\t    controller.busyLoadingData = false;\n\n        personaService.getDashboardPreferences().then(\n            function success(results)\n            {\n                controller.prefs = results.dashboardPreferences;\n            },\n            function error(errors)\n            {\n                console.log(errors);\n            });\n\n        securityService.hasRights(\n            {\n                items: [\n                    {\n                        objectName: '_tickler',\n                        privilege: 'w'\n                    },\n                    {\n                        objectName: '_tickler',\n                        privilege: 'r'\n                    }]\n            }).then(\n            function success(results)\n            {\n                if (results.content != null && results.content.length == 2)\n                {\n                    controller.ticklerWriteAccess = results.content[0];\n                    controller.ticklerReadAccess = results.content[1];\n                }\n            },\n            function error(errors)\n            {\n                console.log(errors);\n            });\n\n        controller.inboxTableParams = new NgTableParams(\n            {\n                page: 1, // show first page\n                count: 10\n            },\n            {\n                // total: 0, // length of data\n                getData: function(params)\n                {\n\n\n                    return inboxService.getDashboardItems(params.count()).then(\n                        function success(results)\n                        {\n                            console.log('INBOX DATA: ', results);\n                            params.total(results.total); // recal. page nav controls\n                            return results.content;\n                        },\n                        function error(errors)\n                        {\n                            console.log(errors);\n                        });\n                }\n            });\n\n        controller.openInbox = function openInbox()\n        {\n            newwindow = window.open('../dms/inboxManage.do?method=prepareForIndexPage', 'inbox', 'height=700,width=1000');\n            if (window.focus)\n            {\n                newwindow.focus();\n            }\n        };\n\n\n\t    controller.updateK2aActive = function ()\n\t    {\n\t\t    k2aService.isK2AInit().then(\n\t\t\t    function success(data)\n\t\t\t    {\n\t\t\t\t    controller.k2aActive = data;\n\t\t\t    }\n\t\t    );\n\t    };\n\t    controller.loadMoreK2aFeed = function ()\n\t    {\n\t\t    controller.updateFeed(controller.k2afeed.length, 10);\n\t    };\n\n\t    controller.authenticateK2A = function (id)\n\t    {\n\t\t    window.open('../apps/oauth1.jsp?id=' + id, 'appAuth', 'width=700,height=450');\n\t    };\n\n\t    controller.agreeWithK2aPost = function (item)\n\t    {\n\t\t    if (item.agree)\n\t\t    {\n\t\t\t    k2aService.removeK2AComment(item.agreeId).then(\n\t\t\t\t    function (response)\n\t\t\t\t    {\n\t\t\t\t\t    item.agree = false;\n\t\t\t\t\t    item.agreeCount--;\n\t\t\t\t\t    item.agreeId = '';\n\t\t\t\t    },\n\t\t\t\t    function (reason)\n\t\t\t\t    {\n\t\t\t\t\t    alert(reason);\n\t\t\t\t    });\n\t\t    }\n\t\t    else if (!(item.agree || item.disagree))\n\t\t    {\n\t\t\t    if (typeof item.newComment === 'undefined')\n\t\t\t    {\n\t\t\t\t    item.newComment = {};\n\t\t\t    }\n\t\t\t    item.newComment.agree = true;\n\t\t\t    item.newComment.body = '';\n\n\t\t\t    controller.commentOnK2aPost(item);\n\t\t    }\n\t    };\n\n\t    controller.disagreeWithK2aPost = function (item)\n\t    {\n\t\t    if (item.disagree)\n\t\t    {\n\t\t\t    k2aService.removeK2AComment(item.agreeId).then(\n\t\t\t\t    function (response)\n\t\t\t\t    {\n\t\t\t\t\t    item.disagree = false;\n\t\t\t\t\t    item.disagreeCount--;\n\t\t\t\t\t    item.agreeId = '';\n\t\t\t\t    },\n\t\t\t\t    function (reason)\n\t\t\t\t    {\n\t\t\t\t\t    alert(reason);\n\t\t\t\t    });\n\t\t    }\n\t\t    if (!(item.agree || item.disagree))\n\t\t    {\n\t\t\t    if (typeof item.newComment === 'undefined')\n\t\t\t    {\n\t\t\t\t    item.newComment = {};\n\t\t\t    }\n\t\t\t    item.newComment.agree = false;\n\t\t\t    item.newComment.body = '';\n\n\t\t\t    controller.commentOnK2aPost(item);\n\t\t    }\n\t    };\n\n\t    controller.commentOnK2aPost = function (item)\n\t    {\n\t\t    item.newComment.postId = item.id;\n\t\t    k2aService.postK2AComment(item.newComment).then(\n\t\t\t    function (response)\n\t\t\t    {\n\t\t\t\t    item.newComment.body = '';\n\t\t\t\t    item.newComment.agree = '';\n\t\t\t\t    item.agreeId = response.agreeId;\n\t\t\t\t    if (!(typeof response.post[0].agree === 'undefined'))\n\t\t\t\t    {\n\t\t\t\t\t    if (response.post[0].agree)\n\t\t\t\t\t    {\n\t\t\t\t\t\t    item.agree = true;\n\t\t\t\t\t\t    item.agreeId = response.post[0].agreeId;\n\t\t\t\t\t\t    item.agreeCount++;\n\t\t\t\t\t    }\n\t\t\t\t\t    else\n\t\t\t\t\t    {\n\t\t\t\t\t\t    item.disagree = true;\n\t\t\t\t\t\t    item.agreeId = response.post[0].agreeId;\n\t\t\t\t\t\t    item.disagreeCount++;\n\t\t\t\t\t    }\n\t\t\t\t    }\n\t\t\t\t    else\n\t\t\t\t    {\n\t\t\t\t\t    item.commentCount++;\n\t\t\t\t\t    item.comments.unshift(response.post[0]);\n\t\t\t\t    }\n\t\t\t    },\n\t\t\t    function (reason)\n\t\t\t    {\n\t\t\t\t    alert(reason);\n\t\t\t    });\n\t    };\n\n        controller.updateTicklers = function updateTicklers()\n        {\n            //consider the option to have overdue only or not\n            ticklerService.search(\n                {\n                    status: 'A',\n                    creator: controller.me.providerNo,\n                    overdueOnly: 'property'\n                }, 0, 6).then(\n                function success(results)\n                {\n                    controller.totalTicklers = results.total;\n                    if (results.content == null)\n                    {\n                        return;\n                    }\n\n                    if (results.content instanceof Array)\n                    {\n                        controller.ticklers = results.content;\n                    }\n                    else\n                    {\n                        var arr = new Array();\n                        arr[0] = results.content;\n                        controller.ticklers = arr;\n                    }\n                },\n                function error(errors)\n                {\n                    console.log(errors);\n                });\n        };\n\n        controller.updateMessages = function updateMessages()\n        {\n            messageService.getUnread(6).then(\n                function success(results)\n                {\n                    controller.totalMessages = results.total;\n\n                    if (results.content == null)\n                    {\n                        return;\n                    }\n\n                    if (results.content instanceof Array)\n                    {\n                        controller.messages = results.content;\n                    }\n                    else\n                    {\n                        var arr = new Array();\n                        arr[0] = results.content;\n                        controller.messages = arr;\n                    }\n                },\n                function error(errors)\n                {\n                    console.log(errors);\n                });\n\n        };\n\n        controller.updateReports = function updateReports()\n        {\n            //TODO: changed to return 5 since that is all we are using at the moment\n            inboxService.getDashboardItems(5).then(\n                function success(results)\n                {\n                    if (results.content == null)\n                    {\n                        return;\n                    }\n\n                    if (results.content instanceof Array)\n                    {\n                        controller.inbox = results.content;\n                    }\n                    else\n                    {\n                        var arr = new Array();\n                        arr[0] = results.content;\n                        controller.inbox = arr;\n                    }\n                    controller.totalInbox = results.total;\n                },\n                function error(errors)\n                {\n                    console.log(errors);\n                });\n        };\n\n        controller.updateFeed = function updateFeed(startPoint, numberOfRows)\n        {\n            if (controller.busyLoadingData) return;\n            controller.busyLoadingData = true;\n            k2aService.getK2aFeed(startPoint, numberOfRows).then(\n                function(response)\n                {\n                \tconsole.log(\"k2a feed response\", response);\n\n\t                if (response.content instanceof Array)\n\t                {\n\t                \tvar content = response.content;\n\t\t                for (var i = 0; i < content.length; i++)\n\t\t                {\n\t\t\t                if (!Array.isArray(content[i].comments))\n\t\t\t                {\n\t\t\t\t                var arr = new Array();\n\t\t\t\t                arr[0] = content[i].comments;\n\t\t\t\t                content[i].comments = arr;\n\t\t\t                }\n\t\t                }\n\t\t                if (typeof controller.k2afeed === 'undefined')\n\t\t                {\n\t\t\t                controller.k2afeed = content;\n\t\t                }\n\t\t                else\n\t\t                {\n\t\t\t                controller.k2afeed = controller.k2afeed.concat(content);\n\t\t                }\n\t\t                controller.k2aFeedActive = true;\n\t\t                controller.busyLoadingData = false;\n\t                }\n\t                else\n\t                {\n\t\t                if (response.content.authenticatek2a)\n\t\t                {\n\t\t\t                controller.authenticatek2a = response.content.description;\n\t\t                }\n\t\t                else\n\t\t                {\n\t\t\t                var arr = new Array();\n\t\t\t                arr[0] = response.content;\n\t\t\t                controller.k2afeed = arr;\n\t\t\t                controller.k2aFeedActive = true;\n\t\t                }\n\t                }\n\n                },\n                function(reason)\n                {\n                    alert(reason);\n                    controller.busyLoadingData = false;\n                });\n        };\n\n        controller.updateDashboard = function updateDashboard()\n        {\n            controller.updateTicklers();\n            controller.updateMessages();\n            controller.updateReports();\n            controller.updateFeed(0, 10);\n            controller.updateK2aActive();\n\n        };\n\n        $scope.$watch(function()\n        {\n            return securityService.getUser();\n        }, function(newVal)\n        {\n            controller.me = newVal;\n\n            if (newVal != null)\n            {\n                controller.updateDashboard();\n            }\n        }, true);\n\n\n        controller.isTicklerExpiredOrHighPriority = function isTicklerExpiredOrHighPriority(tickler)\n        {\n            var ticklerDate = Date.parse(tickler.serviceDate);\n            var now = new Date();\n            var result = false;\n            if (ticklerDate < now)\n            {\n                result = true;\n            }\n            if (tickler.priority == 'High')\n            {\n                result = true;\n            }\n\n            return result;\n        };\n\n        controller.isTicklerHighPriority = function isTicklerHighPriority(tickler)\n        {\n            var ticklerDate = Date.parse(tickler.serviceDate);\n            var now = new Date();\n            var result = false;\n\n            if (tickler.priority == 'High')\n            {\n                result = true;\n            }\n\n            return result;\n        };\n\n        controller.openClassicMessenger = function openClassicMessenger()\n        {\n            if (controller.me != null)\n            {\n                window.open('../oscarMessenger/DisplayMessages.do?providerNo=' + controller.me.providerNo, 'msgs', 'height=700,width=1024,scrollbars=1');\n            }\n        };\n\n        controller.viewMessage = function viewMessage(message)\n        {\n            window.open('../oscarMessenger/ViewMessage.do?messageID=' + message.id + '&boxType=0', 'msg' + message.id, 'height=700,width=1024,scrollbars=1');\n        };\n\n        controller.viewTickler = function viewTickler(tickler)\n        {\n            var modalInstance = $uibModal.open(\n                {\n                    templateUrl: 'src/tickler/ticklerView.jsp',\n                    controller: 'Tickler.TicklerViewController as  ticklerViewCtrl',\n                    backdrop: 'static',\n                    size: 'lg',\n                    resolve:\n                        {\n                            tickler: function()\n                            {\n                                return tickler;\n                            },\n                            ticklerNote: function()\n                            {\n                                return noteService.getTicklerNote(tickler.id);\n                            },\n                            ticklerWriteAccess: function()\n                            {\n                                return controller.ticklerWriteAccess;\n                            },\n                            me: function()\n                            {\n                                return controller.me;\n                            }\n                        }\n                });\n\n            modalInstance.result.then(\n                function success(results)\n                {\n                    //console.log('data from modalInstance '+data);\n                    if (results != null && results == true)\n                    {\n                        controller.updateTicklers();\n                    }\n                },\n                function error(errors)\n                {\n                    console.log(errors);\n                });\n\n        };\n\n        controller.configureTicklers = function configureTicklers()\n        {\n            var modalInstance = $uibModal.open(\n                {\n                    templateUrl: 'src/tickler/configureDashboard.jsp',\n                    controller: 'Dashboard.TicklerConfigureController as ticklerConfigureCtrl',\n                    backdrop: 'static',\n                    size: 'md',\n                    resolve:\n                        {\n                            prefs: function()\n                            {\n                                return personaService.getDashboardPreferences();\n                            }\n                        }\n                });\n\n            modalInstance.result.then(\n                function success(results)\n                {\n                    if (results == true)\n                    {\n                        controller.updateTicklers();\n                        personaService.getDashboardPreferences().then(\n                            function(results)\n                            {\n                                controller.prefs = results.dashboardPreferences;\n                            });\n                    }\n                },\n                function error(errors)\n                {\n                    console.log(errors);\n                });\n\n        };\n    }\n]);","'use strict';\n\nangular.module('Dashboard', ['Common', 'Common.Services']);","'use strict';\n\n/*\n\n    Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n    This software is published under the GPL GNU General Public License.\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n    This software was written for the\n    Department of Family Medicine\n    McMaster University\n    Hamilton\n    Ontario, Canada\n\n*/\n\nangular.module('Patient').controller('Patient.NewPatientController', [\n\n\t'$scope',\n\t'$uibModal',\n\t'$uibModalInstance',\n\t'demographicService',\n\t'securityService',\n\t'programService',\n\t'staticDataService',\n\n\tfunction(\n\t\t$scope,\n\t\t$uibModal,\n\t\t$uibModalInstance,\n\t\tdemographicService,\n\t\tsecurityService,\n\t\tprogramService,\n\t\tstaticDataService)\n\t{\n\t\tvar controller = this;\n\n\t\tcontroller.demographic = {};\n\n\t\tcontroller.submitDisabled = false;\n\n\t\t//get access right for creating new patient\n\t\tsecurityService.hasRight(\"_demographic\", \"w\").then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.hasRight = results;\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\t//get programs to be selected\n\t\tprogramService.getPrograms().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tcontroller.programs = results;\n\t\t\t\tif (controller.programs.length == 1)\n\t\t\t\t{\n\t\t\t\t\tcontroller.demographic.admissionProgramId = controller.programs[0].id;\n\t\t\t\t}\n\t\t\t},\n\t\t\tfunction error(errors)\n\t\t\t{\n\t\t\t\tconsole.log(errors);\n\t\t\t});\n\n\t\t//get genders to be selected\n\t\tcontroller.genders = staticDataService.getGenders();\n\n\t\tcontroller.save = function save(ngModelContoller)\n\t\t{\n\t\t\tconsole.log(controller.demographic.lastName);\n\t\t\tconsole.log(controller.demographic.firstName);\n\t\t\tconsole.log(controller.demographic.dobYear);\n\t\t\tconsole.log(controller.demographic.dobMonth);\n\t\t\tconsole.log(controller.demographic.dobDay);\n\t\t\tconsole.log(controller.demographic.sex);\n\t\t\tconsole.log(controller.demographic);\n\t\t\tconsole.log(ngModelContoller.$valid);\n\t\t\tconsole.log($scope);\n\n\t\t\tcontroller.submitDisabled = true;\n\n\t\t\tif (ngModelContoller.$valid)\n\t\t\t{\n\t\t\t\tconsole.log(\"Saving...\");\n\n\t\t\t\tif (!controller.isCorrectDate(controller.demographic.dobYear,\n\t\t\t\t\t\tcontroller.demographic.dobMonth, controller.demographic.dobDay))\n\t\t\t\t{\n\t\t\t\t\talert(\"Incorrect Date of Birth!\");\n\t\t\t\t\tcontroller.submitDisabled = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcontroller.demographic.dateOfBirth =\n\t\t\t\t\tcontroller.demographic.dobYear + '-' +\n\t\t\t\t\tcontroller.demographic.dobMonth + \"-\" +\n\t\t\t\t\tcontroller.demographic.dobDay;\n\n\t\t\t\tcontroller.demographic.patientStatusDate = new Date();\n\t\t\t\tcontroller.demographic.dateJoined = new Date();\n\t\t\t\tcontroller.demoRetVal = {};\n\n\t\t\t\tdemographicService.saveDemographic(controller.demographic).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(results);\n\t\t\t\t\t\tcontroller.demoRetVal = results;\n\t\t\t\t\t\t$uibModalInstance.close(results);\n\t\t\t\t\t},\n\t\t\t\t\tfunction error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t\tcontroller.submitDisabled = false;\n\t\t\t\t\t});\n\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconsole.log(\"ERR!!\");\n\t\t\t\tcontroller.submitDisabled = false;\n\t\t\t}\n\t\t};\n\n\t\tcontroller.ok = function ok()\n\t\t{\n\t\t\t$uibModalInstance.close(controller.selected.item);\n\t\t};\n\n\t\tcontroller.cancel = function cancel()\n\t\t{\n\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t};\n\n\t\tcontroller.capName = function capName()\n\t\t{\n\t\t\tif (controller.demographic.lastName != null)\n\t\t\t{\n\t\t\t\tcontroller.demographic.lastName = controller.demographic.lastName.toUpperCase();\n\t\t\t}\n\n\t\t\tif (controller.demographic.firstName != null)\n\t\t\t{\n\t\t\t\tcontroller.demographic.firstName = controller.demographic.firstName.toUpperCase();\n\t\t\t}\n\t\t};\n\n\t\tcontroller.isCorrectDate = function isCorrectDate(year, month, day)\n\t\t{\n\t\t\tvar d = new Date(year, month - 1, day);\n\n\t\t\tif (d == \"Invalid Date\") return false;\n\t\t\tif (d.getFullYear() != year) return false;\n\t\t\tif (d.getMonth() != month - 1) return false;\n\t\t\tif (d.getDate() != day) return false;\n\n\t\t\treturn true;\n\t\t};\n\t}\n]);","'use strict';\n\nangular.module('Patient', ['Common', 'Common.Services']);","'use strict';\n\n/*\n\n    Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n    This software is published under the GPL GNU General Public License.\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n    This software was written for the\n    Department of Family Medicine\n    McMaster University\n    Hamilton\n    Ontario, Canada\n\n*/\n\nangular.module('Layout').controller('Layout.NavBarController', [\n\n\t'$rootScope',\n\t'$scope',\n\t'$q',\n\t'$timeout',\n\t'$location',\n\t'$state',\n\t'$uibModal',\n\t'securityService',\n\t'personaService',\n\t'billingService',\n\t'inboxService',\n\t'messageService',\n\n\tfunction(\n\t\t$rootScope,\n\t\t$scope,\n\t\t$q,\n\t\t$timeout,\n\t\t$location,\n\t\t$state,\n\t\t$uibModal,\n\t\tsecurityService,\n\t\tpersonaService,\n\t\tbillingService,\n\t\tinboxService,\n\t\tmessageService)\n\t{\n\t\tvar controller = this;\n\n\t\t//=========================================================================\n\t\t// Initialization\n\t\t//=========================================================================\n\n\t\tcontroller.init = function init()\n\t\t{\n\t\t\tcontroller.unAckLabDocTotal = 0;\n\t\t\tcontroller.unreadMessageTotal = 0;\n\t\t\tcontroller.demographicSearch = null;\n\n\t\t\tbillingService.getBillingRegion().then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.billRegion = results.message;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\t\t\tsecurityService.hasRights(\n\t\t\t{\n\t\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\tobjectName: '_search',\n\t\t\t\t\tprivilege: 'r'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tobjectName: '_demographic',\n\t\t\t\t\tprivilege: 'w'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tobjectName: '_msg',\n\t\t\t\t\tprivilege: 'r'\n\t\t\t\t}]\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif (results.content !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.searchRights = results.content[0];\n\t\t\t\t\t\tcontroller.newDemographicRights = results.content[1];\n\t\t\t\t\t\tcontroller.messageRights = results.content[2];\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\t\t\tpersonaService.getDashboardMenu().then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif (results.menus)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.dashboardMenu = results.menus.menu;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\t\t\tpersonaService.getNavBar().then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.currentProgram = results.currentProgram.program;\n\n\t\t\t\t\tif (results.programDomain.program instanceof Array)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.programDomain = results.programDomain.program;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.programDomain = [results.programDomain.program];\n\t\t\t\t\t}\n\n\t\t\t\t\tcontroller.unreadMessagesCount = results.unreadMessagesCount;\n\t\t\t\t\tcontroller.unreadPatientMessagesCount = results.unreadPatientMessagesCount;\n\t\t\t\t\tcontroller.getUnAckLabDocCount();\n\t\t\t\t\tcontroller.getUnreadMessageCount();\n\t\t\t\t\tcontroller.demographicSearchDropDownItems = results.menus.patientSearchMenu.items;\n\t\t\t\t\tcontroller.menuItems = results.menus.menu.items;\n\t\t\t\t\tcontroller.userMenuItems = results.menus.userMenu.items;\n\t\t\t\t\tcontroller.messengerMenu = results.menus.messengerMenu.items;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\t\t};\n\n\t\t//=========================================================================\n\t\t// Watches\n\t\t//=========================================================================\n\n\t\t$scope.$watch(\n\t\t\tfunction()\n\t\t\t{\n\t\t\t\treturn securityService.getUser();\n\t\t\t},\n\t\t\tfunction(newVal)\n\t\t\t{\n\t\t\t\tcontroller.me = newVal;\n\t\t\t},\n\t\t\ttrue);\n\n\t\t$scope.$watch(function()\n\t\t\t{\n\t\t\t\treturn controller.demographicSearch;\n\t\t\t},\n\t\t\tfunction(new_value)\n\t\t\t{\n\t\t\t\tconsole.log('NavBarController::watch demographicSearch', controller.demographicSearch);\n\n\t\t\t\tif (new_value != null && !new_value.isTypeaheadSearchQuery)\n\t\t\t\t{\n\t\t\t\t\t// selection from the patient search typeahead changed\n\t\t\t\t\tif (new_value.moreResults)\n\t\t\t\t\t{\n\t\t\t\t\t\t// the 'more results' option was selected\n\t\t\t\t\t\tcontroller.goToPatientSearch(new_value.searchQuery);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t// patient was selected\n\t\t\t\t\t\tcontroller.goToPatientRecord(new_value.demographicNo);\n\t\t\t\t\t}\n\n\t\t\t\t\t// clear the selection\n\t\t\t\t\tcontroller.demographicSearch = null;\n\t\t\t\t}\n\t\t\t}, true);\n\n\t\t//=========================================================================\n\t\t// Methods\n\t\t//=========================================================================\n\n\t\tcontroller.getUnAckLabDocCount = function getUnAckLabDocCount()\n\t\t{\n\t\t\tinboxService.getUnAckLabDocCount().then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.unAckLabDocTotal = results;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\tcontroller.getUnreadMessageCount = function getUnreadMessageCount()\n\t\t{\n\t\t\tmessageService.getUnreadCount().then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.unreadMessageTotal = results;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\t\t};\n\n\t\tcontroller.getNavBar = function getNavBar()\n\t\t{\n\t\t\tpersonaService.getNavBar().then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.currentProgram = results.currentProgram.program;\n\t\t\t\t\tif (results.programDomain.program instanceof Array)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.programDomain = results.programDomain.program;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tcontroller.programDomain = [results.programDomain.program];\n\t\t\t\t\t}\n\n\t\t\t\t\tcontroller.unreadMessagesCount = results.unreadMessagesCount;\n\t\t\t\t\tcontroller.unreadPatientMessagesCount = results.unreadPatientMessagesCount;\n\t\t\t\t\tcontroller.demographicSearchDropDownItems = results.menus.patientSearchMenu.items;\n\t\t\t\t\tcontroller.menuItems = results.menus.menu.items;\n\t\t\t\t\tcontroller.userMenuItems = results.menus.userMenu.items;\n\t\t\t\t\tcontroller.messengerMenu = results.menus.messengerMenu.items;\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\t// when patient typeahead search button is clicked\n\t\tcontroller.onPatientSearch = function onPatientSearch(search)\n\t\t{\n\t\t\tif (search === null)\n\t\t\t{\n\t\t\t\tcontroller.goToPatientSearch();\n\n\t\t\t}\n\t\t\telse if (search.isTypeaheadSearchQuery) // should only happen when search isTypeaheadSearchQuery\n\t\t\t{\n\t\t\t\tcontroller.goToPatientSearch(search.searchQuery);\n\t\t\t}\n\n\t\t\t// clear the selection\n\t\t\tcontroller.demographicSearch = null;\n\t\t};\n\n\t\tcontroller.goToPatientSearch = function goToPatientSearch(search)\n\t\t{\n\t\t\t$state.go('search',\n\t\t\t{\n\t\t\t\tterm: search\n\t\t\t},\n\t\t\t{\n\t\t\t\treload: 'search'\n\t\t\t});\n\t\t};\n\n\t\tcontroller.goToPatientRecord = function goToPatientRecord(demographicNo)\n\t\t{\n\t\t\t$state.go('record.details',\n\t\t\t{\n\t\t\t\tdemographicNo: demographicNo,\n\t\t\t\thideNote: true\n\t\t\t},\n\t\t\t{\n\t\t\t\treload: 'record.details'\n\t\t\t});\n\t\t};\n\n\t\t//to help ng-clicks on buttons\n\t\tcontroller.transition = function transition(item)\n\t\t{\n\t\t\tconsole.log('transition', item);\n\n\t\t\tvar newWindow;\n\n\t\t\tif (angular.isDefined(item) &&\n\t\t\t\tangular.isDefined(item.state) &&\n\t\t\t\titem.state !== null)\n\t\t\t{\n\n\t\t\t\tvar url = \"\";\n\t\t\t\tvar wname = \"\";\n\n\t\t\t\tif (item.label === \"Inbox\")\n\t\t\t\t{\n\t\t\t\t\turl = \"../dms/inboxManage.do?method=prepareForIndexPage\";\n\t\t\t\t\twname = \"inbox\";\n\t\t\t\t}\n\t\t\t\telse if (item.label === \"Billing\")\n\t\t\t\t{\n\t\t\t\t\turl = \"../billing.do?billRegion=CLINICAID&action=invoice_reports\";\n\t\t\t\t\twname = \"billing\";\n\t\t\t\t}\n\t\t\t\telse if (item.label === \"Admin\")\n\t\t\t\t{\n\t\t\t\t\turl = \"../administration/\";\n\t\t\t\t\twname = \"admin\";\n\t\t\t\t}\n\t\t\t\telse if (item.label === \"eDocs\")\n\t\t\t\t{\n\t\t\t\t\turl = \"../dms/documentReport.jsp?function=provider&functionid=\" +\n\t\t\t\t\t\tencodeURIComponent(controller.me.providerNo);\n\t\t\t\t\twname = \"edocView\";\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$timeout(function()\n\t\t\t\t\t{\n\t\t\t\t\t\t$state.go(item.state);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (url !== \"\" && wname !== \"\")\n\t\t\t\t{\n\t\t\t\t\tnewWindow = window.open(\n\t\t\t\t\t\turl, wname, 'scrollbars=1,height=700,width=1000');\n\t\t\t\t\tif (window.focus)\n\t\t\t\t\t{\n\t\t\t\t\t\tnewWindow.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (angular.isDefined(item) &&\n\t\t\t\tangular.isDefined(item.url) &&\n\t\t\t\titem.url !== null)\n\t\t\t{\n\n\t\t\t\tif (item.label === \"Schedule\")\n\t\t\t\t{\n\t\t\t\t\tvar qs = \"\";\n\t\t\t\t\tvar path = $location.path();\n\t\t\t\t\tpath = path.substring(1); //remove leading /\n\t\t\t\t\tvar param = path.split(\"/\");\n\n\t\t\t\t\tif (param.length === 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tqs = \"?module=\" + encodeURIComponent(param[0]);\n\t\t\t\t\t}\n\t\t\t\t\telse if (param.length === 3)\n\t\t\t\t\t{\n\t\t\t\t\t\tqs = \"?record=\" + encodeURIComponent(param[1]) +\n\t\t\t\t\t\t\t\"&module=\" + encodeURIComponent(param[2]);\n\t\t\t\t\t}\n\n\t\t\t\t\twindow.location = item.url + qs;\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\t\t\t\telse if (angular.isDefined(item) &&\n\t\t\t\t\tangular.isDefined(item.openNewWindow) &&\n\t\t\t\t\titem.openNewWindow)\n\t\t\t\t{\n\t\t\t\t\tnewWindow = window.open(item.url);\n\t\t\t\t\tif (window.focus)\n\t\t\t\t\t{\n\t\t\t\t\t\tnewWindow.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\twindow.location = item.url;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tcontroller.openMessenger = function(item)\n\t\t{\n\t\t\tif (controller.me != null)\n\t\t\t{\n\t\t\t\tif (angular.isDefined(item) &&\n\t\t\t\t\tangular.isDefined(item.url) &&\n\t\t\t\t\titem.url === 'phr')\n\t\t\t\t{\n\t\t\t\t\twindow.open('../phr/PhrMessage.do?method=viewMessages',\n\t\t\t\t\t\t'INDIVOMESSENGER' + encodeURIComponent(controller.me.providerNo),\n\t\t\t\t\t\t'height=700,width=1024,scrollbars=1');\n\t\t\t\t}\n\t\t\t\telse if (angular.isDefined(item) &&\n\t\t\t\t\tangular.isDefined(item.url) &&\n\t\t\t\t\titem.url === 'k2a')\n\t\t\t\t{\n\t\t\t\t\tvar win;\n\t\t\t\t\tif (item.extra === \"-\")\n\t\t\t\t\t{\n\t\t\t\t\t\t//If user is not logged in\n\t\t\t\t\t\twin = window.open('../apps/oauth1.jsp?id=K2A',\n\t\t\t\t\t\t\t'appAuth', 'width=700,height=450,scrollbars=1');\n\t\t\t\t\t\twin.focus();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\twin = window.open('../apps/notifications.jsp',\n\t\t\t\t\t\t\t'appAuth', 'width=450,height=700,scrollbars=1');\n\t\t\t\t\t\twin.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// by default open classic messenger\n\t\t\t\t\twindow.open('../oscarMessenger/DisplayMessages.do?providerNo=' +\n\t\t\t\t\t\tencodeURIComponent(controller.me.providerNo),\n\t\t\t\t\t\t'msgs', 'height=700,width=1024,scrollbars=1');\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tcontroller.newDemographic = function newDemographic(size)\n\t\t{\n\t\t\tvar modalInstance = $uibModal.open(\n\t\t\t{\n\t\t\t\ttemplateUrl: 'src/patient/newPatient.jsp',\n\t\t\t\tcontroller: 'Patient.NewPatientController as newPatientCtrl',\n\t\t\t\tbackdrop: 'static',\n\t\t\t\tsize: size\n\t\t\t});\n\n\t\t\tmodalInstance.result.then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(results);\n\t\t\t\t\tconsole.log('patient #: ', results.demographicNo);\n\t\t\t\t\tconsole.log($location.path());\n\n\t\t\t\t\t$location.path('/record/' +\n\t\t\t\t\t\tencodeURIComponent(results.demographicNo) +\n\t\t\t\t\t\t'/details');\n\n\t\t\t\t\tconsole.log($location.path());\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\n\t\t\tconsole.log($('#myModal'));\n\t\t};\n\n\t\tcontroller.isActive = function(tab)\n\t\t{\n\t\t\treturn ($state.current.name === tab.state);\n\t\t};\n\n\t\tcontroller.changeProgram = function changeProgram(programId)\n\t\t{\n\t\t\tpersonaService.setCurrentProgram(programId).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tcontroller.getNavBar();\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\t// For some reason Angular does not allow for the evaluation of the inverse of custom filters, thus, we have the the following masterpiece\n\t\t// If inverse === false, return true if the given item is supposed to be shown outside the 'more' dropdown on the medium view\n\t\t// If inverse === true, return the inverse of the above statement,\n\t\tcontroller.mediumNavItemFilter = function mediumNavItemFilter(inverse)\n\t\t{\n\t\t\treturn function(item)\n\t\t\t{\n\n\t\t\t\tvar labelsToShow = ['Dashboard', 'Schedule', 'Inbox', 'Consultations', 'Ticklers'];\n\t\t\t\tvar filterValue = $.inArray(item.label, labelsToShow) != -1;\n\n\t\t\t\tif (inverse === true)\n\t\t\t\t{\n\t\t\t\t\treturn !filterValue;\n\t\t\t\t}\n\n\t\t\t\treturn filterValue;\n\t\t\t};\n\t\t};\n\t\tcontroller.smallNavItemFilter = function mediumNavItemFilter(inverse)\n\t\t{\n\t\t\treturn function(item)\n\t\t\t{\n\t\t\t\tvar labelsToShow = ['Dashboard'];\n\t\t\t\tvar filterValue = $.inArray(item.label, labelsToShow) != -1;\n\n\t\t\t\tif (inverse === true)\n\t\t\t\t{\n\t\t\t\t\treturn !filterValue;\n\t\t\t\t}\n\n\t\t\t\treturn filterValue;\n\t\t\t};\n\t\t};\n\t}\n]);","angular.module('Layout').controller('Layout.BodyController', [\n\t'$rootScope',\n\t'$scope',\n\t'providerService',\n\t'securityService',\n\tfunction($rootScope, $scope, providerService, securityService)\n\t{\n\t\tvar controller = this;\n\n\t\t//=========================================================================\n\t\t// Initialization\n\t\t//=========================================================================\n\n\t\tcontroller.init = function init()\n\t\t{\n\t\t\tproviderService.getMe().then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tsecurityService.setUser(results);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(errors);\n\t\t\t\t});\n\t\t};\n\n\t\t// flag for whether the patient list should be showing or not\n\t\t// can be set from controllers with $emit: $scope.$emit('configureShowPatientList', false);\n\t\tcontroller.showPatientList = true;\n\n\t\t// controllers can update the showPatientList value by calling an $emit\n\t\t// e.g. $scope.$emit('configureShowPatientList', false);\n\t\t$scope.$on('configureShowPatientList',\n\t\t\tfunction(event, value)\n\t\t\t{\n\t\t\t\tconsole.log(\"Layout.BodyController updating showPatientList\", value);\n\t\t\t\tcontroller.showPatientList = value;\n\t\t\t});\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Layout', ['Common', 'Common.Services']);","angular.module('Common').directive(\n\t'caZeroPad', \n\n\t[\n\t\t'$filter',\n\n\tfunction(\n\t\t$filter\n\t)\n{\n    return {\n\t\trestrict: 'A',\n\t\trequire: 'ngModel',\n\t\tlink: function (scope, element, attrs, ctrl) {\n\n\t\t\tctrl.$formatters.unshift(function (data) {\n\t\t\t\tvar pad_length = attrs.caZeroPad;\n\t\t\t\tif(!pad_length)\n\t\t\t\t{\n\t\t\t\t\tpad_length = 0;\n\t\t\t\t}\n\t\t\t\treturn $filter('numberFixedLength')(data, pad_length);\n\t\t\t});\n\n\t\t\tctrl.$parsers.unshift(function (data) {\n\t\t\t\tvar pad_length = attrs.caZeroPad;\n\t\t\t\tif(!pad_length)\n\t\t\t\t{\n\t\t\t\t\tpad_length = 0;\n\t\t\t\t}\n\t\t\t\treturn $filter('numberFixedLength')(data, pad_length);\n\t\t\t});            \n\t\t},\n\t};\n}]);\n","angular.module('Common').directive('scroll',\n\t[\n\t\t'$window',\n\t\tfunction($window)\n\t\t{\n\t\t\t// this directive broadcasts scroll::scroll on window scroll\n\t\t\t// use the scroll-handler directive to listen for and handle the event\n\n\t\t\treturn {\n\t\t\t\tlink: function(scope) {\n\t\t\t\t\tangular.element($window).on('scroll', function(e)\n\t\t\t\t\t{\n\t\t\t\t\t\t// use name of directive + event to avoid collisions\n\t\t\t\t\t\tscope.$broadcast('scroll::scroll');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t]\n);\n","angular.module('Common').directive(\n\t'scrollHandler', [\n\t'$parse',\n\tfunction($parse)\n\t{\n\t\t// the scroll directive broadcasts scroll::scroll on window scroll\n\t\t// use this directive to listen and handle the scroll event\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tlink: function (scope, element, attrs) {\n\t\t\t\tscope.$on('scroll::scroll', function () {\n\t\t\t\t\t$parse(attrs.scrollHandler)(scope);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}]\n);\n\n","angular.module('Common').directive('resize',\n\t[\n\t\t'$window',\n\t\tfunction($window)\n\t\t{\n\t\t\t// this directive broadcasts resize::resize on window resize\n\t\t\t// use the resize-handler directive to listen for and handle the event\n\n\t\t\treturn {\n\t\t\t\tlink: function(scope) {\n\t\t\t\t\tangular.element($window).on('resize', function(e)\n\t\t\t\t\t{\n\t\t\t\t\t\t// use name of directive + event to avoid collisions\n\t\t\t\t\t\tscope.$broadcast('resize::resize');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t]\n);\n","angular.module('Common').directive(\n\t'resizeHandler',[\n\t'$parse',\n\tfunction($parse)\n\t{\n\t\t// the resize directive broadcasts resize::resize on window resize\n\t\t// use this directive to listen and handle the resize event\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tlink: function (scope, element, attrs) {\n\t\t\t\tscope.$on('resize::resize', function () {\n\t\t\t\t\t$parse(attrs.resizeHandler)(scope);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}]\n);\n\n","angular.module('Common').directive('fileModel', ['$parse', function ($parse) {\n    return {\n        restrict: 'A',\n        link: function(scope, element, attrs) {\n            var model = $parse(attrs.fileModel);\n            var modelSetter = model.assign;\n            \n            element.bind('change', function(){\n                scope.$apply(function(){\n                    modelSetter(scope, element[0].files[0]);\n                });\n            });\n        }\n    };\n}]);\n","angular.module('Common').directive(\n\t'compileHtml',\n\t[ '$compile',\n\tfunction($compile)\n\t{\n\t\t// this directive is like ng-bind-html but it will angular-compile the content\n\t\treturn function(scope, element, attrs)\n\t\t{\n\t\t\tscope.$watch(\n\t\t\t\tfunction(scope)\n\t\t\t\t{\n\t\t\t\t\treturn scope.$eval(attrs.compileHtml);\n\t\t\t\t},\n\t\t\t\tfunction(value)\n\t\t\t\t{\n\t\t\t\t\telement.jsp(value);\n\t\t\t\t\t$compile(element.contents())(scope);\n\t\t\t\t}\n\t\t\t)\n\t\t};\n\t}\n]);\n","angular.module('Common').directive(\n\t'zeroPad', \n\n\t[\n\t\t'$filter',\n\n\tfunction(\n\t\t$filter\n\t)\n{\n    return {\n\t\trestrict: 'A',\n\t\tlink: function (scope, element, attrs, ctrl) {\n\t\t\tctrl.$formatters.unshift(function (data) {\n\t\t\t\treturn $filter('numberFixedLength')(data, 4);\n\t\t\t});\n\n\t\t\tctrl.$parsers.unshift(function (data) {\n\t\t\t\treturn $filter('numberFixedLength')(data, 4);\n\t\t\t});            \n\t\t},\n\t};\n}]);\n","angular.module('Common').directive(\n\t'caStickySearchResultsFooter',\n\n\t[ '$document', '$timeout',\n\n\tfunction($document, $timeout)\n{\n\tvar scope = {\n\t\teventName: '@caEventName'\n\t};\n\n\tvar link_function = function link_function($scope, element, attribute, controller)\n\t{\n\t\tvar searchResultsRecordsElement =\n\t\t\tangular.element(element[0].querySelector('.search-results-records'));\n\n\t\tvar scrollbarWrapperElement = angular.element(element[0].querySelector('.search-results-scrollbar'));\n\t\tvar scrollbarElement = angular.element(scrollbarWrapperElement[0].querySelector('.scrollbar'));\n\n\t\tvar tableWrapperElement = angular.element(element[0].querySelector('.stickied-table-wrapper'));\n\t\tvar tableElement = angular.element(tableWrapperElement[0].querySelector('table'));\n\n\t\tvar footerElement = angular.element(element[0].querySelector('.search-results-footer'));\n\t\tvar searchResultsElement = angular.element(element[0].querySelector('.search-results-records'));\n\n\t\tvar contentWrapperElement = angular.element($document.find('#center-panel-wrapper'));\n\t\tvar layoutSidebarElement = angular.element($document.find('#layout-sidebar'));\n\n\t\t// connect the dummy scrollbar in the footer with the table scrollbar\n\t\tscrollbarWrapperElement.scroll(function()\n\t\t{\n\t\t\ttableWrapperElement.scrollLeft(scrollbarWrapperElement.scrollLeft());\n\t\t});\n\t\ttableWrapperElement.scroll(function()\n\t\t{\n\t\t\tscrollbarWrapperElement.scrollLeft(tableWrapperElement.scrollLeft());\n\t\t});\n\n\t\t// resize and position the footer when the specified event is fired\n\t\t$scope.$on($scope.eventName, function()\n\t\t{\n\t\t\t$timeout($scope.update_search_results_footer);\n\t\t});\n\n\t\t$scope.update_search_results_footer = function update_search_results_footer()\n\t\t{\n\t\t\t// for a fixed footer, main content must be longer than the sidebar,\n\t\t\t// and the search results must extend beyond the bottom of the screen\n\t\t\tvar fixedFooter = (contentWrapperElement.height() >= layoutSidebarElement.height()) &&\n\t\t\t\tsearchResultsElement.offset().top + searchResultsElement.height() > $(window).height();\n\n\t\t\tif(fixedFooter)\n\t\t\t{\n\t\t\t\t// fixed footer at bottom of screen, with scrollbar\n\t\t\t\tfooterElement.addClass('fixed').removeClass('static');\n\n\t\t\t\tfooterElement.css('width', searchResultsRecordsElement.width());\n\n\t\t\t\tscrollbarWrapperElement.width(tableWrapperElement.width());\n\t\t\t\tscrollbarElement.width(tableElement.width());\n\n\t\t\t\tif(scrollbarWrapperElement.width() < scrollbarElement.width())\n\t\t\t\t{\n\t\t\t\t\ttableWrapperElement.css('padding-bottom', footerElement.height() - 15);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttableWrapperElement.css('padding-bottom', footerElement.height());\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// static footer below search results\n\t\t\t\tfooterElement.addClass('static').removeClass('fixed');\n\t\t\t\tfooterElement.css('width', 'initial');\n\t\t\t\ttableWrapperElement.css('padding-bottom', 0);\n\t\t\t}\n\t\t};\n\t};\n\n\treturn {\n\t\trestrict: 'A',\n\t\tscope: scope,\n\t\tlink: link_function\n\t};\n\n}]);\n\n","angular.module('Common').directive('caQuill',\n\t[\n\n\t\t\t'$timeout',\n\n\tfunction($timeout)\n{\n\t\tvar link_function = function link_function(scope, element, attrs, ngModel)\n\t\t{\n\n\t\t\tvar updateModel = function updateModel(value) {\n\t\t\t\t\tscope.$apply(function () {\n\t\t\t\t\t\tngModel.$setViewValue(value);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\toptions = {\n\t\t\t\t\tmodules: {\n\t\t\t\t\t\t'toolbar': { container: '.wysiwyg-toolbar' },\n\t\t\t\t\t\t'image-tooltip': true,\n\t\t\t\t\t\t'link-tooltip': true\n\t\t\t\t\t},\n\t\t\t\t\ttheme: 'snow'\n\t\t\t\t},\n\t\t\t\textraOptions = attrs.quill ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope.$eval(attrs.quill) : {},\n\t\t\t\teditor;\n\n\t\t\tangular.extend(options, extraOptions);\n\n\t\t\t$timeout(function () {\n\n\t\t\t\teditor = new Quill(element.children()[1], options);\n\n\t\t\t\tngModel.$render();\n\n\t\t\t\teditor.on('text-change', function(delta, source) {\n\t\t\t\t\tupdateModel(this.getHTML());\n\t\t\t\t});\n\n\t\t\t\t/*\n\t\t\t\teditor.once('selection-change', function(hasFocus) {\n\t\t\t\t\t$(editor).toggleClass('focus', hasFocus);\n\t\t\t\t\t// Hack for inability to scroll on mobile\n\t\t\t\t\tif (/mobile/i.test(navigator.userAgent)) {\n\t\t\t\t\t\t$(editor).css('height', quill.root.scrollHeight + 30)   // 30 for padding\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t*/\n\n\t\t\t});\n\n\n\t\t\tngModel.$render = function () {\n\t\t\t\tif (angular.isDefined(editor)) {\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\teditor.setHTML(ngModel.$viewValue || '');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t};\n\treturn {\n\t\trestrict: 'A',\n\t\trequire: \"ngModel\",\n\t\treplace: true,\n\t\ttemplateUrl: 'src/common/directives/clinicaid/ca_quill.jsp',\n\t\tlink: link_function\n\t}\n}]);\n\n","angular.module('Common').directive(\n\t'caPagination',\n\n\t[ '$timeout',\n\n\tfunction($timeout)\n{\n\n\tvar scope = {\n\t\tpagination: '=caModel',\n\t\tchange_page_callback: '=caChangePage'\n\t};\n\n\tvar link_function = function link_function($scope, element, attribute, controller)\n\t{\n\t\t$scope.mode = 'pages';\n\n\t\t$scope.change_page = function change_page(page_number)\n\t\t{\n\t\t\tif(Juno.Common.Util.exists(page_number) &&\n\t\t\t\tpage_number != $scope.pagination.current_page &&\n\t\t\t\tpage_number > 0 &&\n\t\t\t\tpage_number <= $scope.pagination.total_pages)\n\t\t\t{\n\t\t\t\t$scope.change_page_callback(page_number);\n\t\t\t}\n\t\t};\n\n\t\t$scope.expand_ellipsis = function expand_ellipsis()\n\t\t{\n\t\t\t$scope.go_to_page_num = $scope.pagination.current_page;\n\t\t\t$scope.mode = 'goto';\n\t\t\t$timeout(function()\n\t\t\t{\n\t\t\t\telement.find(\"input\").focus().select();\n\t\t\t});\n\t\t};\n\n\t\t$scope.close_ellipsis = function close_ellipsis()\n\t\t{\n\t\t\t$scope.mode = 'pages';\n\t\t};\n\n\t\t$scope.go_to_page = function go_to_page()\n\t\t{\n\t\t\tif(Juno.Common.Util.isIntegerString($scope.go_to_page_num))\n\t\t\t{\n\t\t\t\tvar page_int = parseInt($scope.go_to_page_num);\n\t\t\t\tif(page_int <= 0)\n\t\t\t\t{\n\t\t\t\t\tpage_int = 1;\n\t\t\t\t}\n\t\t\t\telse if (page_int > $scope.pagination.total_pages)\n\t\t\t\t{\n\t\t\t\t\tpage_int = $scope.pagination.total_pages;\n\t\t\t\t}\n\t\t\t\t$scope.change_page(page_int);\n\n\t\t\t\t$scope.close_ellipsis();\n\t\t\t}\n\t\t}\n\t};\n\n\treturn {\n\t\trestrict: 'E',\n\t\tscope: scope,\n\t\ttemplateUrl: 'src/common/directives/clinicaid/ca_pagination.jsp',\n\t\treplace: true,\n\t\tlink: link_function\n\t};\n\n}]);\n\n","angular.module('Common').directive(\n\t\t'caKeyBindScope',[\n\n\t\t\t'$rootScope',\n\n\t\t\tfunction($rootScope)\n\t\t\t{\n\n\t\t\t\tvar scope = {\n\t\t\t\t\tidentifier: '@caIdentifier',\n\t\t\t\t\tkey_combo: '@caKeyCombo',\n\t\t\t\t\tcallback_fn: '=caCallbackFn',\n\t\t\t\t\tkey_bind_settings: '=caKeyBindSettings',\n\t\t\t\t};\n\n\t\t\t\tvar build_hierarchy = function build_hierarchy(element)\n\t\t\t\t{\n\t\t\t\t\tvar parents = element.parents(\"ca-key-bind-scope\");\n\n\t\t\t\t\tvar hierarchy = [];\n\t\t\t\t\t$.each( parents, function( index, value )\n\t\t\t\t\t{\n\t\t\t\t\t\ttry\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thierarchy.unshift(value.attributes['ca-identifier'].nodeValue);\n\t\t\t\t\t\t} catch(error)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(\"This ca-key-bind-scope element has an invalid parent: \");\n\t\t\t\t\t\t\tconsole.log(element);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn hierarchy\n\t\t\t\t};\n\n\t\t\t\tvar link_function = function link_function($scope, element, attribute, controller)\n\t\t\t\t{\n\t\t\t\t\t// identifier is required\n\t\t\t\t\tif($scope.identifier == null)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(\"The following ca_key_bind_scope element is missing the required \" +\n\t\t\t\t\t\t\t\t\"ca-identifier attribute\");\n\t\t\t\t\t\tconsole.log(element);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar hierarchy = build_hierarchy(element);\n\n\t\t\t\t\tif($scope.key_bind_settings != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (var key_combo in $scope.key_bind_settings)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$rootScope.ca_key_binding.bind_key_element(\n\t\t\t\t\t\t\t\t\t$scope, element, $scope.identifier, angular.copy(hierarchy),\n\t\t\t\t\t\t\t\t\tkey_combo,\n\t\t\t\t\t\t\t\t\t$scope.key_bind_settings[key_combo]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(\"No key bind settings set for ca-key-bind-scope directive (\" +\n\t\t\t\t\t\t\t\t$scope.identifier + \")\");\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn {\n\t\t\t\t\tscope: scope,\n\t\t\t\t\trestrict: 'EA',\n\t\t\t\t\tlink: link_function\n\t\t\t\t}\n\t\t\t}]\n);\n\n","angular.module('Common').directive(\n\t'caInfoMessages',\n\n\t[ function()\n{\n\n\tvar scope = {\n\t\tsaving: '=?caSavingFlag',\n\t\terrors: '=caErrorsObject',\n\t\tfield_value_map: '=?caFieldValueMap',\n\t\tsuccess_message: '@caSuccessMessage',\n\t\tfield_value_map_label_key: '@caFieldValueMapLabelKey',\n\t\tdisplay_field_errors: '=?caDisplayFieldErrors',\n\t\tprepend_name_to_field_errors: '=?caPrependNameToFieldErrors',\n\t\terror_link_functions: '=?caErrorLinkFunctions'\n\t};\n\n\tvar link_function = function link_function($scope, element, attribute, controller)\n\t{\n\t\tif(!Juno.Common.Util.exists($scope.display_field_errors) ||\n\t\t\t$scope.display_field_errors !== false)\n\t\t{\n\t\t\t$scope.display_field_errors = true;\n\t\t}\n\n\t\tif(!Juno.Common.Util.exists($scope.prepend_name_to_field_errors) ||\n\t\t\t$scope.prepend_name_to_field_errors !== false)\n\t\t{\n\t\t\t$scope.prepend_name_to_field_errors = true;\n\t\t}\n\n\t\t// get a field label given a key\n\t\t$scope.get_label = function get_label(key)\n\t\t{\n\t\t\tvar label = key;\n\t\t\tif(Juno.Common.Util.exists($scope.field_value_map) && $scope.field_value_map.hasOwnProperty(key))\n\t\t\t{\n\t\t\t\tif(Juno.Common.Util.exists($scope.field_value_map_label_key))\n\t\t\t\t{\n\t\t\t\t\tlabel = $scope.field_value_map[key][$scope.field_value_map_label_key];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlabel = $scope.field_value_map[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn label;\n\t\t};\n\n\t\t// Ensure the item is an array of elements\n\t\t$scope.force_array = function force_array(item)\n\t\t{\n\t\t\tif(!angular.isArray(item))\n\t\t\t{\n\t\t\t\treturn [item];\n\t\t\t}\n\t\t\treturn item;\n\t\t};\n\n\t\t$scope.has_sub_errors = function has_sub_errors(errors)\n\t\t{\n\t\t\treturn !angular.isString(errors) && angular.isObject(errors);\n\t\t};\n\n\t\t$scope.error_link_has_function = function error_link_has_function(index)\n\t\t{\n\t\t\tvar error_link = $scope.errors.error_links()[index];\n\n\t\t\t// error link must have a js function in its data\n\t\t\t// and the function is implemented in error_link_functions\n\t\t\treturn $scope.error_link_functions &&\n\t\t\t\terror_link['js_fn'] &&\n\t\t\t\tangular.isFunction($scope.error_link_functions[error_link['js_fn']]);\n\t\t};\n\n\t\t// execute the ng-click action on error links\n\t\t$scope.execute_error_link_fn = function execute_error_link_fn(index)\n\t\t{\n\t\t\tvar error_link = $scope.errors.error_links()[index];\n\n\t\t\t// shouldn't be called unless the error link function is\n\t\t\tif(!$scope.error_link_has_function(index))\n\t\t\t{\n\t\t\t\tconsole.log(\"error link does not have a function!\", error_link);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// basic implementation: always pass the 'uuid' field in as a parameter\n\t\t\t// (may require other options in the future)\n\t\t\t$scope.error_link_functions[error_link['js_fn']](error_link['uuid']);\n\t\t};\n\n\t\t$scope.should_display_field_errors = function should_display_field_errors()\n\t\t{\n\t\t\treturn Juno.Common.Util.exists($scope.errors) &&\n\t\t\t\t$scope.errors.has_field_errors() &&\n\t\t\t\t$scope.display_field_errors &&\n\t\t\t\t$scope.errors.display_field_errors;\n\t\t};\n\t};\n\n\treturn {\n\t\trestrict: 'E',\n\t\tscope: scope,\n\t\ttemplateUrl: 'src/common/directives/clinicaid/ca_info_messages.jsp',\n\t\tlink: link_function\n\t};\n\n}]);\n\n","\nangular.module('Common').directive(\n\t'caFocusField',\n\t[\n\t\tfunction()\n{\n\n\tvar link_function = function($scope, element, attr, field_controllers)\n\t{\n\t\tvar field = attr[ 'caName' ];\n\n\t\t// Forget the whole thing if there is already a controller that tells us to\n\t\tvar ignore = false;\n\t\tfor(var i = 0; i < field_controllers.length; i++)\n\t\t{\n\t\t\tif (field_controllers[ i ] &&\n\t\t\t\tfield_controllers[ i ].ignore_focus_field())\n\t\t\t{\n\t\t\t\tignore = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(angular.isDefined($scope.form_nav) && !ignore)\n\t\t{\n\t\t\tvar focus_field = attr['caFocusField'];\n\n\t\t\t// watch the focus field: when it matches, focus the element\n\t\t\t$scope.$watch(focus_field, function()\n\t\t\t{\n\t\t\t\tif(Juno.Common.Util.exists(field) && field == $scope.form_nav.focus_field)\n\t\t\t\t{\n\t\t\t\t\telement[0].focus().select();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// listen for focusCaFocusField event: when it matches, focus the element\n\t\t\t$scope.$on('focusCaFocusField', function(e, focus)\n\t\t\t{\n\t\t\t\tif(Juno.Common.Util.exists(field) && field == focus)\n\t\t\t\t{\n\t\t\t\t\telement[0].focus().select();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\treturn {\n\t\trestrict: 'A',\n\t\treplace: false,\n\t\tpriority: 100,\n\t\trequire: [\n\t\t\t'?^caFieldAlpha',\n\t\t\t'?^caFieldAlphadate',\n\t\t\t'?^caFieldAutocomplete',\n\t\t\t'?^caFieldBoolean',\n\t\t\t'?^caFieldColor',\n\t\t\t'?^caFieldCurrency',\n\t\t\t'?^caFieldDate',\n\t\t\t'?^caFieldDate3',\n\t\t\t'?^caFieldNumber',\n\t\t\t'?^caFieldSelect',\n\t\t\t'?^caFieldText',\n\t\t\t'?^caFieldTime'\n\t\t],\n\t\tlink: link_function\n\t};\n\n}]);\n\n","angular.module('Common').directive(\n\t\t'caFieldToggle',\n\n\t\t[\n\t\t\t'fieldHelperService',\n\n\t\t\tfunction(\n\t\t\t\t\thelper\n\t\t\t)\n\t\t\t{\n\n\t\t\t\tvar template_function = function template_function(element, attributes) {\n\t\t\t\t\treturn helper.resolve_template(attributes, 'src/common/directives/clinicaid/ca_field_toggle');\n\t\t\t\t};\n\n\t\t\t\tvar link_function = function link_function($scope, element, attribute, controller)\n\t\t\t\t{\n\t\t\t\t\t// run the default field link function\n\t\t\t\t\thelper.default_link_function($scope, element, attribute, controller);\n\t\t\t\t};\n\n\t\t\t\tvar scope = angular.copy(helper.default_scope);\n\t\t\t\tscope.true_text = '@caTrueText';\n\t\t\t\tscope.false_text = '@caFalseText';\n\t\t\t\tscope.true_value = '@caTrueValue';\n\t\t\t\tscope.false_value = '@caFalseValue';\n\n\t\t\t\treturn {\n\t\t\t\t\trestrict: 'EAC',\n\t\t\t\t\tscope: scope,\n\t\t\t\t\ttemplateUrl: template_function,\n\t\t\t\t\treplace: true,\n\t\t\t\t\tlink: link_function,\n\t\t\t\t\tcontroller: helper.default_controller\n\t\t\t\t};\n\n\t\t\t}]);\n","angular.module('Common').directive(\n\t'caFieldTime',\n\n\t[\n\t\t'fieldHelperService',\n\t\t'$timeout',\n\n\tfunction (\n\t\thelper,\n\t\t$timeout)\n{\n\n\tvar scope = angular.copy(helper.default_scope);\n\n\tscope.minute_step = '=caMinuteStep';\n\n\t/* These are all available for the timepicker, but are not wired up yet\n\t scope.input_size = '@caInputSize';\n\t scope.template = '@caTemplate';\n\t scope.max_hours = '@caMaxHours';\n\t scope.snap_to_step = '@caSnapToStep';\n\t scope.show_seconds = '@caShowSeconds';\n\t scope.default_time = '@caDefaultTime';\n\t scope.show_meridian = '@caShowMeridian';\n\t scope.show_inputs = '@caShowInputs';\n\t scope.disable_focus = '@caDisableFocus';\n\t scope.disable_mousewheel = '@caDisableMousewheel';\n\t scope.disable_unit_hightlight = '@disableUnitHightlight';\n\t scope.modal_backdrop = '@caModalBackdrop';\n\t scope.append_widget_to = '@caAppendWidgetTo';\n\t scope.explicit_mode = '@caExplicitMode';\n\t scope.icons = '@caIcons';\n\t*/\n\n\tvar template_function = function template_function(element, attributes) {\n\t\treturn helper.resolve_template(attributes, 'src/common/directives/clinicaid/ca_field_time');\n\t};\n\n\tvar link_function = function link_function($scope, element, attribute, controller)\n\t{\n\t\t$scope.picker_container = null;\n\t\t$scope.toggle_widget = function toggle_widget()\n\t\t{\n\t\t\t$scope.picker_container.timepicker('showWidget');\n\t\t};\n\n\t\t$timeout(function()\n\t\t{\n\t\t\t$scope.picker_container = $('#input-' + $scope.name);\n\t\t\t$scope.picker_container.timepicker(\n\t\t\t\t{\n\t\t\t\t\tdefaultTime: false,\n\t\t\t\t\tminuteStep: $scope.minute_step,\n\t\t\t\t\t//disableFocus: true,\n\t\t\t\t\t//showInputs: false,\n\t\t\t\t\ticons: {\n\t\t\t\t\t\tup: \"fa fa-chevron-up\",\n\t\t\t\t\t\tdown: \"fa fa-chevron-down\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\n\t\t// run the default field link function\n\t\thelper.default_link_function($scope, element, attribute, controller);\n\n\t};\n\n\treturn {\n\t\trestrict: 'EAC',\n\t\tscope: scope,\n\t\ttemplateUrl: template_function,\n\t\treplace: true,\n\t\tlink: link_function,\n\t\tcontroller: helper.default_controller\n\t};\n\n}]);\n\n","angular.module('Common').directive(\n\t'caFieldText',\n\n\t[\n\t\t'fieldHelperService',\n\n\tfunction(\n\t\thelper\n\t)\n{\n\tvar scope = angular.copy(helper.default_scope);\n\n\tscope.rows = '@caRows';\n\tscope.max_characters = '@caMaxCharacters';\n\n\tvar template_function = function template_function(element, attributes) {\n\t\treturn helper.resolve_template(attributes, 'src/common/directives/clinicaid/ca_field_text');\n\t};\n\n\tvar link_function = function link_function($scope, element, attribute, controller)\n\t{\n\t\tif(!$scope.model)\n\t\t{\n\t\t\t$scope.model = '';\n\t\t}\n\n\t\t$scope.$watch('model', function(new_value, old_value)\n\t\t{\n\t\t\tif(Juno.Common.Util.exists($scope.model) && $scope.model.length > $scope.max_characters)\n\t\t\t{\n\t\t\t\t$scope.error_message = \"Character limit exceeded. Max allowed: \" + $scope.max_characters;\n\t\t\t}\n\t\t});\n\n\t\thelper.default_link_function($scope, element, attribute, controller);\n\t};\n\n\treturn {\n\t\trestrict: 'EAC',\n\t\tscope: scope,\n\t\ttemplateUrl: template_function,\n\t\treplace: true,\n\t\tlink: link_function,\n\t\tcontroller: helper.default_controller\n\t};\n\n}]);\n\n","angular.module('Common').directive(\n\t'caFieldSelect',\n\n\t[\n\t\t'fieldHelperService',\n\n\tfunction(\n\t\thelper\n\t)\n{\n\tvar scope = angular.copy(helper.default_scope);\n\n\tscope.options = '=caOptions';\n\tscope.include_empty_option = '@caEmptyOption';\n\n\tvar template_function = function template_function(element, attributes) {\n\t\treturn helper.resolve_template(attributes, 'src/common/directives/clinicaid/ca_field_select');\n\t};\n\n  return {\n\t\trestrict: 'EAC',\n\t\tscope: scope,\n\t\ttemplateUrl: template_function,\n\t\treplace: true,\n\t\tlink: helper.default_link_function,\n\t\tcontroller: helper.default_controller\n\t};\n}]);\n","angular.module('Common').directive(\n\t'caFieldNumber',\n\n\t[\n\t\t'fieldHelperService',\n\n\tfunction(\n\t\thelper\n\t)\n{\n\tvar scope = angular.copy(helper.default_scope);\n\tscope.pad_length = '@caPadLength';\n\n\tvar link_function = function link_function($scope, element, attribute, controller)\n\t{\n\t\tif(!$scope.pad_length)\n\t\t{\n\t\t\t$scope.pad_length = 0;\n\t\t}\n\n\t\t// run the default field link function\n\t\thelper.default_link_function($scope, element, attribute, controller);\n\t};\n\n\treturn {\n\t\trestrict: 'EAC',\n\t\tscope: scope,\n\t\ttemplateUrl: 'src/common/directives/clinicaid/ca_field_number.jsp',\n\t\treplace: true,\n\t\tlink: link_function,\n\t\tcontroller: helper.default_controller\n\t};\n\n}]);\n"," angular.module('Common').directive(\n 'caFieldDate',\n\n [\n\t '$compile',\n\t '$timeout',\n\t 'fieldHelperService',\n\n\t function(\n\t\t $compile,\n\t\t $timeout,\n\t\t helper\n\t )\n {\n\t var scope = angular.copy(helper.default_scope);\n\n\t scope.date_picker_id = '@caDatePickerId';\n\t scope.orientation = '@caOrientation';\n\t scope.use_multi_date = '@caUseMultiDate';\n\t scope.container_id = '@caContainerId';\n\n\t var template_function = function template_function(element, attributes) {\n\t\t if(attributes['caTemplate'] == 'bare')\n\t\t {\n\t\t\t return 'src/common/directives/clinicaid/ca_field_date_bare.jsp';\n\t\t }\n\t\t return 'src/common/directives/clinicaid/ca_field_date.jsp';\n\t };\n\n\t var link_function = function link_function($scope, element, attribute, controller)\n\t {\n\t\t // Creating the datepicker changes the value of the ng-model and fires the\n\t\t // ng-change event. This disables the event until the field initialization is complete\n\t\t $scope.initialization_complete = false;\n\t\t $scope.delayed_change_fn = function()\n\t\t {\n\t\t\t if($scope.initialization_complete === true)\n\t\t\t {\n\t\t\t\t $scope.change_fn();\n\t\t\t }\n\t\t };\n\n\t\t helper.merge_title_messages($scope);\n\n\t\t $scope.datepicker = null;\n\t\t $scope.is_multi_date = false;\n\t\t $scope.CTRL_KEY = 17;\n\t\t $scope.LEFT_SHIFT_KEY = 16;\n\t\t $scope.ctrl_key_down = false;\n\t\t $scope.shift_key_down = false;\n\t\t $scope.is_visible = false;\n\n\t\t // Default container for datepicker is \"body\", but can be overridden\n\t\t $scope.container = $(\"body\");\n\t\t if(!$scope.container_id)\n\t\t {\n\t\t\t $scope.container = $(\"#\" + $scope.container_id);\n\t\t }\n\n\t\t var buttons_html_with_picker = \"<tfoot><tr>\" +\n\t\t\t\t \"<th style='display: table-cell;' ng-class=\\\"{active: is_multi_date}\\\" ng-click='toggle_multi()' colspan='2' class='multi'>Multi</th>\" +\n\t\t\t\t //\"<th style='display: table-cell;' colspan='3' class='today'>Today</th>\" +\n\t\t\t\t \"<th style='display: table-cell;' ng-click='close_date_picker()' colspan='3' class='multi'>Close</th>\" +\n\t\t\t\t\t //\t\"class='close'>Close</th></tr></tfoot>\";\n\t\t\t\t \"<th style='display: table-cell;' colspan='2' class='clear'>Clear</th></tr>\";\n\n\t\t var buttons_html = \"<tfoot><tr>\" +\n\t\t\t\t \"<th style='display: table-cell;' colspan='4' class='today'>Today</th>\" +\n\t\t\t\t \"<th style='display: table-cell;' colspan='3' class='clear'>Clear</th></tr>\";\n\t\t\t\t //\"<tr class='close'><th style='display: table-cell;' ng-click='close_date_picker()' colspan='7' \" +\n\t\t \t\t\t//\t\"class='close'>Close</th></tr></tfoot>\";\n\n\t\t $scope.create_datepicker = function create_datepicker()\n\t\t {\n\t\t\t // Build datepicker. By default put it in the <body> tag so that it is\n\t\t\t // placed correctly and is always on top. They container can be overridden\n\t\t\t // though.\n\t\t\t if($scope.container_id == null)\n\t\t\t {\n\t\t\t\t $scope.datepicker.datepicker({\n\t\t\t\t\t multidate: $scope.is_multi_date,\n\t\t\t\t\t autoclose: !$scope.is_multi_date,\n\t\t\t\t\t todayHighlight: true,\n\t\t\t\t\t todayBtn: 'linked',\n\t\t\t\t\t clearBtn: true,\n\t\t\t\t\t toggleActive: $scope.is_multi_date,\n\t\t\t\t\t orientation: $scope.orientation,\n\t\t\t\t\t format: 'yyyy-mm-dd',\n\t\t\t\t\t showOnFocus: false,\n\t\t\t\t\t keyboardNavigation: false\n\t\t\t\t });\n\t\t\t }\n\t\t\t else\n\t\t\t {\n\t\t\t\t $scope.datepicker.datepicker({\n\t\t\t\t\t multidate: $scope.is_multi_date,\n\t\t\t\t\t autoclose: !$scope.is_multi_date,\n\t\t\t\t\t todayHighlight: true,\n\t\t\t\t\t todayBtn: 'linked',\n\t\t\t\t\t clearBtn: true,\n\t\t\t\t\t toggleActive: $scope.is_multi_date,\n\t\t\t\t\t orientation: $scope.orientation,\n\t\t\t\t\t format: 'yyyy-mm-dd',\n\t\t\t\t\t container: '#' + $scope.container_id,\n\t\t\t\t\t showOnFocus: false,\n\t\t\t\t\t keyboardNavigation: false\n\t\t\t\t });\n\n\t\t\t }\n\n\t\t\t $scope.datepicker.datepicker().on('show', function ()\n\t\t\t {\n\t\t\t\t $scope.is_visible = true;\n\t\t\t });\n\n\t\t\t $scope.datepicker.datepicker().on('hide', function ()\n\t\t\t {\n\t\t\t\t $scope.is_visible = false;\n\t\t\t });\n\t\t };\n\n\t\t $scope.toggle_multi = function toggle_multi(force_true, input_string)\n\t\t {\n\t\t\t if($scope.use_multi_date == 'true')\n\t\t\t {\n\t\t\t\t $scope.is_multi_date = force_true || !$scope.is_multi_date;\n\t\t\t\t $scope.datepicker.datepicker('remove');\n\t\t\t\t $scope.create_datepicker();\n\t\t\t\t $scope.datepicker.datepicker('show');\n\n\t\t\t\t // Datepicker forces valid dates on the input box when the datepicker opens. This breaks\n\t\t\t\t // manual entry when you istart to enter a second date and auto switch to multi date mode.\n\t\t\t\t // We put the date string back in after the parse occurs, to account for this\n\t\t\t\t if(input_string && input_string.length > 0)\n\t\t\t\t {\n\t\t\t\t\t element.find(\"input\").val(input_string);\n\t\t\t\t }\n\t\t\t }\n\t\t };\n\n\t\t // We assume the client is done picking multiple dates when they release control\n\t\t // Close the datepicker\n\t\t $scope.key_up = function key_up(event)\n\t\t {\n\t\t\t if ($scope.use_multi_date == 'true')\n\t\t\t {\n\t\t\t\t // Switch to multi-date if a date seperator (comma) is entered\n\t\t\t\t if (!$scope.is_multi_date)\n\t\t\t\t {\n\t\t\t\t\t var input_value = element.find(\"input\").val();\n\t\t\t\t\t if (input_value.search(\",\") != -1)\n\t\t\t\t\t {\n\t\t\t\t\t\t $scope.toggle_multi(true, input_value);\n\t\t\t\t\t }\n\t\t\t\t }\n\n\t\t\t\t if (event.keyCode == $scope.CTRL_KEY)\n\t\t\t\t {\n\t\t\t\t\t $scope.close_date_picker(event);\n\t\t\t\t\t $scope.ctrl_key_down = false;\n\t\t\t\t }\n\t\t\t\t else if (event.keyCode == $scope.LEFT_SHIFT_KEY)\n\t\t\t\t {\n\t\t\t\t\t $scope.close_date_picker(event);\n\t\t\t\t\t $scope.shift_key_down = false;\n\t\t\t\t }\n\t\t\t }\n\t\t };\n\n\t\t // Switch to multi-date mode when control or shift is pressed\n\t\t $scope.key_down = function key_down(event)\n\t\t {\n\t\t\t if ($scope.use_multi_date == 'true')\n\t\t\t {\n\t\t\t\t // Switch to multi-date when ctrl is pressed. For selecting arbitrary dates\n\t\t\t\t if ($scope.ctrl_key_down)\n\t\t\t\t {\n\t\t\t\t\t return;\n\t\t\t\t }\n\n\t\t\t\t if (event.keyCode == $scope.CTRL_KEY)\n\t\t\t\t {\n\t\t\t\t\t $scope.ctrl_key_down = true;\n\t\t\t\t\t $scope.toggle_multi(true);\n\t\t\t\t }\n\t\t\t\t // Switch to multi-date when shift. For selecting date ranges. NOT IMPLEMENTED\n\t\t\t\t else if (event.keyCode == $scope.LEFT_SHIFT_KEY)\n\t\t\t\t {\n\t\t\t\t\t $scope.shift_key_down = true;\n\t\t\t\t\t $scope.toggle_multi(true);\n\t\t\t\t }\n\t\t\t }\n\t\t };\n\n\t\t $scope.on_focus = function on_focus(event)\n\t\t {\n\t\t\t // Prevent toggling datepicker on click and on focus\n\t\t\t if(!$scope.is_visible)\n\t\t\t {\n\t\t\t\t $scope.open_date_picker(event);\n\t\t\t }\n\n\t\t\t $scope.focus_fn();\n\t\t };\n\n\t\t $scope.on_click = function on_click(event)\n\t\t {\n\t\t\t // Toggle datepicker open/closed\n\t\t\t if(!$scope.is_visible)\n\t\t\t {\n\t\t\t\t $scope.open_date_picker(event);\n\t\t\t }\n\t\t };\n\n\t\t $scope.open_date_picker = function open_date_picker(event)\n\t\t {\n\t\t\t var dates = element.find(\"input\").val().split(',');\n\t\t\t var new_is_multi_date = false;\n\n\t\t\t // Use whatever dates are in the input box when opening datepicker\n\t\t\t if(dates && dates.length > 1)\n\t\t\t {\n\t\t\t\t new_is_multi_date = true;\n\t\t\t }\n\n\t\t\t $scope.datepicker.datepicker('setDates', dates);\n\n\t\t\t // Switch between multi date and single date picker depending on number of dates in\n\t\t\t // input box\n\t\t\t if($scope.use_multi_date == 'true' && new_is_multi_date != $scope.is_multi_date)\n\t\t\t {\n\t\t\t\t $scope.toggle_multi();\n\t\t\t }\n\t\t\t else\n\t\t\t {\n\t\t\t\t $scope.datepicker.datepicker('show');\n\t\t\t }\n\t\t };\n\n\t\t $scope.close_date_picker = function close_date_picker(event)\n\t\t {\n\t\t\t $scope.datepicker.datepicker('hide');\n\t\t };\n\n\t\t // wrap focus function the same way as the field_helper\n\t\t $scope.focus_fn = function on_focus()\n\t\t {\n\t\t\t if(angular.isFunction($scope.on_focus_fn))\n\t\t\t {\n\t\t\t\t // only call the focus function if the field still has focus after a timeout\n\t\t\t\t $timeout(function() {\n\t\t\t\t\t if($(element).find(\" input:enabled, select:enabled, textarea:enabled \").is(':focus'))\n\t\t\t\t\t {\n\t\t\t\t\t\t $scope.on_focus_fn();\n\t\t\t\t\t }\n\t\t\t\t\t else\n\t\t\t\t\t {\n\t\t\t\t\t\t console.log('ignoring on focus function - element is no longer in focus', $scope.name)\n\t\t\t\t\t }\n\t\t\t\t });\n\t\t\t }\n\t\t };\n\n\t\t $scope.$watch('focus_field', function()\n\t\t {\n\t\t\t if($scope.focus_field == $scope.name)\n\t\t\t {\n\t\t\t\t var input_box = element.find(\"input\");\n\t\t\t\t // Focus and select the input element\n\t\t\t\t $timeout(function()\n\t\t\t\t {\n\t\t\t\t\t if(!input_box.is(':focus'))\n\t\t\t\t\t {\n\t\t\t\t\t\t input_box.focus();\n\t\t\t\t\t }\n\t\t\t\t\t input_box.select();\n\t\t\t\t });\n\t\t\t }\n\t\t });\n\n\t\t // Initial Datepicker setup\n\t\t $timeout( function() {\n\t\t\t var date_picker_id = attribute.caDatePickerId;\n\t\t\t if(!date_picker_id)\n\t\t\t {\n\t\t\t\t date_picker_id = 'ca-date-picker';\n\t\t\t }\n\t\t\t $scope.datepicker = $('#' + date_picker_id).find('input');\n\t\t\t $scope.create_datepicker();\n\n\t\t\t $scope.datepicker.on('show', function(e) {\n\n\t\t\t\t // Show multi button only if this is a multi-date picker\n\t\t\t\t var dropdown = $(\".datepicker.datepicker-dropdown\");\n\t\t\t\t var footer = dropdown.find('tfoot');\n\t\t\t\t if($scope.use_multi_date == 'true')\n\t\t\t\t {\n\t\t\t\t\t footer.replaceWith(buttons_html_with_picker);\n\t\t\t\t }\n\t\t\t\t else\n\t\t\t\t {\n\t\t\t\t\t footer.replaceWith(buttons_html);\n\t\t\t\t }\n\t\t\t\t footer = dropdown.find('tfoot');\n\t\t\t\t $compile(footer.contents())($scope);\n\t\t\t\t $scope.initialization_complete = true;\n\t\t\t })\n\t\t });\n\t };\n\n\t return {\n\t\t restrict: 'EA',\n\t\t scope: scope,\n\t\t replace: true,\n\t\t templateUrl: template_function,\n\t\t link: link_function,\n\t\t controller: helper.default_controller\n\t };\n\n }]);\n","angular.module('Common').directive(\n\t'caFieldDate3',\n\n\t[\n\t\t'$timeout',\n\t\t'fieldHelperService',\n\n\tfunction(\n\t\t$timeout, helper\n\t)\n{\n\tvar default_scope = angular.copy(helper.default_scope);\n\n\tdelete default_scope.focus_fn;\n\tdefault_scope.on_focus_fn_year = '&caFocusYear';\n\tdefault_scope.on_focus_fn_month = '&caFocusMonth';\n\tdefault_scope.on_focus_fn_day = '&caFocusDay';\n\n\tvar get_date = function get_date(new_value, old_value, $scope)\n\t{\n\t\t$scope.field_year = '';\n\t\t$scope.field_month = '';\n\t\t$scope.field_day = '';\n\n\t\tif(!new_value)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tvar date_part_array = new_value.split('-');\n\n\t\tif(angular.isDefined(date_part_array[0]))\n\t\t{\n\t\t\t$scope.field_year = date_part_array[0];\n\t\t}\n\n\t\tif(angular.isDefined(date_part_array[1]))\n\t\t{\n\t\t\t$scope.field_month = date_part_array[1];\n\t\t}\n\n\t\tif(angular.isDefined(date_part_array[2]))\n\t\t{\n\t\t\t$scope.field_day = date_part_array[2];\n\t\t}\n\t};\n\n\tvar put_date = function put_date(new_value, old_value, $scope)\n\t{\n\t\tif(!$scope.field_year && !$scope.field_month && !$scope.field_day)\n\t\t{\n\t\t\t$scope.model = null;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$scope.model = $scope.field_year + '-' +\n\t\t\t\t$scope.field_month + '-' +\n\t\t\t\t$scope.field_day;\n\t\t}\n\t};\n\n\tvar template_function = function template_function(element, attributes) {\n\t\treturn helper.resolve_template(attributes, 'src/common/directives/clinicaid/ca_field_date3');\n\t};\n\n\tvar link_function = function link_function($scope, element, attribute, controller)\n\t{\n\t\t// Don't call the helper default link function, we want to do it differently\n\t\t// We do still need to merge the title messages though\n\t\thelper.merge_title_messages($scope);\n\n\t\t$scope.field_year = '';\n\t\t$scope.field_month = '';\n\t\t$scope.field_day = '';\n\n\t\t// wrap each of the focus functions the same way as the field_helper\n\n\t\t$scope.focus_fn_year = function focus_fn_year()\n\t\t{\n\t\t\tif(angular.isFunction($scope.on_focus_fn_year))\n\t\t\t{\n\t\t\t\t// only call the focus function if the field still has focus after a timeout\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tif($(element).find(\" input:enabled, select:enabled, textarea:enabled \").is(':focus'))\n\t\t\t\t\t{\n\t\t\t\t\t\t$scope.on_focus_fn_year();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log('ignoring on focus function - element is no longer in focus', $scope.name)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t$scope.focus_fn_month = function focus_fn_month()\n\t\t{\n\t\t\tif(angular.isFunction($scope.on_focus_fn_month))\n\t\t\t{\n\t\t\t\t// only call the focus function if the field still has focus after a timeout\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tif($(element).find(\" input:enabled, select:enabled, textarea:enabled \").is(':focus'))\n\t\t\t\t\t{\n\t\t\t\t\t\t$scope.on_focus_fn_month();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log('ignoring on focus function - element is no longer in focus', $scope.name)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t$scope.focus_fn_day = function focus_fn_day()\n\t\t{\n\t\t\tif(angular.isFunction($scope.on_focus_fn_day))\n\t\t\t{\n\t\t\t\t// only call the focus function if the field still has focus after a timeout\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tif($(element).find(\" input:enabled, select:enabled, textarea:enabled \").is(':focus'))\n\t\t\t\t\t{\n\t\t\t\t\t\t$scope.on_focus_fn_day();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log('ignoring on focus function - element is no longer in focus', $scope.name)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t$scope.$watch('focus_field',\n\t\t\tfunction update_focus(new_value, old_value, $scope)\n\t\t{\n\t\t\tif($scope.focus_field == $scope.name + \"[year]\")\n\t\t\t{\n\t\t\t\t// Focus the input element\n\t\t\t\t$(element).find(\".ca-field-date3 input\").get(0).focus().select();\n\t\t\t}\n\t\t\telse if($scope.focus_field == $scope.name + \"[month]\")\n\t\t\t{\n\t\t\t\t// Focus the input element\n\t\t\t\t$(element).find(\".ca-field-date3 input\").get(1).focus().select();\n\t\t\t}\n\t\t\telse if($scope.focus_field == $scope.name + \"[day]\")\n\t\t\t{\n\t\t\t\t// Focus the input element\n\t\t\t\t$(element).find(\".ca-field-date3 input\").get(2).focus().select();\n\t\t\t}\n\t\t});\n\n\t\t// listen for focusCaFocusField event: when it matches, focus the element\n\t\t$scope.$on('focusCaFocusField', function(e, focus)\n\t\t{\n\t\t\tif(Juno.Common.Util.exists($scope.name) && $scope.name == focus)\n\t\t\t{\n\t\t\t\t$(element).find(\".ca-field-date3 input\").get(0).focus().select();\n\t\t\t}\n\t\t});\n\n\t\t$scope.$watch('model', get_date);\n\n\t\t$scope.$watch('field_year', put_date);\n\t\t$scope.$watch('field_month', put_date);\n\t\t$scope.$watch('field_day', put_date);\n\t};\n\n\treturn {\n\t\trestrict: 'E',\n\t\tscope: default_scope,\n\t\ttemplateUrl: template_function,\n\t\treplace: true,\n\t\tlink: link_function,\n\t\tcontroller: helper.default_controller\n\t};\n\n}]);\n\n","angular.module('Common').directive(\n\t'caFieldCurrency', \n\n\t[\n\t\t'fieldHelperService', \n\n\tfunction(\n\t\thelper\n\t)\n{\n\t\n\treturn {\n\t\trestrict: 'EAC',\n\t\tscope: helper.default_scope,\n\t\ttemplateUrl: 'src/common/directives/clinicaid/ca_field_currency.jsp',\n\t\treplace: true,\n\t\tlink: helper.default_link_function,\n\t\tcontroller: helper.default_controller \n\t};\n\t\n}]);\n","angular.module('Common').directive(\n\t'caFieldCurrencyFilter',\n\t[\n\t\t'$filter',\n\t\tfunction ($filter)\n\t\t{\n\t\t\tvar link_function = function link_function(scope, element, attribute, ngModelController)\n\t\t\t{\n\t\t\t\tngModelController.$parsers.push(\n\t\t\t\t\tfunction fromUser(text)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (text == null)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext = \"0\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar tempValue = text.replace(/[$,]/g, '');\n\t\t\t\t\t\tif (tempValue.trim() == \"\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttempValue = \"0\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar newValue = parseFloat(tempValue).toFixed(4);\n\t\t\t\t\t\tif (isNaN(newValue))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnewValue = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn newValue;\n\t\t\t\t\t});\n\n\t\t\t\tngModelController.$formatters.unshift(\n\t\t\t\t\tfunction toUser(text)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (text == null)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar currencyFilter = $filter('myCurrencyFilter');\n\t\t\t\t\t\tvar newValue = currencyFilter(text);\n\n\t\t\t\t\t\treturn newValue;\n\t\t\t\t\t});\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\trequire: 'ngModel',\n\t\t\t\trestrict: 'EAC',\n\t\t\t\tlink: link_function\n\t\t\t};\n\n\t\t}\n\t]\n);\n","angular.module('Common').directive(\n\t'caFieldColor', \n\n\t[\n\t\t'fieldHelperService', \n\n\tfunction(\n\t\thelper\n\t)\n{\n    return {\n\t\trestrict: 'EAC',\n\t\tscope: helper.default_scope,\n\t\ttemplateUrl: 'src/common/directives/clinicaid/ca_field_color.jsp',\n\t\treplace: true,\n\t\tlink: helper.default_link_function,\n\t\tcontroller: helper.default_controller, \n\t};\n}]);\n","angular.module('Common').directive(\n\t\t'caFieldButtonGroup',\n\n\t\t[\n\t\t\t'fieldHelperService',\n\n\t\t\tfunction(\n\t\t\t\t\thelper\n\t\t\t)\n\t\t\t{\n\n\t\t\t\tvar link_function = function link_function($scope, element, attribute, controller)\n\t\t\t\t{\n\t\t\t\t\t// run the default field link function\n\t\t\t\t\thelper.default_link_function($scope, element, attribute, controller);\n\n\t\t\t\t\t$scope.selected_values = [$scope.field_default];\n\n\t\t\t\t\t$scope.is_selected = function is_selected(value)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn $scope.selected_values.indexOf(value) != -1;\n\t\t\t\t\t};\n\n\t\t\t\t\t$scope.toggle_selected = function toggle_selected(value)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar value_index = $scope.selected_values.indexOf(value);\n\t\t\t\t\t\tif(value_index == -1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$scope.selected_values.push(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$scope.selected_values.splice(value_index, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$scope.model = $scope.selected_values.join(\",\");\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\tvar scope = angular.copy(helper.default_scope);\n\t\t\t\tscope.field_settings = '=caFieldSettings';\n\t\t\t\tscope.field_default = '=caFieldDefault';\n\n\t\t\t\treturn {\n\t\t\t\t\trestrict: 'EAC',\n\t\t\t\t\tscope: scope,\n\t\t\t\t\ttemplateUrl: 'src/common/directives/clinicaid/ca_field_button_group.jsp',\n\t\t\t\t\treplace: true,\n\t\t\t\t\tlink: link_function,\n\t\t\t\t\tcontroller: helper.default_controller\n\t\t\t\t};\n\n\t\t\t}]);\n","angular.module('Common').directive(\n\t'caFieldBoolean',\n\n\t[\n\t\t'fieldHelperService',\n\n\tfunction(\n\t\thelper\n\t)\n{\n\n\tvar template_function = function template_function(element, attributes) {\n\t\treturn helper.resolve_template(attributes, 'src/common/directives/clinicaid/ca_field_boolean');\n\t};\n\n\tvar link_function = function link_function(\n\t\t\t$scope, element, attribute, controller)\n\t{\n\t\tif(!Juno.Common.Util.exists($scope.model))\n\t\t{\n\t\t\t$scope.model = false;\n\t\t}\n\n\t\t// run the default field link function\n\t\thelper.default_link_function($scope, element, attribute, controller);\n\t};\n\n\treturn {\n\t\trestrict: 'EAC',\n\t\tscope: helper.default_scope,\n\t\ttemplateUrl: template_function,\n\t\treplace: true,\n\t\tlink: link_function,\n\t\tcontroller: helper.default_controller\n\t};\n\n}]);\n","angular.module('Common').directive(\n\t'caFieldAutocomplete',\n\n\t[\n\t\t'$q',\n\t\t'globalStateService',\n\t\t'$timeout',\n\t\t'fieldHelperService',\n\t\t'autoCompleteService',\n\t\t'resultsService',\n\t\t'focusService',\n\n\tfunction($q, global_state, $timeout, helper, autocomplete, results_factory, focus)\n{\n\tvar min_length_zero_types = [\n\t\t'yes_no_boolean',\n\t\t'gender',\n\t\t'schedule',\n\t\t'schedule_type',\n\t\t'schedule_template',\n\t\t'schedule_event_status',\n\t\t'user_roles',\n\t\t'user_type',\n\t\t'province',\n\t\t'country',\n\t\t'custom_tax',\n\t\t'alberta_location_code',\n\t\t'alberta_default_time_role_modifier',\n\t\t'service_modifier',\n\t\t'ontario_office_code',\n\t\t'ontario_service_location_indicator',\n\t\t'bc_service_location_code',\n\t\t'bc_referral_code',\n\t\t'sask_clinic',\n\t\t'sask_oop_province',\n\t\t'sask_mode',\n\t\t'sask_location_of_service',\n\t\t'sask_location_of_service_short',\n\t\t'sask_corporation_indicator',\n\t\t'sask_submission_type',\n\t\t'sask_submission_file',\n\t\t'provider' ];\n\n\tvar scope = angular.copy(helper.default_scope);\n\n\tscope.placeholder = '@caPlaceholder';\n\tscope.input_group_class = '@caInputGroupClass';\n\n\t// must be a valid generic_ref type\n\tscope.autocomplete_type = '@caAutocompleteType';\n\n\t// Extra params to pass in the REST call\n\tscope.params = '=caParams';\n\tscope.params_fn = '&caParamsFn';\n\n\t// the on-select function to call, and if applicable, additional data to pass into it\n\tscope.on_select_fn = '&caOnSelect';\n\tscope.on_select_data = '=caOnSelectData';\n\n\t// the clear function to call, and if applicable, data to pass into it\n\tscope.on_clear_fn = '&caClear';\n\tscope.on_clear_data = '=caClearData';\n\n\t// the create function to call\n\t// create option will only appear if function is provided and create_if is met (if also provided)\n\t// and there is no selected autocomplete value\n\tscope.on_create_fn = '&caCreate';\n\tscope.create_if = '=caCreateIf';\n\n\t// the modify function to call\n\t// modify option will only appear if function is provided and modify_if is met (if also provided)\n\t// and there is a selected autocomplete value\n\tscope.on_modify_fn = '&caModify';\n\tscope.modify_if = '=caModifyIf';\n\tscope.create_on_not_found = '=?caCreateOnNotFound';\n\tscope.editable = '=?caEditable';\n\n\t// List of records to exclude from the results. EG These items are already linked\n\t// Must be an array of pojo models\n\tscope.ca_exclude_list = '=caExcludeList';\n\n\tvar template_function = function template_function(element, attributes) {\n\t\treturn helper.resolve_template(attributes, 'code/common/directives/ca_field_autocomplete');\n\t};\n\n\tvar autocomplete_link_function = function autocomplete_link_function(\n\t\t$scope, element, attribute, controller)\n\t{\n\t\t$scope.autocomplete = autocomplete;\n\t\t$scope.search_field = null;\n\n\t\tif(!angular.isDefined($scope.model))\n\t\t{\n\t\t\t$scope.model = null;\n\t\t}\n\n\t\tif(!Juno.Common.Util.exists($scope.create_on_not_found))\n\t\t{\n\t\t\t$scope.create_on_not_found = false;\n\t\t}\n\n\t\tif(!Juno.Common.Util.exists($scope.editable))\n\t\t{\n\t\t\t$scope.editable = false;\n\t\t}\n\n\t\t// ensure autocomplete type is either a listed dao or defined in GenericRef\n\t\tif(Object.keys($scope.autocomplete.dao_map).indexOf(\n\t\t\t\t\t$scope.autocomplete_type) == -1 &&\n\t\t\t\tObject.keys(Clinicaid.Model.GenericRef.REF_DEFINITIONS).indexOf(\n\t\t\t\t\t$scope.autocomplete_type) == -1)\n\t\t{\n\t\t\tconsole.log(\"invalid autocomplete type:\", $scope.autocomplete_type,\n\t\t\t\t\"valid values: (\" ,\n\t\t\t\t\tObject.keys($scope.autocomplete.dao_map),\n\t\t\t\t\tObject.keys(Clinicaid.Model.GenericRef.REF_DEFINITIONS));\n\t\t\treturn;\n\t\t}\n\n\t\t// default min-length is 1 except for some types\n\t\t$scope.autocomplete_min_length =\n\t\t\t(min_length_zero_types.indexOf($scope.autocomplete_type) != -1) ? 0 : 1;\n\n\t\t// use the passed-in placeholder or default to 'Search...'\n\t\t$scope.input_placeholder = $scope.placeholder;\n\t\tif(!angular.isDefined($scope.input_placeholder))\n\t\t{\n\t\t\t$scope.input_placeholder = 'Search...';\n\t\t}\n\n\t\t// clear function:\n\t\t// call the passed-in function with the passed-in data\n\t\t$scope.clear_autocomplete_search = function clear_autocomplete_search()\n\t\t{\n\t\t\t$scope.search_field = null;\n\t\t};\n\n\t\t$scope.clear_autocomplete_model = function clear_autocomplete_model(focus_input)\n\t\t{\n\t\t\t$scope.model = null;\n\t\t\tif(angular.isFunction($scope.on_clear_fn()))\n\t\t\t{\n\t\t\t\t$scope.on_clear_fn()($scope.on_clear_data);\n\t\t\t}\n\n\t\t\tif(focus_input)\n\t\t\t{\n\t\t\t\tfocus.element(element.find('input'));\n\t\t\t}\n\t\t};\n\n\t\t// select function:\n\t\t// call the passed-in function with the autocomplete and passed-in data\n\t\t$scope.on_select = function on_select($item, $model, $label, $event)\n\t\t{\n\t\t\t$scope.model = $item;\n\t\t\t$scope.change_fn();\n\t\t\tif(angular.isFunction($scope.on_select_fn()))\n\t\t\t{\n\t\t\t\t$scope.on_select_fn()($item, $model, $label, $event, $scope.on_select_data);\n\t\t\t}\n\t\t};\n\n\t\t$scope.create_on_not_found_fn = function create_on_not_found_fn(temp_model)\n\t\t{\n\t\t\tif(Juno.Common.Util.exists(temp_model))\n\t\t\t{\n\t\t\t\t$scope.autocomplete.create_on_not_found(\n\t\t\t\t\t\ttemp_model, $scope.autocomplete_type, true).then(\n\t\t\t\t\t\tfunction success(results)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$scope.on_select(results.data, results.data, null, null, $scope.on_select_data);\n\t\t\t\t\t\t\tif (angular.isFunction($scope.change_fn))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$scope.change_fn();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, function error(errors)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log('error:', errors);\n\t\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\n\t\t$scope.on_change = function on_change()\n\t\t{\n\t\t\tif(!$scope.editable)\n\t\t\t{\n\t\t\t\t$scope.clear_autocomplete_model();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar temp_model = $scope.autocomplete.build_model_object(\n\t\t\t\t\t$scope.autocomplete_type, $scope.search_field);\n\n\t\t\t$scope.on_select(temp_model, temp_model, null, null, $scope.on_select_data);\n\n\t\t\tif ($scope.create_on_not_found)\n\t\t\t{\n\t\t\t\t$scope.create_on_not_found_fn(temp_model);\n\t\t\t}\n\t\t};\n\n\t\t// blur function\n\t\t$scope.on_blur = function on_blur()\n\t\t{\n\t\t\t// this is for the case when the user does a search and then blurs the field:\n\t\t\t// if the value is null, call the clear function (since the select function doesn't fire)\n\t\t\tif($scope.model == null)\n\t\t\t{\n\t\t\t\t$scope.clear_autocomplete_model();\n\t\t\t\t$scope.clear_autocomplete_search();\n\n\t\t\t\t// only run the change function if the model existed when the autocomplete was last focused\n\t\t\t\tif(Juno.Common.Util.exists($scope.model_on_focus) &&\n\t\t\t\t\tangular.isFunction($scope.change_fn))\n\t\t\t\t{\n\t\t\t\t\t$scope.change_fn();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// call the passed-in function, if provided\n\t\t\tif (angular.isFunction($scope.blur_fn))\n\t\t\t{\n\t\t\t\t$scope.blur_fn();\n\t\t\t}\n\t\t};\n\n\t\t// on focus\n\t\t$scope.on_focus = function on_focus()\n\t\t{\n\t\t\t// make a copy of the current model (needed for comparison on_blur)\n\t\t\t$scope.model_on_focus = angular.copy($scope.model);\n\n\t\t\t// call the passed-in function, if provided\n\t\t\tif(angular.isFunction($scope.focus_fn))\n\t\t\t{\n\t\t\t\t$scope.focus_fn();\n\t\t\t}\n\t\t};\n\n\t\t// create function: call the passed-in function, if provided\n\t\t$scope.on_create = null;\n\t\tif(angular.isFunction($scope.on_create_fn()))\n\t\t{\n\t\t\t$scope.on_create = function on_create()\n\t\t\t{\n\t\t\t\t$scope.on_create_fn()();\n\t\t\t};\n\t\t}\n\n\t\t// modify function: call the passed-in function, if provided\n\t\t$scope.on_modify = null;\n\t\tif(angular.isFunction($scope.on_modify_fn()))\n\t\t{\n\t\t\t$scope.on_modify = function on_modify()\n\t\t\t{\n\t\t\t\t$scope.on_modify_fn()();\n\t\t\t};\n\t\t}\n\t\t$scope.show_modify_if = (typeof $scope.modify_if === 'undefined' || $scope.modify_if);\n\n\t\t// autocomplete search: invoke configured function\n\t\t$scope.autocomplete_items = function autocomplete_items($viewValue)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tvar params = $scope.params ? $scope.params : {};\n\t\t\tif(angular.isFunction($scope.params_fn))\n\t\t\t{\n\t\t\t\t// If the params_fn definition has arguments, $scope.params_fn() with return the results.\n\t\t\t\t// If it doesnt have armuments it returns a reference to the funciton which still needs\n\t\t\t\t// to be executed to get the results\n\t\t\t\tvar params_check = $scope.params_fn();\n\t\t\t\tif(angular.isFunction(params_check))\n\t\t\t\t{\n\t\t\t\t\tparams_check = params_check();\n\t\t\t\t}\n\t\t\t\tangular.extend(params, params_check);\n\t\t\t}\n\n\t\t\tautocomplete.get_items($scope.autocomplete_type, $viewValue, params).then(\n\t\t\t\t\tfunction success(results)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar out_items = results.data;\n\t\t\t\t\t\tif(Juno.Common.Util.exists($scope.ca_exclude_list))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tout_items = $scope.prune_items(out_items);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdeferred.resolve(out_items);\n\t\t\t\t\t}, function error(errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tdeferred.reject(errors)\n\t\t\t\t\t}\n\t\t\t);\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\t$scope.prune_items = function prune_items(items)\n\t\t{\n\t\t\tvar out_items = [];\n\t\t\tfor(var i = 0; i < items.length; i++)\n\t\t\t{\n\t\t\t\tvar in_list = false;\n\t\t\t\tfor(var ii = 0; ii < $scope.ca_exclude_list.length; ii++)\n\t\t\t\t{\n\t\t\t\t\tvar exclude_item = $scope.ca_exclude_list[ii];\n\t\t\t\t\tif(typeof(exclude_item) == 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\tif(items[i].data[items[i].value_field] == exclude_item)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin_list = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else\n\t\t\t\t\t{\n\t\t\t\t\t\tif(items[i].data[items[i].value_field] ==\n\t\t\t\t\t\t\t\texclude_item.data[$scope.ca_exclude_list[ii].value_field])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin_list = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!in_list)\n\t\t\t\t{\n\t\t\t\t\tout_items.push(items[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn out_items;\n\t\t};\n\n\t\t// autocomplete format: format the selection for display in the box\n\t\t$scope.autocomplete_input_formatter = function autocomplete_input_formatter($model)\n\t\t{\n\t\t\treturn $model != null ? $model.autocomplete_input_formatted : null;\n\t\t};\n\n\t\t// show the create button?\n\t\t$scope.show_create = function show_create()\n\t\t{\n\t\t\treturn $scope.on_create && !$scope.model &&\n\t\t\t\t(typeof $scope.create_if === 'undefined' || $scope.create_if);\n\t\t};\n\n\t\t// show the modify button?\n\t\t$scope.show_modify = function show_modify()\n\t\t{\n\t\t\treturn $scope.on_modify && $scope.model && !$scope.model.dummy_record &&\n\t\t\t\t(typeof $scope.modify_if === 'undefined' || $scope.modify_if);\n\t\t};\n\n\t\t// show the buttons?\n\t\t$scope.show_buttons = function show_buttons()\n\t\t{\n\t\t\treturn !$scope.disabled && ($scope.model || $scope.show_create());\n\t\t};\n\n\t\t// required for initialization of the search field value:\n\t\t// the directive is created before the model is populated\n\t\t$scope.$watch('model', function(new_value, old_value)\n\t\t{\n\t\t\t$scope.search_field = $scope.model;\n\t\t});\n\n\t\t// run the default field link function\n\t\thelper.default_link_function($scope, element, attribute, controller);\n\t};\n\n\treturn {\n\t\trestrict: 'E',\n\t\tscope: scope,\n\t\ttemplateUrl: template_function,\n\t\treplace: true,\n\t\tlink: autocomplete_link_function,\n\t\tcontroller: helper.default_controller\n\t};\n\n}]);\n","angular.module('Common').directive(\n\t'caFieldAlpha',\n\n\t[\n\t\t'fieldHelperService',\n\n\tfunction (\n\t\thelper\n\t)\n{\n\tvar template_function = function template_function(element, attributes) {\n\t\treturn helper.resolve_template(attributes, 'src/common/directives/clinicaid/ca_field_alpha');\n\t};\n\n\treturn {\n\t\trestrict: 'EAC',\n\t\tscope: helper.default_scope,\n\t\ttemplateUrl: template_function,\n\t\treplace: true,\n\t\tlink: helper.default_link_function,\n\t\tcontroller: helper.default_controller\n\t};\n\n}]);\n","angular.module('Common').directive(\n\t'caFieldAlphadate',\n\n\t[\n\t\t'fieldHelperService',\n\n\tfunction (\n\t\thelper\n\t)\n{\n\tvar template_function = function template_function(element, attributes) {\n\t\treturn helper.resolve_template(attributes, 'src/common/directives/clinicaid/ca_field_alphadate');\n\t};\n\n\tvar scope = angular.copy(helper.default_scope);\n\tscope.placeholder = '@caPlaceholder';\n\n\tvar alphadate_link_function = function alphadate_link_function(\n\t\t$scope, element, attribute, controller)\n\t{\n\t\t// use the passed-in placeholder or default to 'yyyy-mm-dd'\n\t\t$scope.input_placeholder = $scope.placeholder;\n\t\tif(!angular.isDefined($scope.input_placeholder))\n\t\t{\n\t\t\t$scope.input_placeholder = 'yyyy-mm-dd';\n\t\t}\n\n\t\t$scope.on_blur = function on_blur()\n\t\t{\n\t\t\t// parse the input as a date, then format as YYYY-MM-DD (or clear it)\n\t\t\tvar momentDate = moment($scope.model, [\"YYYY-MM-DD\", \"YYYYMMDD\"], true);\n\t\t\tif(momentDate.isValid())\n\t\t\t{\n\t\t\t\t$scope.model = momentDate.format(\"YYYY-MM-DD\");\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$scope.model = null;\n\t\t\t}\n\t\t};\n\n\t\t// run the default field link function\n\t\thelper.default_link_function($scope, element, attribute, controller);\n\t};\n\n\treturn {\n\t\trestrict: 'EAC',\n\t\tscope: scope,\n\t\ttemplateUrl: template_function,\n\t\treplace: true,\n\t\tlink: alphadate_link_function,\n\t\tcontroller: helper.default_controller\n\t};\n\n}]);\n","angular.module('Common.Directives').directive('draggable', [\n\tfunction()\n\t{\n\t\tconsole.log('DRAGGABLE DIRECTIVE LOADED');\n\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tlink: function postLink(scope, elem, attrs)\n\t\t\t{\n\t\t\t\telem.draggable(\n\t\t\t\t{\n\t\t\t\t\taxis: \"x\",\n\t\t\t\t\tcontainment: \"#main-body\"\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n]);","\nrequire('jquery-ui/ui/widgets/resizable');\n\nangular.module('Common.Directives').directive('resizable', [\n\tfunction()\n\t{\n\t\tconsole.log('RESIZABLE DIRECTIVE LOADED');\n\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tscope:\n\t\t\t{\n\t\t\t\tcallback: '&onResize'\n\t\t\t},\n\t\t\tlink: function postLink(scope, elem, attrs)\n\t\t\t{\n\n\t\t\t\tconsole.log('RESIZABLE DIRECTIVE HEIGHT ', $(\".note-editor-textarea\").height());\n\t\t\t\telem.resizable(\n\t\t\t\t{\n\t\t\t\t\thandles: 'n, nw, ne',\n\t\t\t\t\tminHeight: 250,\n\t\t\t\t\tminWidth: 510,\n\t\t\t\t\tmaxWidth: window.innerWidth,\n\t\t\t\t\tmaxHeight: window.innerHeight / 1.5,\n\t\t\t\t\t// containment: \"#main-body\"\n\t\t\t\t});\n\t\t\t\telem.on('resizestop', function(evt, ui)\n\t\t\t\t{\n\t\t\t\t\tif (scope.callback)\n\t\t\t\t\t{\n\t\t\t\t\t\tscope.callback();\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t\telem.on('resize', function()\n\t\t\t\t{\n\t\t\t\t\t$(\".note-editor-textarea\").css('height', elem.height() - 145 - $(\".note-editor-issues\").height());\n\t\t\t\t});\n\n\t\t\t\t// Workaround, need to either replace JqueryUI or find a better way to account for dynamic changes to resizable div size\n\t\t\t\t// Doesn't seem to be an easy way to dynamically set minHeight appropriately\n\t\t\t\tscope.$on('noteIssueAdded', function()\n\t\t\t\t{\n\t\t\t\t\tvar newHeight = $('#note-editor').height() + 33;\n\t\t\t\t\t$('#note-editor').height(newHeight);\n\t\t\t\t});\n\n\t\t\t\t// Workaround, need to either replace JqueryUI or find a better way to account for dynamic changes to resizable div size\n\t\t\t\t// Doesn't seem to be an easy way to dynamically set minHeight appropriately\n\t\t\t\tscope.$on('noteIssueRemoved', function()\n\t\t\t\t{\n\t\t\t\t\tvar newHeight = $('#note-editor').height() - 33;\n\t\t\t\t\t$('#note-editor').height(newHeight);\n\t\t\t\t});\n\n\n\t\t\t}\n\t\t};\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Common.Directives').directive('junoDatepickerPopup', [\n\n\tfunction()\n\t{\n\t\tvar scope = {\n\n\n\t\t};\n\n\t\tscope.model = '=junoModel';\n\t\tscope.placeholder = '@';\n\t\tscope.showIcon = '=';\n\t\tscope.disableInput = '=';\n\n\t\tvar linkFunction = function link_function($scope, element, attribute, controller)\n\t\t{\n\t\t\t$scope.format = 'yyyy-MM-dd';\n\n\t\t\t$scope.dateOptions = {\n\t\t\t\tshowWeeks: false\n\t\t\t};\n\n\t\t\t$scope.opened = false;\n\n\t\t\t$scope.openDatepicker = function()\n\t\t\t{\n\t\t\t\t$scope.opened = true;\n\t\t\t};\n\n\t\t};\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: scope,\n\t\t\ttemplateUrl: function(elem, attribute)\n\t\t\t{\n\t\t\t\treturn 'src/common/directives/datepickerPopup' + attribute.type + '.jsp';\n\t\t\t},\n\t\t\treplace: true,\n\t\t\tlink: linkFunction\n\t\t};\n\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Common.Directives').directive('junoPatientTypeahead', [\n\t'$q',\n\t'typeaheadHelper',\n\t'demographicsService',\n\n\tfunction($q, typeaheadHelper, demographicsService)\n\t{\n\t\tvar scope = typeaheadHelper.defaultTypeaheadScope();\n\n\t\tvar linkFunction = function link_function($scope, element, attribute, controller)\n\t\t{\n\t\t\ttypeaheadHelper.initTypeahead($scope);\n\n\t\t\t$scope.forceSelection = true;\n\n\t\t\t$scope.findMatches = function findMatches(search)\n\t\t\t{\n\t\t\t\tvar deferred = $q.defer();\n\n\t\t\t\tvar params = {\n\t\t\t\t\ttype: 'Name',\n\t\t\t\t\t'term': search,\n\t\t\t\t\tactive: true,\n\t\t\t\t\tintegrator: false,\n\t\t\t\t\toutofdomain: true\n\t\t\t\t};\n\t\t\t\tdemographicsService.search(params, 0, 25).then(function success(data)\n\t\t\t\t\t{\n\t\t\t\t\t\tdeferred.resolve(data.content);\n\t\t\t\t\t\tconsole.log('dataa', data);\n\t\t\t\t\t},\n\t\t\t\t\tfunction error()\n\t\t\t\t\t{\n\t\t\t\t\t\tdeferred.reject();\n\t\t\t\t\t});\n\n\t\t\t\treturn deferred.promise;\n\t\t\t};\n\n\t\t\t$scope.formatMatchSelection = function formatMatchSelection(demographic)\n\t\t\t{\n\t\t\t\treturn demographic.lastName + ', ' + demographic.firstName;\n\t\t\t};\n\n\t\t\t$scope.typeaheadLabel = function(match)\n\t\t\t{\n\t\t\t\treturn $scope.formatMatchSelection(match);\n\t\t\t};\n\t\t};\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: scope,\n\t\t\ttemplateUrl: 'src/common/directives/typeahead.jsp',\n\t\t\treplace: true,\n\t\t\tlink: linkFunction\n\t\t};\n\n\t}\n]);\n","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Common.Directives').directive('junoPatientSearchTypeahead', [\n\t'$q',\n\t'typeaheadHelper',\n\t'demographicsService',\n\n\tfunction($q, typeaheadHelper, demographicsService)\n\t{\n\t\tvar scope = typeaheadHelper.defaultTypeaheadScope();\n\n\t\tvar linkFunction = function link_function($scope, element, attribute, controller)\n\t\t{\n\t\t\ttypeaheadHelper.initTypeahead($scope);\n\n\t\t\t$scope.optionsTemplateUrl = 'src/common/directives/patientSearchTypeaheadOption.jsp';\n\n\t\t\t$scope.findMatches = function findMatches(search)\n\t\t\t{\n\t\t\t\tvar deferred = $q.defer();\n\t\t\t\tdemographicsService.quickSearch(search).then(\n\t\t\t\t\tfunction success(data)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar matches = data.content;\n\t\t\t\t\t\tif(data.total > 10)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmatches.push({\n\t\t\t\t\t\t\t\tmoreResults: true,\n\t\t\t\t\t\t\t\ttotal: data.total,\n\t\t\t\t\t\t\t\tsearchQuery: search\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdeferred.resolve(matches);\n\t\t\t\t\t},\n\t\t\t\t\tfunction error()\n\t\t\t\t\t{\n\t\t\t\t\t\tdeferred.reject();\n\t\t\t\t\t});\n\t\t\t\treturn deferred.promise;\n\t\t\t};\n\n\t\t\t$scope.formatMatchSelection = function formatMatchSelection(demographic)\n\t\t\t{\n\t\t\t\tif(demographic.moreResults)\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn demographic.lastName + ', ' + demographic.firstName;\n\t\t\t};\n\t\t};\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: scope,\n\t\t\ttemplateUrl: 'src/common/directives/typeahead.jsp',\n\t\t\treplace: true,\n\t\t\tlink: linkFunction\n\t\t};\n\n\t}\n]);\n","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Directives\").service(\"typeaheadHelper\", [\n\t'$timeout',\n\tfunction($timeout)\n\t{\n\t\tvar helper = {};\n\n\t\thelper.defaultTypeaheadScope = function()\n\t\t{\n\t\t\tvar scope = {};\n\n\t\t\t// holds the selected match\n\t\t\tscope.model = '=junoModel';\n\n\t\t\t// placeholder for the text input\n\t\t\tscope.placeholder = '@junoPlaceholder';\n\n\t\t\t// called when the search button is clicked (search button will only appear if defined)\n\t\t\tscope.onSearchFn = '&junoOnSearchFn';\n\n\t\t\tscope.onAddFn = '&junoOnAddFn';\n\t\t\t// title for the search button\n\t\t\tscope.searchButtonTitle = '@junoSearchButtonTitle';\n\n\t\t\tscope.addButtonTitle = '@junoAddButtonTitle';\n\n\t\t\treturn scope;\n\t\t};\n\n\t\thelper.initTypeahead = function initTypeahead($scope)\n\t\t{\n\t\t\t//=========================================================================\n\t\t\t// typeahead directives must define/override these\n\t\t\t//=========================================================================\n\n\t\t\t$scope.findMatches = function findMatches($viewValue)\n\t\t\t{\n\t\t\t\tconsole.log('findMatches function must be defined by the typeahead implementation');\n\t\t\t};\n\n\t\t\t$scope.formatMatchSelection = function formatMatchSelection($model)\n\t\t\t{\n\t\t\t\tconsole.log('formatMatch function must be defined by the typeahead implementation');\n\t\t\t};\n\n\t\t\t//=========================================================================\n\t\t\t// typeahead directives may define/override these\n\t\t\t//=========================================================================\n\n\t\t\t$scope.optionsTemplateUrl = null;\n\t\t\t$scope.forceSelection = false;\n\n\t\t\t//=========================================================================\n\t\t\t// common initialization for $scope, for use on all typeahead directives\n\t\t\t//=========================================================================\n\n\t\t\t// the internal ng-model\n\t\t\t$scope.searchField = null;\n\n\t\t\t// ng-model-options\n\t\t\t$scope.typeaheadModelOptions = {\n\t\t\t\tdebounce:\n\t\t\t\t{\n\t\t\t\t\tdefault: 250,\n\t\t\t\t\tblur: 250\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// the passed-in model that holds the selection\n\t\t\tif (!angular.isDefined($scope.model))\n\t\t\t{\n\t\t\t\t$scope.model = null;\n\t\t\t}\n\n\t\t\t$scope.autocompleteMinLength = 1;\n\n\t\t\t$scope.hasButtons = function hasButtons()\n\t\t\t{\n\t\t\t\treturn $scope.hasSearchButton() || $scope.hasAddButton();\n\t\t\t};\n\n\t\t\t$scope.hasSearchButton = function hasSearchButton()\n\t\t\t{\n\t\t\t\treturn angular.isFunction($scope.onAddFn());\n\t\t\t};\n\n\t\t\t$scope.hasAddButton = function hasAddButton()\n\t\t\t{\n\t\t\t\treturn angular.isFunction($scope.onAddFn());\n\t\t\t};\n\n\t\t\t$scope.hasTemplateUrl = function hasTemplateUrl()\n\t\t\t{\n\t\t\t\treturn Juno.Common.Util.exists($scope.optionsTemplateUrl);\n\t\t\t};\n\n\t\t\t$scope.hasForceSelectionEnabled = function hasForceSelectionEnabled()\n\t\t\t{\n\t\t\t\treturn Juno.Common.Util.exists($scope.forceSelection) && $scope.forceSelection;\n\t\t\t};\n\n\t\t\t$scope.formatMatch = function formatMatch($model)\n\t\t\t{\n\t\t\t\tif (!Juno.Common.Util.exists($model))\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tif ($scope.isDummySelection($model))\n\t\t\t\t{\n\t\t\t\t\treturn $model.searchQuery;\n\t\t\t\t}\n\n\t\t\t\treturn $scope.formatMatchSelection($model);\n\t\t\t};\n\n\t\t\t$scope.onSelect = function onSelect($item, $model, $label, $event)\n\t\t\t{\n\t\t\t\tconsole.log('typeaheadHelper::onSelect - setting model', $item);\n\t\t\t\t$scope.model = $item;\n\t\t\t};\n\n\t\t\t$scope.onBlur = function onBlur()\n\t\t\t{\n\t\t\t\tif ($scope.hasForceSelectionEnabled() && angular.isString($scope.searchField))\n\t\t\t\t{\n\t\t\t\t\tconsole.log('typeaheadHelper::onBlur - setting model to null (forceSelectionEnabled)');\n\t\t\t\t\t// the searchField is not a valid selection and force selection is enabled\n\t\t\t\t\t// if there is a select, onSelect will fire after\n\t\t\t\t\t$scope.model = null;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.onChange = function onChange()\n\t\t\t{\n\t\t\t\tif (!$scope.hasForceSelectionEnabled())\n\t\t\t\t{\n\t\t\t\t\tconsole.log('typeaheadHelper::onChange - setting model (isTypeaheadSearchQuery)');\n\t\t\t\t\t// as user types into the typeahead, select a 'dummy' selection;\n\t\t\t\t\t// consumers need to check the isTypeaheadSearchQuery property\n\t\t\t\t\t$scope.onSelect($scope.createDummySelection());\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.onSearch = function onSearch()\n\t\t\t{\n\t\t\t\t// must be in a $timeout because model may not be populated yet\n\t\t\t\t// because of delay specified by ng-model-options\n\t\t\t\t$timeout(function()\n\t\t\t\t{\n\t\t\t\t\tif (angular.isFunction($scope.onSearchFn()))\n\t\t\t\t\t{\n\t\t\t\t\t\t$scope.onSearchFn()($scope.model);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.onAdd = function onAdd()\n\t\t\t{\n\t\t\t\t// must be in a $timeout because model may not be populated yet\n\t\t\t\t// because of delay specified by ng-model-options\n\t\t\t\t$timeout(function()\n\t\t\t\t{\n\t\t\t\t\tif (angular.isFunction($scope.onAddFn()))\n\t\t\t\t\t{\n\t\t\t\t\t\t$scope.onAddFn()($scope.model);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.createDummySelection = function createDummySelection()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tisTypeaheadSearchQuery: true,\n\t\t\t\t\tsearchQuery: $scope.searchField\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t$scope.isDummySelection = function isDummySelection(match)\n\t\t\t{\n\t\t\t\treturn Juno.Common.Util.exists(match) && match.isTypeaheadSearchQuery;\n\t\t\t};\n\n\t\t\t$scope.$watch('model', function()\n\t\t\t{\n\t\t\t\t// when the 'external' model is updated, update the 'internal' model\n\t\t\t\t$scope.searchField = $scope.model;\n\t\t\t});\n\n\t\t};\n\n\t\treturn helper;\n\t}\n\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Common.Directives', [ 'Common.Services' ]);\n\n","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Common.Filters').filter('startFrom', [\n\tfunction()\n\t{\n\t\treturn function(input, start)\n\t\t{\n\t\t\tstart = +start; //parse to int\n\t\t\t// return input.slice(start);\n\t\t\treturn input;\n\t\t};\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Common.Filters').filter('offset', [\n\tfunction()\n\t{\n\t\treturn function(input, start)\n\t\t{\n\t\t\tif (input === null)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tstart = parseInt(start, 10);\n\t\t\treturn input.slice(start);\n\t\t};\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Common.Filters').filter('cut', [\n\tfunction()\n\t{\n\t\treturn function(value, wordwise, max, tail)\n\t\t{\n\t\t\tif (!value) return '';\n\n\t\t\tmax = parseInt(max, 10);\n\t\t\tif (!max) return value;\n\t\t\tif (value.length <= max) return value;\n\n\t\t\tvalue = value.substr(0, max);\n\t\t\tif (wordwise)\n\t\t\t{\n\t\t\t\tvar lastspace = value.lastIndexOf(' ');\n\t\t\t\tif (lastspace !== -1)\n\t\t\t\t{\n\t\t\t\t\tvalue = value.substr(0, lastspace);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn value + (tail || ' ');\n\t\t};\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Common.Filters').filter('age', [\n\tfunction()\n\t{\n\t\treturn function(input)\n\t\t{\n\t\t\tif (input !== null && input.years !== null)\n\t\t\t{\n\t\t\t\tif (input.years < 1 && input.months < 1)\n\t\t\t\t{\n\t\t\t\t\treturn input.days + \"d\";\n\t\t\t\t}\n\n\t\t\t\tif (input.years < 2)\n\t\t\t\t{\n\t\t\t\t\treturn input.months + \"m\";\n\t\t\t\t}\n\n\t\t\t\treturn input.years + \" y\";\n\t\t\t}\n\n\t\t\treturn \"\";\n\t\t};\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Common.Filters', []);\n\n","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"referralDoctorsService\", [\n\t'$q',\n\t'junoHttp',\n\tfunction($q,junoHttp)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/referralDoctors/';\n\n\t\tservice.searchReferralDoctors = function searchReferralDoctors(searchName, searchRefNo, page, perPage)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\tsearchName: searchName,\n\t\t\t\tsearchRefNo:searchRefNo,\n\t\t\t\tpage:page,\n\t\t\t\tperPage:perPage\n\t\t\t};\n\t\t\tjunoHttp.get(service.apiPath, config).then(\n\t\t\t\tfunction success(response) {\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error) {\n\t\t\t\t\tconsole.log(\"ReferralDoctorsService::searchReferralDoctors error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occurred while searching ReferralDoctors\");\n\t\t\t\t});\n\t\t\treturn deferred.promise;\n\t\t};\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"specialistsService\", [\n\t'$q',\n\t'junoHttp',\n\tfunction($q,junoHttp)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/specialists/';\n\n\t\tservice.searchSpecialists = function searchSpecialists(searchName, searchRefNo, page, perPage)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\tsearchName: searchName,\n\t\t\t\tsearchRefNo:searchRefNo,\n\t\t\t\tpage:page,\n\t\t\t\tperPage:perPage\n\t\t\t};\n\t\t\tconsole.log(\"params\", config.params);\n\n\t\t\tjunoHttp.get(service.apiPath, config).then(\n\t\t\t\tfunction success(response) {\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error) {\n\t\t\t\t\tconsole.log(\"SpecialistsService::searchSpecialists error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occurred while searching Specialists\");\n\t\t\t\t});\n\t\t\treturn deferred.promise;\n\t\t};\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"uxService\", [\n\t'$http', '$q',\n\tfunction($http, $q)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/recordUX';\n\n\t\tservice.menu = function menu(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/recordMenu').then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"uxService::menu error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching menu\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.searchTemplates = function searchTemplates(search, startIndex, itemsToReturn)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.post(service.apiPath + '/searchTemplates?startIndex=' +\n\t\t\t\tencodeURIComponent(startIndex) + \"&itemsToReturn=\" +\n\t\t\t\tencodeURIComponent(itemsToReturn), search).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"uxService::searchTemplates error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while searching templates\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getTemplate = function getTemplate(name)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.post(service.apiPath + '/template', name).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"uxService::getTemplate error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching template\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getDisplayProperties = function getDisplayProperties()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + '/properties').then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"uxService:getDisplayProperties error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching display properties.\")\n\t\t\t\t}\n\t\t\t);\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"reportByTemplateService\", [\n\t'$http',\n\t'$q',\n\t'junoHttp',\n\tfunction($http,\n\t         $q,\n\t         junoHttp)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs';\n\n\t\tservice.isK2AInit = function isK2AInit()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/reportByTemplate/K2AActive',\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"reportByTemplateService::isK2AInit error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching k2a content\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getAllK2AReports = function getAllK2AReports()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tjunoHttp.get(service.apiPath + '/reportByTemplate/allReports', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"reportByTemplateService::getAllK2AReports error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching k2a reports\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getK2AReportById = function getK2AReportById(id)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/reportByTemplate/getReportById/' + encodeURIComponent(id),\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"reportByTemplateService::getK2AReportById error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching k2a report\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getK2AUrl = function getK2AUrl()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tjunoHttp.get(service.apiPath + '/reportByTemplate/K2AUrl/', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"reportByTemplateService::getK2AUrl error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching k2a url\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"ticklerService\", [\n\t'$http', '$q',\n\tfunction($http, $q)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/tickler';\n\n\t\tservice.setCompleted = function setCompleted(ticklerIds)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/complete',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: JSON.stringify(\n\t\t\t\t{\n\t\t\t\t\t\"ticklers\": ticklerIds\n\t\t\t\t}),\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"ticklerService::setCompleted error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while setting ticklers to completed status\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.setDeleted = function setDeleted(ticklerIds)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/delete',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: JSON.stringify(\n\t\t\t\t{\n\t\t\t\t\t\"ticklers\": ticklerIds\n\t\t\t\t}),\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"ticklerService::setDeleted error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while setting ticklers to deleted status\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.search = function search(filter, startIndex, limit)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/search?startIndex=' +\n\t\t\t\t\tencodeURIComponent(startIndex) +\n\t\t\t\t\t'&limit=' +\n\t\t\t\t\tencodeURIComponent(limit),\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: JSON.stringify(filter),\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"ticklerService::search error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while searching ticklers\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.update = function update(tickler)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/update',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: JSON.stringify(tickler),\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"ticklerService::update error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while updating tickler\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getTextSuggestions = function getTextSuggestions()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/textSuggestions',\n\t\t\t\tmethod: \"GET\"\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"ticklerService::getTextSuggestions error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while getting tickler text suggestions\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.add = function add(tickler)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/add',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: JSON.stringify(tickler),\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"ticklerService::add error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while saving tickler\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"summaryService\", [\n\t'$http', '$q',\n\tfunction($http, $q)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/recordUX';\n\n\t\tservice.getSummaryHeaders = function(demographicNo, key)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/summary/' + key).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"summaryService::getSummaryHeaders error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching summary headers\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getFullSummary = function(demographicNo, summaryCode)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/fullSummary/' + summaryCode).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"summaryService::getFullSummary error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching full summary\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getFamilyHistory = function(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/getFamilyHistory').then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"summaryService::getFamilyHistory error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching family history\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getMedicalHistory = function(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/getMedicalHistory').then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"summaryService::getMedicalHistory error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching medical history\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getSocialHistory = function getSocialHistory(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/getSocialHistory').then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"summaryService::getSocialHistory error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching social history\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getOngoingConcerns = function(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/getOngoingConcerns').then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"summaryService::getOngoingConcerns error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching ongoing concerns\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getOtherMeds = function getOtherMeds(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/getOtherMeds').then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"summaryService::getOtherMeds error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching other meds\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getReminders = function getReminders(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/getReminders').then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"summaryService::getReminders error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching reminders\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getRiskFactors = function getRiskFactors(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/getRiskFactors').then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"summaryService::getRiskFactors error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching risk factors\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"staticDataService\", [\n\tfunction()\n\t{\n\t\tvar service = {};\n\n\t\tservice.getGenders = function getGenders()\n\t\t{\n\t\t\tvar genders = [];\n\t\t\tgenders.push(\n\t\t\t{\n\t\t\t\t\"value\": \"M\",\n\t\t\t\t\"label\": \"Male\"\n\t\t\t});\n\t\t\tgenders.push(\n\t\t\t{\n\t\t\t\t\"value\": \"F\",\n\t\t\t\t\"label\": \"Female\"\n\t\t\t});\n\t\t\tgenders.push(\n\t\t\t{\n\t\t\t\t\"value\": \"T\",\n\t\t\t\t\"label\": \"Transgendered\"\n\t\t\t});\n\t\t\tgenders.push(\n\t\t\t{\n\t\t\t\t\"value\": \"O\",\n\t\t\t\t\"label\": \"Other\"\n\t\t\t});\n\t\t\tgenders.push(\n\t\t\t{\n\t\t\t\t\"value\": \"U\",\n\t\t\t\t\"label\": \"Undefined\"\n\t\t\t});\n\t\t\treturn genders;\n\t\t};\n\n\t\tservice.getTitles = function getTitles()\n\t\t{\n\t\t\tvar titles = [];\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MISS\",\n\t\t\t\t\"label\": \"MISS\"\n\t\t\t});\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MRS\",\n\t\t\t\t\"label\": \"MRS\"\n\t\t\t});\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MS\",\n\t\t\t\t\"label\": \"MS\"\n\t\t\t});\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MR\",\n\t\t\t\t\"label\": \"MR\"\n\t\t\t});\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MSSR\",\n\t\t\t\t\"label\": \"MSSR\"\n\t\t\t});\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"DR\",\n\t\t\t\t\"label\": \"DR\"\n\t\t\t});\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PROF\",\n\t\t\t\t\"label\": \"PROF\"\n\t\t\t});\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"REEVE\",\n\t\t\t\t\"label\": \"REEVE\"\n\t\t\t});\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"REV\",\n\t\t\t\t\"label\": \"REV\"\n\t\t\t});\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"RT_HON\",\n\t\t\t\t\"label\": \"RT_HON\"\n\t\t\t});\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SEN\",\n\t\t\t\t\"label\": \"SEN\"\n\t\t\t});\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SGT\",\n\t\t\t\t\"label\": \"SGT\"\n\t\t\t});\n\t\t\ttitles.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SR\",\n\t\t\t\t\"label\": \"SR\"\n\t\t\t});\n\t\t\treturn titles;\n\t\t};\n\n\t\tservice.getProvinces = function getProvinces()\n\t\t{\n\t\t\tvar provinces = [];\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AB\",\n\t\t\t\t\"label\": \"AB-Alberta\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BC\",\n\t\t\t\t\"label\": \"BC-British Columbia\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MB\",\n\t\t\t\t\"label\": \"MB-Manitoba\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NB\",\n\t\t\t\t\"label\": \"NB-New Brunswick\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NL\",\n\t\t\t\t\"label\": \"NL-Newfoundland Labrador\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NT\",\n\t\t\t\t\"label\": \"NT-Northwest Territory\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NS\",\n\t\t\t\t\"label\": \"NS-Nova Scotia\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NU\",\n\t\t\t\t\"label\": \"NU-Nunavut\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"ON\",\n\t\t\t\t\"label\": \"ON-Ontario\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PE\",\n\t\t\t\t\"label\": \"PE-Prince Edward Island\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"QC\",\n\t\t\t\t\"label\": \"QC-Quebec\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SK\",\n\t\t\t\t\"label\": \"SK-Saskatchewan\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"YT\",\n\t\t\t\t\"label\": \"YT-Yukon\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US\",\n\t\t\t\t\"label\": \"US resident\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-AK\",\n\t\t\t\t\"label\": \"US-AK-Alaska\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-AL\",\n\t\t\t\t\"label\": \"US-AL-Alabama\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-AR\",\n\t\t\t\t\"label\": \"US-AR-Arkansas\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-AZ\",\n\t\t\t\t\"label\": \"US-AZ-Arizona\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-CA\",\n\t\t\t\t\"label\": \"US-CA-California\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-CO\",\n\t\t\t\t\"label\": \"US-CO-Colorado\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-CT\",\n\t\t\t\t\"label\": \"US-CT-Connecticut\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-CZ\",\n\t\t\t\t\"label\": \"US-CZ-Canal Zone\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-DC\",\n\t\t\t\t\"label\": \"US-DC-District Of Columbia\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-DE\",\n\t\t\t\t\"label\": \"US-DE-Delaware\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-FL\",\n\t\t\t\t\"label\": \"US-FL-Florida\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-GA\",\n\t\t\t\t\"label\": \"US-GA-Georgia\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-GU\",\n\t\t\t\t\"label\": \"US-GU-Guam\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-HI\",\n\t\t\t\t\"label\": \"US-HI-Hawaii\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-IA\",\n\t\t\t\t\"label\": \"US-IA-Iowa\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-ID\",\n\t\t\t\t\"label\": \"US-ID-Idaho\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-IL\",\n\t\t\t\t\"label\": \"US-IL-Illinois\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-IN\",\n\t\t\t\t\"label\": \"US-IN-Indiana\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-KS\",\n\t\t\t\t\"label\": \"US-KS-Kansas\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-KY\",\n\t\t\t\t\"label\": \"US-KY-Kentucky\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-LA\",\n\t\t\t\t\"label\": \"US-LA-Louisiana\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-MA\",\n\t\t\t\t\"label\": \"US-MA-Massachusetts\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-MD\",\n\t\t\t\t\"label\": \"US-MD-Maryland\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-ME\",\n\t\t\t\t\"label\": \"US-ME-Maine\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-MI\",\n\t\t\t\t\"label\": \"US-MI-Michigan\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-MN\",\n\t\t\t\t\"label\": \"US-MN-Minnesota\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-MO\",\n\t\t\t\t\"label\": \"US-MO-Missouri\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-MS\",\n\t\t\t\t\"label\": \"US-MS-Mississippi\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-MT\",\n\t\t\t\t\"label\": \"US-MT-Montana\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-NC\",\n\t\t\t\t\"label\": \"US-NC-North Carolina\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-ND\",\n\t\t\t\t\"label\": \"US-ND-North Dakota\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-NE\",\n\t\t\t\t\"label\": \"US-NE-Nebraska\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-NH\",\n\t\t\t\t\"label\": \"US-NH-New Hampshire\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-NJ\",\n\t\t\t\t\"label\": \"US-NJ-New Jersey\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-NM\",\n\t\t\t\t\"label\": \"US-NM-New Mexico\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-NU\",\n\t\t\t\t\"label\": \"US-NU-Nunavut\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-NV\",\n\t\t\t\t\"label\": \"US-NV-Nevada\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-NY\",\n\t\t\t\t\"label\": \"US-NY-New York\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-OH\",\n\t\t\t\t\"label\": \"US-OH-Ohio\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-OK\",\n\t\t\t\t\"label\": \"US-OK-Oklahoma\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-OR\",\n\t\t\t\t\"label\": \"US-OR-Oregon\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-PA\",\n\t\t\t\t\"label\": \"US-PA-Pennsylvania\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-PR\",\n\t\t\t\t\"label\": \"US-PR-Puerto Rico\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-RI\",\n\t\t\t\t\"label\": \"US-RI-Rhode Island\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-SC\",\n\t\t\t\t\"label\": \"US-SC-South Carolina\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-SD\",\n\t\t\t\t\"label\": \"US-SD-South Dakota\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-TN\",\n\t\t\t\t\"label\": \"US-TN-Tennessee\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-TX\",\n\t\t\t\t\"label\": \"US-TX-Texas\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-UT\",\n\t\t\t\t\"label\": \"US-UT-Utah\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-VA\",\n\t\t\t\t\"label\": \"US-VA-Virginia\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-VI\",\n\t\t\t\t\"label\": \"US-VI-Virgin Islands\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-VT\",\n\t\t\t\t\"label\": \"US-VT-Vermont\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-WA\",\n\t\t\t\t\"label\": \"US-WA-Washington\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-WI\",\n\t\t\t\t\"label\": \"US-WI-Wisconsin\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-WV\",\n\t\t\t\t\"label\": \"US-WV-West Virginia\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US-WY\",\n\t\t\t\t\"label\": \"US-WY-Wyoming\"\n\t\t\t});\n\t\t\tprovinces.push(\n\t\t\t{\n\t\t\t\t\"value\": \"OT\",\n\t\t\t\t\"label\": \"Other\"\n\t\t\t});\n\t\t\treturn provinces;\n\t\t};\n\n\t\tservice.getCountries = function getCountries()\n\t\t{\n\t\t\tvar countries = [];\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AF\",\n\t\t\t\t\"label\": \"AFGHANISTAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AX\",\n\t\t\t\t\"label\": \"ALAND ISLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AL\",\n\t\t\t\t\"label\": \"ALBANIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"DZ\",\n\t\t\t\t\"label\": \"ALGERIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AS\",\n\t\t\t\t\"label\": \"AMERICAN SAMOA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AD\",\n\t\t\t\t\"label\": \"ANDORRA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AO\",\n\t\t\t\t\"label\": \"ANGOLA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AI\",\n\t\t\t\t\"label\": \"ANGUILLA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AQ\",\n\t\t\t\t\"label\": \"ANTARCTICA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AG\",\n\t\t\t\t\"label\": \"ANTIGUA AND BARBUDA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AR\",\n\t\t\t\t\"label\": \"ARGENTINA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AM\",\n\t\t\t\t\"label\": \"ARMENIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AW\",\n\t\t\t\t\"label\": \"ARUBA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AU\",\n\t\t\t\t\"label\": \"AUSTRALIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AT\",\n\t\t\t\t\"label\": \"AUSTRIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AZ\",\n\t\t\t\t\"label\": \"AZERBAIJAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BS\",\n\t\t\t\t\"label\": \"BAHAMAS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BH\",\n\t\t\t\t\"label\": \"BAHRAIN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BD\",\n\t\t\t\t\"label\": \"BANGLADESH\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BB\",\n\t\t\t\t\"label\": \"BARBADOS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BY\",\n\t\t\t\t\"label\": \"BELARUS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BE\",\n\t\t\t\t\"label\": \"BELGIUM\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BZ\",\n\t\t\t\t\"label\": \"BELIZE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BJ\",\n\t\t\t\t\"label\": \"BENIN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BM\",\n\t\t\t\t\"label\": \"BERMUDA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BT\",\n\t\t\t\t\"label\": \"BHUTAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BO\",\n\t\t\t\t\"label\": \"BOLIVIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BA\",\n\t\t\t\t\"label\": \"BOSNIA AND HERZEGOVINA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BW\",\n\t\t\t\t\"label\": \"BOTSWANA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BV\",\n\t\t\t\t\"label\": \"BOUVET ISLAND\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BR\",\n\t\t\t\t\"label\": \"BRAZIL\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"IO\",\n\t\t\t\t\"label\": \"BRITISH INDIAN OCEAN TERRITORY\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BN\",\n\t\t\t\t\"label\": \"BRUNEI DARUSSALAM\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BG\",\n\t\t\t\t\"label\": \"BULGARIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BF\",\n\t\t\t\t\"label\": \"BURKINA FASO\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BI\",\n\t\t\t\t\"label\": \"BURUNDI\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"KH\",\n\t\t\t\t\"label\": \"CAMBODIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CM\",\n\t\t\t\t\"label\": \"CAMEROON\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CA\",\n\t\t\t\t\"label\": \"CANADA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CV\",\n\t\t\t\t\"label\": \"CAPE VERDE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"KY\",\n\t\t\t\t\"label\": \"CAYMAN ISLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CF\",\n\t\t\t\t\"label\": \"CENTRAL AFRICAN REPUBLIC\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TD\",\n\t\t\t\t\"label\": \"CHAD\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CL\",\n\t\t\t\t\"label\": \"CHILE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CN\",\n\t\t\t\t\"label\": \"CHINA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CX\",\n\t\t\t\t\"label\": \"CHRISTMAS ISLAND\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CC\",\n\t\t\t\t\"label\": \"COCOS (KEELING) ISLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CO\",\n\t\t\t\t\"label\": \"COLOMBIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"KM\",\n\t\t\t\t\"label\": \"COMOROS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CG\",\n\t\t\t\t\"label\": \"CONGO\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CD\",\n\t\t\t\t\"label\": \"CONGO, THE DEMOCRATIC REPUBLIC OF THE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CK\",\n\t\t\t\t\"label\": \"COOK ISLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CR\",\n\t\t\t\t\"label\": \"COSTA RICA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CI\",\n\t\t\t\t\"label\": \"CTE D IVOIRE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"HR\",\n\t\t\t\t\"label\": \"CROATIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CU\",\n\t\t\t\t\"label\": \"CUBA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CY\",\n\t\t\t\t\"label\": \"CYPRUS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CZ\",\n\t\t\t\t\"label\": \"CZECH REPUBLIC\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"DK\",\n\t\t\t\t\"label\": \"DENMARK\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"DJ\",\n\t\t\t\t\"label\": \"DJIBOUTI\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"DM\",\n\t\t\t\t\"label\": \"DOMINICA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"DO\",\n\t\t\t\t\"label\": \"DOMINICAN REPUBLIC\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"EC\",\n\t\t\t\t\"label\": \"ECUADOR\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"EG\",\n\t\t\t\t\"label\": \"EGYPT\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SV\",\n\t\t\t\t\"label\": \"EL SALVADOR\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GQ\",\n\t\t\t\t\"label\": \"EQUATORIAL GUINEA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"ER\",\n\t\t\t\t\"label\": \"ERITREA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"EE\",\n\t\t\t\t\"label\": \"ESTONIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"ET\",\n\t\t\t\t\"label\": \"ETHIOPIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"FK\",\n\t\t\t\t\"label\": \"FALKLAND ISLANDS (MALVINAS)\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"FO\",\n\t\t\t\t\"label\": \"FAROE ISLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"FJ\",\n\t\t\t\t\"label\": \"FIJI\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"FI\",\n\t\t\t\t\"label\": \"FINLAND\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"FR\",\n\t\t\t\t\"label\": \"FRANCE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GF\",\n\t\t\t\t\"label\": \"FRENCH GUIANA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PF\",\n\t\t\t\t\"label\": \"FRENCH POLYNESIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TF\",\n\t\t\t\t\"label\": \"FRENCH SOUTHERN TERRITORIES\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GA\",\n\t\t\t\t\"label\": \"GABON\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GM\",\n\t\t\t\t\"label\": \"GAMBIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GE\",\n\t\t\t\t\"label\": \"GEORGIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"DE\",\n\t\t\t\t\"label\": \"GERMANY\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GH\",\n\t\t\t\t\"label\": \"GHANA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GI\",\n\t\t\t\t\"label\": \"GIBRALTAR\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GR\",\n\t\t\t\t\"label\": \"GREECE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GL\",\n\t\t\t\t\"label\": \"GREENLAND\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GD\",\n\t\t\t\t\"label\": \"GRENADA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GP\",\n\t\t\t\t\"label\": \"GUADELOUPE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GU\",\n\t\t\t\t\"label\": \"GUAM\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GT\",\n\t\t\t\t\"label\": \"GUATEMALA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GG\",\n\t\t\t\t\"label\": \"GUERNSEY\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GN\",\n\t\t\t\t\"label\": \"GUINEA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GW\",\n\t\t\t\t\"label\": \"GUINEA-BISSAU\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GY\",\n\t\t\t\t\"label\": \"GUYANA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"HT\",\n\t\t\t\t\"label\": \"HAITI\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"HM\",\n\t\t\t\t\"label\": \"HEARD ISLAND AND MCDONALD ISLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"VA\",\n\t\t\t\t\"label\": \"HOLY SEE (VATICAN CITY STATE)\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"HN\",\n\t\t\t\t\"label\": \"HONDURAS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"HK\",\n\t\t\t\t\"label\": \"HONG KONG\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"HU\",\n\t\t\t\t\"label\": \"HUNGARY\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"IS\",\n\t\t\t\t\"label\": \"ICELAND\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"IN\",\n\t\t\t\t\"label\": \"INDIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"ID\",\n\t\t\t\t\"label\": \"INDONESIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"IR\",\n\t\t\t\t\"label\": \"IRAN, ISLAMIC REPUBLIC OF\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"IQ\",\n\t\t\t\t\"label\": \"IRAQ\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"IE\",\n\t\t\t\t\"label\": \"IRELAND\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"IM\",\n\t\t\t\t\"label\": \"ISLE OF MAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"IL\",\n\t\t\t\t\"label\": \"ISRAEL\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"IT\",\n\t\t\t\t\"label\": \"ITALY\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"JM\",\n\t\t\t\t\"label\": \"JAMAICA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"JP\",\n\t\t\t\t\"label\": \"JAPAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"JE\",\n\t\t\t\t\"label\": \"JERSEY\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"JO\",\n\t\t\t\t\"label\": \"JORDAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"KZ\",\n\t\t\t\t\"label\": \"KAZAKHSTAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"KE\",\n\t\t\t\t\"label\": \"KENYA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"KI\",\n\t\t\t\t\"label\": \"KIRIBATI\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"KP\",\n\t\t\t\t\"label\": \"KOREA, DEMOCRATIC PEOPLES REPUBLIC OF\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"KR\",\n\t\t\t\t\"label\": \"KOREA, REPUBLIC OF\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"KW\",\n\t\t\t\t\"label\": \"KUWAIT\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"KG\",\n\t\t\t\t\"label\": \"KYRGYZSTAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"LA\",\n\t\t\t\t\"label\": \"LAO PEOPLES DEMOCRATIC REPUBLIC\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"LV\",\n\t\t\t\t\"label\": \"LATVIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"LB\",\n\t\t\t\t\"label\": \"LEBANON\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"LS\",\n\t\t\t\t\"label\": \"LESOTHO\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"LR\",\n\t\t\t\t\"label\": \"LIBERIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"LY\",\n\t\t\t\t\"label\": \"LIBYAN ARAB JAMAHIRIYA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"LI\",\n\t\t\t\t\"label\": \"LIECHTENSTEIN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"LT\",\n\t\t\t\t\"label\": \"LITHUANIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"LU\",\n\t\t\t\t\"label\": \"LUXEMBOURG\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MO\",\n\t\t\t\t\"label\": \"MACAO\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MK\",\n\t\t\t\t\"label\": \"MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MG\",\n\t\t\t\t\"label\": \"MADAGASCAR\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MW\",\n\t\t\t\t\"label\": \"MALAWI\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MY\",\n\t\t\t\t\"label\": \"MALAYSIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MV\",\n\t\t\t\t\"label\": \"MALDIVES\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"ML\",\n\t\t\t\t\"label\": \"MALI\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MT\",\n\t\t\t\t\"label\": \"MALTA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MH\",\n\t\t\t\t\"label\": \"MARSHALL ISLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MQ\",\n\t\t\t\t\"label\": \"MARTINIQUE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MR\",\n\t\t\t\t\"label\": \"MAURITANIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MU\",\n\t\t\t\t\"label\": \"MAURITIUS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"YT\",\n\t\t\t\t\"label\": \"MAYOTTE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MX\",\n\t\t\t\t\"label\": \"MEXICO\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"FM\",\n\t\t\t\t\"label\": \"MICRONESIA, FEDERATED STATES OF\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MD\",\n\t\t\t\t\"label\": \"MOLDOVA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MC\",\n\t\t\t\t\"label\": \"MONACO\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MN\",\n\t\t\t\t\"label\": \"MONGOLIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"ME\",\n\t\t\t\t\"label\": \"MONTENEGRO\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MS\",\n\t\t\t\t\"label\": \"MONTSERRAT\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MA\",\n\t\t\t\t\"label\": \"MOROCCO\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MZ\",\n\t\t\t\t\"label\": \"MOZAMBIQUE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MM\",\n\t\t\t\t\"label\": \"MYANMAR\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NA\",\n\t\t\t\t\"label\": \"NAMIBIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NR\",\n\t\t\t\t\"label\": \"NAURU\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NP\",\n\t\t\t\t\"label\": \"NEPAL\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NL\",\n\t\t\t\t\"label\": \"NETHERLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AN\",\n\t\t\t\t\"label\": \"NETHERLANDS ANTILLES\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NC\",\n\t\t\t\t\"label\": \"NEW CALEDONIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NZ\",\n\t\t\t\t\"label\": \"NEW ZEALAND\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NI\",\n\t\t\t\t\"label\": \"NICARAGUA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NE\",\n\t\t\t\t\"label\": \"NIGER\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NG\",\n\t\t\t\t\"label\": \"NIGERIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NU\",\n\t\t\t\t\"label\": \"NIUE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NF\",\n\t\t\t\t\"label\": \"NORFOLK ISLAND\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MP\",\n\t\t\t\t\"label\": \"NORTHERN MARIANA ISLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"NO\",\n\t\t\t\t\"label\": \"NORWAY\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"OM\",\n\t\t\t\t\"label\": \"OMAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PK\",\n\t\t\t\t\"label\": \"PAKISTAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PW\",\n\t\t\t\t\"label\": \"PALAU\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PS\",\n\t\t\t\t\"label\": \"PALESTINIAN TERRITORY, OCCUPIED\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PA\",\n\t\t\t\t\"label\": \"PANAMA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PG\",\n\t\t\t\t\"label\": \"PAPUA NEW GUINEA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PY\",\n\t\t\t\t\"label\": \"PARAGUAY\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PE\",\n\t\t\t\t\"label\": \"PERU\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PH\",\n\t\t\t\t\"label\": \"PHILIPPINES\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PN\",\n\t\t\t\t\"label\": \"PITCAIRN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PL\",\n\t\t\t\t\"label\": \"POLAND\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PT\",\n\t\t\t\t\"label\": \"PORTUGAL\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PR\",\n\t\t\t\t\"label\": \"PUERTO RICO\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"QA\",\n\t\t\t\t\"label\": \"QATAR\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"RE\",\n\t\t\t\t\"label\": \"RUNION\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"RO\",\n\t\t\t\t\"label\": \"ROMANIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"RU\",\n\t\t\t\t\"label\": \"RUSSIAN FEDERATION\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"RW\",\n\t\t\t\t\"label\": \"RWANDA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"BL\",\n\t\t\t\t\"label\": \"SAINT BARTHLEMY\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SH\",\n\t\t\t\t\"label\": \"SAINT HELENA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"KN\",\n\t\t\t\t\"label\": \"SAINT KITTS AND NEVIS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"LC\",\n\t\t\t\t\"label\": \"SAINT LUCIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"MF\",\n\t\t\t\t\"label\": \"SAINT MARTIN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"PM\",\n\t\t\t\t\"label\": \"SAINT PIERRE AND MIQUELON\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"VC\",\n\t\t\t\t\"label\": \"SAINT VINCENT AND THE GRENADINES\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"WS\",\n\t\t\t\t\"label\": \"SAMOA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SM\",\n\t\t\t\t\"label\": \"SAN MARINO\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"ST\",\n\t\t\t\t\"label\": \"SAO TOME AND PRINCIPE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SA\",\n\t\t\t\t\"label\": \"SAUDI ARABIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SN\",\n\t\t\t\t\"label\": \"SENEGAL\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"RS\",\n\t\t\t\t\"label\": \"SERBIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SC\",\n\t\t\t\t\"label\": \"SEYCHELLES\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SL\",\n\t\t\t\t\"label\": \"SIERRA LEONE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SG\",\n\t\t\t\t\"label\": \"SINGAPORE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SK\",\n\t\t\t\t\"label\": \"SLOVAKIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SI\",\n\t\t\t\t\"label\": \"SLOVENIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SB\",\n\t\t\t\t\"label\": \"SOLOMON ISLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SO\",\n\t\t\t\t\"label\": \"SOMALIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"ZA\",\n\t\t\t\t\"label\": \"SOUTH AFRICA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GS\",\n\t\t\t\t\"label\": \"SOUTH GEORGIA AND THE SOUTH SANDWICH ISLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"ES\",\n\t\t\t\t\"label\": \"SPAIN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"LK\",\n\t\t\t\t\"label\": \"SRI LANKA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SD\",\n\t\t\t\t\"label\": \"SUDAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SR\",\n\t\t\t\t\"label\": \"SURINAME\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SJ\",\n\t\t\t\t\"label\": \"SVALBARD AND JAN MAYEN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SZ\",\n\t\t\t\t\"label\": \"SWAZILAND\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SE\",\n\t\t\t\t\"label\": \"SWEDEN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"CH\",\n\t\t\t\t\"label\": \"SWITZERLAND\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"SY\",\n\t\t\t\t\"label\": \"SYRIAN ARAB REPUBLIC\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TW\",\n\t\t\t\t\"label\": \"TAIWAN, PROVINCE OF CHINA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TJ\",\n\t\t\t\t\"label\": \"TAJIKISTAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TZ\",\n\t\t\t\t\"label\": \"TANZANIA, UNITED REPUBLIC OF\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TH\",\n\t\t\t\t\"label\": \"THAILAND\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TL\",\n\t\t\t\t\"label\": \"TIMOR-LESTE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TG\",\n\t\t\t\t\"label\": \"TOGO\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TK\",\n\t\t\t\t\"label\": \"TOKELAU\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TO\",\n\t\t\t\t\"label\": \"TONGA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TT\",\n\t\t\t\t\"label\": \"TRINIDAD AND TOBAGO\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TN\",\n\t\t\t\t\"label\": \"TUNISIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TR\",\n\t\t\t\t\"label\": \"TURKEY\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TM\",\n\t\t\t\t\"label\": \"TURKMENISTAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TC\",\n\t\t\t\t\"label\": \"TURKS AND CAICOS ISLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"TV\",\n\t\t\t\t\"label\": \"TUVALU\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"UG\",\n\t\t\t\t\"label\": \"UGANDA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"UA\",\n\t\t\t\t\"label\": \"UKRAINE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"AE\",\n\t\t\t\t\"label\": \"UNITED ARAB EMIRATES\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"GB\",\n\t\t\t\t\"label\": \"UNITED KINGDOM\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"US\",\n\t\t\t\t\"label\": \"UNITED STATES\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"UM\",\n\t\t\t\t\"label\": \"UNITED STATES MINOR OUTLYING ISLANDS\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"UY\",\n\t\t\t\t\"label\": \"URUGUAY\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"UZ\",\n\t\t\t\t\"label\": \"UZBEKISTAN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"VU\",\n\t\t\t\t\"label\": \"VANUATU\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"VA\",\n\t\t\t\t\"label\": \"VATICAN CITY STATE\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"VE\",\n\t\t\t\t\"label\": \"VENEZUELA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"VN\",\n\t\t\t\t\"label\": \"VIET NAM\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"VG\",\n\t\t\t\t\"label\": \"VIRGIN ISLANDS, BRITISH\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"VI\",\n\t\t\t\t\"label\": \"VIRGIN ISLANDS, U.S.\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"WF\",\n\t\t\t\t\"label\": \"WALLIS AND FUTUNA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"EH\",\n\t\t\t\t\"label\": \"WESTERN SAHARA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"YE\",\n\t\t\t\t\"label\": \"YEMEN\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"ZM\",\n\t\t\t\t\"label\": \"ZAMBIA\"\n\t\t\t});\n\t\t\tcountries.push(\n\t\t\t{\n\t\t\t\t\"value\": \"ZW\",\n\t\t\t\t\"label\": \"ZIMBABWE\"\n\t\t\t});\n\t\t\treturn countries;\n\t\t};\n\n\t\tservice.getEngFre = function getEngFre()\n\t\t{\n\t\t\tvar langs = [];\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"English\",\n\t\t\t\t\"label\": \"English\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"French\",\n\t\t\t\t\"label\": \"French\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Other\",\n\t\t\t\t\"label\": \"Other\"\n\t\t\t});\n\t\t\treturn langs;\n\t\t};\n\n\t\tservice.getSpokenLanguages = function getSpokenLanguages()\n\t\t{\n\t\t\tvar langs = [];\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"English\",\n\t\t\t\t\"label\": \"English\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"French\",\n\t\t\t\t\"label\": \"French\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Abkhazian\",\n\t\t\t\t\"label\": \"Abkhazian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Achinese\",\n\t\t\t\t\"label\": \"Achinese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Acoli\",\n\t\t\t\t\"label\": \"Acoli\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Adangme\",\n\t\t\t\t\"label\": \"Adangme\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Adyghe\",\n\t\t\t\t\"label\": \"Adyghe\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Afar\",\n\t\t\t\t\"label\": \"Afar\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Afrihili\",\n\t\t\t\t\"label\": \"Afrihili\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Afrikaans\",\n\t\t\t\t\"label\": \"Afrikaans\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Afro-Asiatic (Other)\",\n\t\t\t\t\"label\": \"Afro-Asiatic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ainu\",\n\t\t\t\t\"label\": \"Ainu\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Akan\",\n\t\t\t\t\"label\": \"Akan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Akkadian\",\n\t\t\t\t\"label\": \"Akkadian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Albanian\",\n\t\t\t\t\"label\": \"Albanian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Aleut\",\n\t\t\t\t\"label\": \"Aleut\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Algonquian Languages\",\n\t\t\t\t\"label\": \"Algonquian Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Altaic (Other)\",\n\t\t\t\t\"label\": \"Altaic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Amharic\",\n\t\t\t\t\"label\": \"Amharic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Angika\",\n\t\t\t\t\"label\": \"Angika\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Apache Languages\",\n\t\t\t\t\"label\": \"Apache Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Arabic\",\n\t\t\t\t\"label\": \"Arabic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Aramaic\",\n\t\t\t\t\"label\": \"Aramaic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Arapaho\",\n\t\t\t\t\"label\": \"Arapaho\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Araucanian\",\n\t\t\t\t\"label\": \"Araucanian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Arawak\",\n\t\t\t\t\"label\": \"Arawak\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Argonese\",\n\t\t\t\t\"label\": \"Argonese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Armenian\",\n\t\t\t\t\"label\": \"Armenian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Aromanian\",\n\t\t\t\t\"label\": \"Aromanian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Artificial (Other)\",\n\t\t\t\t\"label\": \"Artificial\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Assamese\",\n\t\t\t\t\"label\": \"Assamese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Asturian\",\n\t\t\t\t\"label\": \"Asturian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Athapascan Languages\",\n\t\t\t\t\"label\": \"Athapascan Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Australian Languages\",\n\t\t\t\t\"label\": \"Australian Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Austronesian (Other)\",\n\t\t\t\t\"label\": \"Austronesian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Avaric\",\n\t\t\t\t\"label\": \"Avaric\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Avestan\",\n\t\t\t\t\"label\": \"Avestan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Awadhi\",\n\t\t\t\t\"label\": \"Awadhi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Aymara\",\n\t\t\t\t\"label\": \"Aymara\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Azerbaijani\",\n\t\t\t\t\"label\": \"Azerbaijani\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Balinese\",\n\t\t\t\t\"label\": \"Balinese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Baltic (Other)\",\n\t\t\t\t\"label\": \"Baltic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Baluchi\",\n\t\t\t\t\"label\": \"Baluchi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bambara\",\n\t\t\t\t\"label\": \"Bambara\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bamileke Languages\",\n\t\t\t\t\"label\": \"Bamileke Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Banda\",\n\t\t\t\t\"label\": \"Banda\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bantu (Other)\",\n\t\t\t\t\"label\": \"Bantu\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Basa\",\n\t\t\t\t\"label\": \"Basa\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bashkir\",\n\t\t\t\t\"label\": \"Bashkir\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Basque\",\n\t\t\t\t\"label\": \"Basque\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Batak (Indonesia)\",\n\t\t\t\t\"label\": \"Batak (Indonesia)\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Beja\",\n\t\t\t\t\"label\": \"Beja\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Belarusian\",\n\t\t\t\t\"label\": \"Belarusian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bemba\",\n\t\t\t\t\"label\": \"Bemba\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bengali\",\n\t\t\t\t\"label\": \"Bengali\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Berber (Other)\",\n\t\t\t\t\"label\": \"Berber\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bhojpuri\",\n\t\t\t\t\"label\": \"Bhojpuri\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bihari\",\n\t\t\t\t\"label\": \"Bihari\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bikol\",\n\t\t\t\t\"label\": \"Bikol\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bini\",\n\t\t\t\t\"label\": \"Bini\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bislama\",\n\t\t\t\t\"label\": \"Bislama\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Blin\",\n\t\t\t\t\"label\": \"Blin\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bokmal, Norwegian\",\n\t\t\t\t\"label\": \"Bokmal, Norwegian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bosnian\",\n\t\t\t\t\"label\": \"Bosnian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Braj\",\n\t\t\t\t\"label\": \"Braj\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Breton\",\n\t\t\t\t\"label\": \"Breton\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Buginese\",\n\t\t\t\t\"label\": \"Buginese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Bulgarian\",\n\t\t\t\t\"label\": \"Bulgarian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Buriat\",\n\t\t\t\t\"label\": \"Buriat\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Burmese\",\n\t\t\t\t\"label\": \"Burmese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Caddo\",\n\t\t\t\t\"label\": \"Caddo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Cantonese\",\n\t\t\t\t\"label\": \"Cantonese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Carib\",\n\t\t\t\t\"label\": \"Carib\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Catalan\",\n\t\t\t\t\"label\": \"Catalan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Caucasian (Other)\",\n\t\t\t\t\"label\": \"Caucasian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Cebuano\",\n\t\t\t\t\"label\": \"Cebuano\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Celtic (Other)\",\n\t\t\t\t\"label\": \"Celtic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Central American Indian (Other)\",\n\t\t\t\t\"label\": \"Central American Indian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Chagatai\",\n\t\t\t\t\"label\": \"Chagatai\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Chamic Languages\",\n\t\t\t\t\"label\": \"Chamic Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Chamorro\",\n\t\t\t\t\"label\": \"Chamorro\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Chechen\",\n\t\t\t\t\"label\": \"Chechen\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Cherokee\",\n\t\t\t\t\"label\": \"Cherokee\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Cheyenne\",\n\t\t\t\t\"label\": \"Cheyenne\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Chibcha\",\n\t\t\t\t\"label\": \"Chibcha\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Chichewa\",\n\t\t\t\t\"label\": \"Chichewa\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Chinese\",\n\t\t\t\t\"label\": \"Chinese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Chinook Jargon\",\n\t\t\t\t\"label\": \"Chinook Jargon\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Chipewyan\",\n\t\t\t\t\"label\": \"Chipewyan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Choctaw\",\n\t\t\t\t\"label\": \"Choctaw\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Chuukese\",\n\t\t\t\t\"label\": \"Chuukese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Chuvash\",\n\t\t\t\t\"label\": \"Chuvash\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Classical Nepal Bhasa\",\n\t\t\t\t\"label\": \"Classical Nepal Bhasa\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Coptic\",\n\t\t\t\t\"label\": \"Coptic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Cornish\",\n\t\t\t\t\"label\": \"Cornish\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Corsican\",\n\t\t\t\t\"label\": \"Corsican\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Cree\",\n\t\t\t\t\"label\": \"Cree\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Creek\",\n\t\t\t\t\"label\": \"Creek\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Creoles And Pidgins (Other)\",\n\t\t\t\t\"label\": \"Creoles & Pidgins\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Creoles And Pidgins, English-Based (Other)\",\n\t\t\t\t\"label\": \"Creoles & Pidgins, ENG-Based\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Creoles And Pidgins, French-Based (Other)\",\n\t\t\t\t\"label\": \"Creoles & Pidgins, FRE-Based\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Creoles And Pidgins, Portuguese-Based (Other)\",\n\t\t\t\t\"label\": \"Creoles & Pidgins, POR-Based\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Crimean Tatar\",\n\t\t\t\t\"label\": \"Crimean Tatar\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Croatian\",\n\t\t\t\t\"label\": \"Croatian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Cushitic (Other)\",\n\t\t\t\t\"label\": \"Cushitic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Czech\",\n\t\t\t\t\"label\": \"Czech\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Dakota\",\n\t\t\t\t\"label\": \"Dakota\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Danish\",\n\t\t\t\t\"label\": \"Danish\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Dargwa\",\n\t\t\t\t\"label\": \"Dargwa\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Dayak\",\n\t\t\t\t\"label\": \"Dayak\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Delaware\",\n\t\t\t\t\"label\": \"Delaware\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Dhivehi\",\n\t\t\t\t\"label\": \"Dhivehi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Dinka\",\n\t\t\t\t\"label\": \"Dinka\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Dogri\",\n\t\t\t\t\"label\": \"Dogri\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Dogrib\",\n\t\t\t\t\"label\": \"Dogrib\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Dravidian (Other)\",\n\t\t\t\t\"label\": \"Dravidian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Duala\",\n\t\t\t\t\"label\": \"Duala\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Dutch\",\n\t\t\t\t\"label\": \"Dutch\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Dyula\",\n\t\t\t\t\"label\": \"Dyula\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Dzongkha\",\n\t\t\t\t\"label\": \"Dzongkha\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Eastern Frisian\",\n\t\t\t\t\"label\": \"Eastern Frisian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Efik\",\n\t\t\t\t\"label\": \"Efik\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Egyptian (Ancient)\",\n\t\t\t\t\"label\": \"Egyptian (Ancient)\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ekajuk\",\n\t\t\t\t\"label\": \"Ekajuk\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Elamite\",\n\t\t\t\t\"label\": \"Elamite\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Erzya\",\n\t\t\t\t\"label\": \"Erzya\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Esperanto\",\n\t\t\t\t\"label\": \"Esperanto\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Estonian\",\n\t\t\t\t\"label\": \"Estonian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ewe\",\n\t\t\t\t\"label\": \"Ewe\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ewondo\",\n\t\t\t\t\"label\": \"Ewondo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Fang\",\n\t\t\t\t\"label\": \"Fang\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Fanti\",\n\t\t\t\t\"label\": \"Fanti\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Faroese\",\n\t\t\t\t\"label\": \"Faroese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Fijian\",\n\t\t\t\t\"label\": \"Fijian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Filipino; Pilipino\",\n\t\t\t\t\"label\": \"Filipino; Pilipino\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Finnish\",\n\t\t\t\t\"label\": \"Finnish\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Finno-Ugrian (Other)\",\n\t\t\t\t\"label\": \"Finno-Ugrian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Fon\",\n\t\t\t\t\"label\": \"Fon\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Friulian\",\n\t\t\t\t\"label\": \"Friulian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Fulah\",\n\t\t\t\t\"label\": \"Fulah\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ga\",\n\t\t\t\t\"label\": \"Ga\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Gaelic\",\n\t\t\t\t\"label\": \"Gaelic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Gallegan\",\n\t\t\t\t\"label\": \"Gallegan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ganda\",\n\t\t\t\t\"label\": \"Ganda\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Gayo\",\n\t\t\t\t\"label\": \"Gayo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Gbaya\",\n\t\t\t\t\"label\": \"Gbaya\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Geez\",\n\t\t\t\t\"label\": \"Geez\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Georgian\",\n\t\t\t\t\"label\": \"Georgian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"German\",\n\t\t\t\t\"label\": \"German\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Germanic (Other)\",\n\t\t\t\t\"label\": \"Germanic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Gikuyu\",\n\t\t\t\t\"label\": \"Gikuyu\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Gilbertese\",\n\t\t\t\t\"label\": \"Gilbertese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Gondi\",\n\t\t\t\t\"label\": \"Gondi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Gorontalo\",\n\t\t\t\t\"label\": \"Gorontalo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Gothic\",\n\t\t\t\t\"label\": \"Gothic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Grebo\",\n\t\t\t\t\"label\": \"Grebo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Greek, Modern (1453-)\",\n\t\t\t\t\"label\": \"Greek, Modern (1453-)\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Guarani\",\n\t\t\t\t\"label\": \"Guarani\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Gujarati\",\n\t\t\t\t\"label\": \"Gujarati\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Gwich'in\",\n\t\t\t\t\"label\": \"Gwich'in\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Haida\",\n\t\t\t\t\"label\": \"Haida\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Haitian Creole\",\n\t\t\t\t\"label\": \"Haitian Creole\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Hausa\",\n\t\t\t\t\"label\": \"Hausa\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Hawaiian\",\n\t\t\t\t\"label\": \"Hawaiian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Hebrew\",\n\t\t\t\t\"label\": \"Hebrew\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Herero\",\n\t\t\t\t\"label\": \"Herero\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Hiligaynon\",\n\t\t\t\t\"label\": \"Hiligaynon\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Himachali\",\n\t\t\t\t\"label\": \"Himachali\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Hindi\",\n\t\t\t\t\"label\": \"Hindi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Hiri Motu\",\n\t\t\t\t\"label\": \"Hiri Motu\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Hittite\",\n\t\t\t\t\"label\": \"Hittite\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Hmong\",\n\t\t\t\t\"label\": \"Hmong\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Hungarian\",\n\t\t\t\t\"label\": \"Hungarian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Hupa\",\n\t\t\t\t\"label\": \"Hupa\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Iban\",\n\t\t\t\t\"label\": \"Iban\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Icelandic\",\n\t\t\t\t\"label\": \"Icelandic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ido\",\n\t\t\t\t\"label\": \"Ido\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Igbo\",\n\t\t\t\t\"label\": \"Igbo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ijo\",\n\t\t\t\t\"label\": \"Ijo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Iloko\",\n\t\t\t\t\"label\": \"Iloko\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Inari Sami\",\n\t\t\t\t\"label\": \"Inari Sami\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Indic (Other)\",\n\t\t\t\t\"label\": \"Indic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Indo-European (Other)\",\n\t\t\t\t\"label\": \"Indo-European\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Indonesian\",\n\t\t\t\t\"label\": \"Indonesian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ingush\",\n\t\t\t\t\"label\": \"Ingush\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Interlingua (International Auxiliary Lang. Assoc.)\",\n\t\t\t\t\"label\": \"Interlingua (IALA)\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Interlingue\",\n\t\t\t\t\"label\": \"Interlingue\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Inuktitut\",\n\t\t\t\t\"label\": \"Inuktitut\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Inupiaq\",\n\t\t\t\t\"label\": \"Inupiaq\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Iranian (Other)\",\n\t\t\t\t\"label\": \"Iranian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Irish\",\n\t\t\t\t\"label\": \"Irish\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Iroquoian Languages\",\n\t\t\t\t\"label\": \"Iroquoian Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Italian\",\n\t\t\t\t\"label\": \"Italian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Japanese\",\n\t\t\t\t\"label\": \"Japanese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Javanese\",\n\t\t\t\t\"label\": \"Javanese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Judeo-Arabic\",\n\t\t\t\t\"label\": \"Judeo-Arabic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Judeo-Persian\",\n\t\t\t\t\"label\": \"Judeo-Persian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kabardian\",\n\t\t\t\t\"label\": \"Kabardian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kabyle\",\n\t\t\t\t\"label\": \"Kabyle\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kachin\",\n\t\t\t\t\"label\": \"Kachin\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kalaallisut\",\n\t\t\t\t\"label\": \"Kalaallisut\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kalmyk\",\n\t\t\t\t\"label\": \"Kalmyk\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kamba\",\n\t\t\t\t\"label\": \"Kamba\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kannada\",\n\t\t\t\t\"label\": \"Kannada\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kanuri\",\n\t\t\t\t\"label\": \"Kanuri\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kara-Kalpak\",\n\t\t\t\t\"label\": \"Kara-Kalpak\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Karachay-Balkar\",\n\t\t\t\t\"label\": \"Karachay-Balkar\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Karelian\",\n\t\t\t\t\"label\": \"Karelian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Karen\",\n\t\t\t\t\"label\": \"Karen\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kashmiri\",\n\t\t\t\t\"label\": \"Kashmiri\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kashubian\",\n\t\t\t\t\"label\": \"Kashubian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kawi\",\n\t\t\t\t\"label\": \"Kawi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kazakh\",\n\t\t\t\t\"label\": \"Kazakh\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Khasi\",\n\t\t\t\t\"label\": \"Khasi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Khmer\",\n\t\t\t\t\"label\": \"Khmer\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Khoisan (Other)\",\n\t\t\t\t\"label\": \"Khoisan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Khotanese\",\n\t\t\t\t\"label\": \"Khotanese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kimbundu\",\n\t\t\t\t\"label\": \"Kimbundu\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kinyarwanda\",\n\t\t\t\t\"label\": \"Kinyarwanda\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kirghiz\",\n\t\t\t\t\"label\": \"Kirghiz\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Klingon\",\n\t\t\t\t\"label\": \"Klingon\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Komi\",\n\t\t\t\t\"label\": \"Komi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kongo\",\n\t\t\t\t\"label\": \"Kongo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Konkani\",\n\t\t\t\t\"label\": \"Konkani\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Korean\",\n\t\t\t\t\"label\": \"Korean\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kosraean\",\n\t\t\t\t\"label\": \"Kosraean\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kpelle\",\n\t\t\t\t\"label\": \"Kpelle\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kru\",\n\t\t\t\t\"label\": \"Kru\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kumyk\",\n\t\t\t\t\"label\": \"Kumyk\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kurdish\",\n\t\t\t\t\"label\": \"Kurdish\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kurukh\",\n\t\t\t\t\"label\": \"Kurukh\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kutenai\",\n\t\t\t\t\"label\": \"Kutenai\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Kwanyama\",\n\t\t\t\t\"label\": \"Kwanyama\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ladino\",\n\t\t\t\t\"label\": \"Ladino\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Lahnda\",\n\t\t\t\t\"label\": \"Lahnda\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Lamba\",\n\t\t\t\t\"label\": \"Lamba\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Lao\",\n\t\t\t\t\"label\": \"Lao\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Latin\",\n\t\t\t\t\"label\": \"Latin\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Latvian\",\n\t\t\t\t\"label\": \"Latvian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Lezghian\",\n\t\t\t\t\"label\": \"Lezghian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Limburgish\",\n\t\t\t\t\"label\": \"Limburgish\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Lingala\",\n\t\t\t\t\"label\": \"Lingala\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Lithuanian\",\n\t\t\t\t\"label\": \"Lithuanian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Lojban\",\n\t\t\t\t\"label\": \"Lojban\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Low German\",\n\t\t\t\t\"label\": \"Low German\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Lower Sorbian\",\n\t\t\t\t\"label\": \"Lower Sorbian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Lozi\",\n\t\t\t\t\"label\": \"Lozi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Luba-Katanga\",\n\t\t\t\t\"label\": \"Luba-Katanga\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Luba-Lulua\",\n\t\t\t\t\"label\": \"Luba-Lulua\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Luiseno\",\n\t\t\t\t\"label\": \"Luiseno\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Lule Sami\",\n\t\t\t\t\"label\": \"Lule Sami\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Lunda\",\n\t\t\t\t\"label\": \"Lunda\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Luo (Kenya And Tanzania)\",\n\t\t\t\t\"label\": \"Luo (Kenya & Tanzania)\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Lushai\",\n\t\t\t\t\"label\": \"Lushai\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Luxembourgish\",\n\t\t\t\t\"label\": \"Luxembourgish\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Macedonian\",\n\t\t\t\t\"label\": \"Macedonian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Madurese\",\n\t\t\t\t\"label\": \"Madurese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Magahi\",\n\t\t\t\t\"label\": \"Magahi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Maithili\",\n\t\t\t\t\"label\": \"Maithili\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Makasar\",\n\t\t\t\t\"label\": \"Makasar\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Malagasy\",\n\t\t\t\t\"label\": \"Malagasy\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Malay\",\n\t\t\t\t\"label\": \"Malay\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Malayalam\",\n\t\t\t\t\"label\": \"Malayalam\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Maltese\",\n\t\t\t\t\"label\": \"Maltese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Manchu\",\n\t\t\t\t\"label\": \"Manchu\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Mandar\",\n\t\t\t\t\"label\": \"Mandar\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Mandarin\",\n\t\t\t\t\"label\": \"Mandarin\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Mandingo\",\n\t\t\t\t\"label\": \"Mandingo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Manipuri\",\n\t\t\t\t\"label\": \"Manipuri\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Manobo Languages\",\n\t\t\t\t\"label\": \"Manobo Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Manx\",\n\t\t\t\t\"label\": \"Manx\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Maori\",\n\t\t\t\t\"label\": \"Maori\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Marathi\",\n\t\t\t\t\"label\": \"Marathi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Mari\",\n\t\t\t\t\"label\": \"Mari\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Marshall\",\n\t\t\t\t\"label\": \"Marshall\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Marwari\",\n\t\t\t\t\"label\": \"Marwari\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Masai\",\n\t\t\t\t\"label\": \"Masai\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Mayan Languages\",\n\t\t\t\t\"label\": \"Mayan Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Mende\",\n\t\t\t\t\"label\": \"Mende\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Micmac\",\n\t\t\t\t\"label\": \"Micmac\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Minangkabau\",\n\t\t\t\t\"label\": \"Minangkabau\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Mirandese\",\n\t\t\t\t\"label\": \"Mirandese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Miscellaneous Languages\",\n\t\t\t\t\"label\": \"Miscellaneous Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Mohawk\",\n\t\t\t\t\"label\": \"Mohawk\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Moksha\",\n\t\t\t\t\"label\": \"Moksha\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Moldavian\",\n\t\t\t\t\"label\": \"Moldavian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Mon-Khmer (Other)\",\n\t\t\t\t\"label\": \"Mon-Khmer\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Mongo\",\n\t\t\t\t\"label\": \"Mongo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Mongolian\",\n\t\t\t\t\"label\": \"Mongolian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Mossi\",\n\t\t\t\t\"label\": \"Mossi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Multiple Languages\",\n\t\t\t\t\"label\": \"Multiple Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Munda Languages\",\n\t\t\t\t\"label\": \"Munda Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"N'Ko\",\n\t\t\t\t\"label\": \"N'Ko\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Nahuatl\",\n\t\t\t\t\"label\": \"Nahuatl\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Nauru\",\n\t\t\t\t\"label\": \"Nauru\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Navajo\",\n\t\t\t\t\"label\": \"Navajo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ndonga\",\n\t\t\t\t\"label\": \"Ndonga\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Neapolitan\",\n\t\t\t\t\"label\": \"Neapolitan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Nepal Bhasa\",\n\t\t\t\t\"label\": \"Nepal Bhasa\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Nepali\",\n\t\t\t\t\"label\": \"Nepali\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Nias\",\n\t\t\t\t\"label\": \"Nias\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Niger-Kordofanian (Other)\",\n\t\t\t\t\"label\": \"Niger-Kordofanian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Nilo-Saharan (Other)\",\n\t\t\t\t\"label\": \"Nilo-Saharan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Niuean\",\n\t\t\t\t\"label\": \"Niuean\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Nogai\",\n\t\t\t\t\"label\": \"Nogai\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Norse, Old\",\n\t\t\t\t\"label\": \"Norse, Old\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"North American Indian (Other)\",\n\t\t\t\t\"label\": \"North American Indian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"North Ndebele\",\n\t\t\t\t\"label\": \"North Ndebele\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Northern Frisian\",\n\t\t\t\t\"label\": \"Northern Frisian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Northern Sami\",\n\t\t\t\t\"label\": \"Northern Sami\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Northern Sotho\",\n\t\t\t\t\"label\": \"Northern Sotho\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Norwegian\",\n\t\t\t\t\"label\": \"Norwegian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Norwegian Nynorsk\",\n\t\t\t\t\"label\": \"Norwegian Nynorsk\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Nubian Languages\",\n\t\t\t\t\"label\": \"Nubian Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Nyamwezi\",\n\t\t\t\t\"label\": \"Nyamwezi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Nyankole\",\n\t\t\t\t\"label\": \"Nyankole\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Nyoro\",\n\t\t\t\t\"label\": \"Nyoro\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Nzima\",\n\t\t\t\t\"label\": \"Nzima\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Occitan (Post 1500)\",\n\t\t\t\t\"label\": \"Occitan (Post 1500)\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ojibwa\",\n\t\t\t\t\"label\": \"Ojibwa\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Old Church Slavonic\",\n\t\t\t\t\"label\": \"Old Church Slavonic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Oriya\",\n\t\t\t\t\"label\": \"Oriya\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Oromo\",\n\t\t\t\t\"label\": \"Oromo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Osage\",\n\t\t\t\t\"label\": \"Osage\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ossetic\",\n\t\t\t\t\"label\": \"Ossetic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Otomian Languages\",\n\t\t\t\t\"label\": \"Otomian Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Pahlavi\",\n\t\t\t\t\"label\": \"Pahlavi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Palauan\",\n\t\t\t\t\"label\": \"Palauan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Pali\",\n\t\t\t\t\"label\": \"Pali\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Pampanga\",\n\t\t\t\t\"label\": \"Pampanga\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Pangasinan\",\n\t\t\t\t\"label\": \"Pangasinan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Papiamento\",\n\t\t\t\t\"label\": \"Papiamento\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Papuan (Other)\",\n\t\t\t\t\"label\": \"Papuan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Persian\",\n\t\t\t\t\"label\": \"Persian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Philippine (Other)\",\n\t\t\t\t\"label\": \"Philippine\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Phoenician\",\n\t\t\t\t\"label\": \"Phoenician\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Pohnpeian\",\n\t\t\t\t\"label\": \"Pohnpeian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Polish\",\n\t\t\t\t\"label\": \"Polish\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Portuguese\",\n\t\t\t\t\"label\": \"Portuguese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Prakrit Languages\",\n\t\t\t\t\"label\": \"Prakrit Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Punjabi\",\n\t\t\t\t\"label\": \"Punjabi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Pushto\",\n\t\t\t\t\"label\": \"Pushto\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Quechua\",\n\t\t\t\t\"label\": \"Quechua\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Raeto-Romance\",\n\t\t\t\t\"label\": \"Raeto-Romance\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Rajasthani\",\n\t\t\t\t\"label\": \"Rajasthani\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Rapanui\",\n\t\t\t\t\"label\": \"Rapanui\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Rarotongan\",\n\t\t\t\t\"label\": \"Rarotongan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Romance (Other)\",\n\t\t\t\t\"label\": \"Romance\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Romanian\",\n\t\t\t\t\"label\": \"Romanian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Romany\",\n\t\t\t\t\"label\": \"Romany\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Rundi\",\n\t\t\t\t\"label\": \"Rundi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Russian\",\n\t\t\t\t\"label\": \"Russian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Salishan Languages\",\n\t\t\t\t\"label\": \"Salishan Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Samaritan Aramaic\",\n\t\t\t\t\"label\": \"Samaritan Aramaic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sami Languages\",\n\t\t\t\t\"label\": \"Sami Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Samoan\",\n\t\t\t\t\"label\": \"Samoan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sandawe\",\n\t\t\t\t\"label\": \"Sandawe\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sango\",\n\t\t\t\t\"label\": \"Sango\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sanskrit\",\n\t\t\t\t\"label\": \"Sanskrit\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Santali\",\n\t\t\t\t\"label\": \"Santali\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sardinian\",\n\t\t\t\t\"label\": \"Sardinian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sasak\",\n\t\t\t\t\"label\": \"Sasak\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Scots\",\n\t\t\t\t\"label\": \"Scots\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Selkup\",\n\t\t\t\t\"label\": \"Selkup\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Semitic (Other)\",\n\t\t\t\t\"label\": \"Semitic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Serbian\",\n\t\t\t\t\"label\": \"Serbian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Serer\",\n\t\t\t\t\"label\": \"Serer\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Shan\",\n\t\t\t\t\"label\": \"Shan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Shona\",\n\t\t\t\t\"label\": \"Shona\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sichuan Yi\",\n\t\t\t\t\"label\": \"Sichuan Yi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sicilian\",\n\t\t\t\t\"label\": \"Sicilian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sidamo\",\n\t\t\t\t\"label\": \"Sidamo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sign Languages\",\n\t\t\t\t\"label\": \"Sign Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Siksika\",\n\t\t\t\t\"label\": \"Siksika\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sindhi\",\n\t\t\t\t\"label\": \"Sindhi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sinhalese\",\n\t\t\t\t\"label\": \"Sinhalese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sino-Tibetan (Other)\",\n\t\t\t\t\"label\": \"Sino-Tibetan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Siouan Languages\",\n\t\t\t\t\"label\": \"Siouan Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Skolt Sami\",\n\t\t\t\t\"label\": \"Skolt Sami\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Slave (Athapascan)\",\n\t\t\t\t\"label\": \"Slave (Athapascan)\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Slavic (Other)\",\n\t\t\t\t\"label\": \"Slavic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Slovak\",\n\t\t\t\t\"label\": \"Slovak\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Slovenian\",\n\t\t\t\t\"label\": \"Slovenian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sogdian\",\n\t\t\t\t\"label\": \"Sogdian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Somali\",\n\t\t\t\t\"label\": \"Somali\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Songhai\",\n\t\t\t\t\"label\": \"Songhai\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Soninke\",\n\t\t\t\t\"label\": \"Soninke\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sorbian Languages\",\n\t\t\t\t\"label\": \"Sorbian Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sotho, Southern\",\n\t\t\t\t\"label\": \"Sotho, Southern\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"South American Indian (Other)\",\n\t\t\t\t\"label\": \"South American Indian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"South Ndebele\",\n\t\t\t\t\"label\": \"South Ndebele\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Southern Altai\",\n\t\t\t\t\"label\": \"Southern Altai\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Southern Sami\",\n\t\t\t\t\"label\": \"Southern Sami\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Spanish; Castilian\",\n\t\t\t\t\"label\": \"Spanish; Castilian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sranan Togo\",\n\t\t\t\t\"label\": \"Sranan Togo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sukuma\",\n\t\t\t\t\"label\": \"Sukuma\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sumerian\",\n\t\t\t\t\"label\": \"Sumerian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Sundanese\",\n\t\t\t\t\"label\": \"Sundanese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Susu\",\n\t\t\t\t\"label\": \"Susu\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Swahili\",\n\t\t\t\t\"label\": \"Swahili\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Swati\",\n\t\t\t\t\"label\": \"Swati\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Swedish\",\n\t\t\t\t\"label\": \"Swedish\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Swiss German\",\n\t\t\t\t\"label\": \"Swiss German\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Syriac\",\n\t\t\t\t\"label\": \"Syriac\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tagalog\",\n\t\t\t\t\"label\": \"Tagalog\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tahitian\",\n\t\t\t\t\"label\": \"Tahitian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tai (Other)\",\n\t\t\t\t\"label\": \"Tai\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tajik\",\n\t\t\t\t\"label\": \"Tajik\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tamashek\",\n\t\t\t\t\"label\": \"Tamashek\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tamil\",\n\t\t\t\t\"label\": \"Tamil\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tatar\",\n\t\t\t\t\"label\": \"Tatar\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Telugu\",\n\t\t\t\t\"label\": \"Telugu\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tereno\",\n\t\t\t\t\"label\": \"Tereno\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tetum\",\n\t\t\t\t\"label\": \"Tetum\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Thai\",\n\t\t\t\t\"label\": \"Thai\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tibetan\",\n\t\t\t\t\"label\": \"Tibetan\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tigre\",\n\t\t\t\t\"label\": \"Tigre\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tigrinya\",\n\t\t\t\t\"label\": \"Tigrinya\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Timne\",\n\t\t\t\t\"label\": \"Timne\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tiv\",\n\t\t\t\t\"label\": \"Tiv\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tlingit\",\n\t\t\t\t\"label\": \"Tlingit\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tok Pisin\",\n\t\t\t\t\"label\": \"Tok Pisin\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tokelau\",\n\t\t\t\t\"label\": \"Tokelau\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tonga (Nyasa)\",\n\t\t\t\t\"label\": \"Tonga (Nyasa)\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tonga (Tonga Islands)\",\n\t\t\t\t\"label\": \"Tonga (Tonga Islands)\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tsimshian\",\n\t\t\t\t\"label\": \"Tsimshian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tsonga\",\n\t\t\t\t\"label\": \"Tsonga\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tswana\",\n\t\t\t\t\"label\": \"Tswana\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tumbuka\",\n\t\t\t\t\"label\": \"Tumbuka\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tupi Languages\",\n\t\t\t\t\"label\": \"Tupi Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Turkish\",\n\t\t\t\t\"label\": \"Turkish\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Turkmen\",\n\t\t\t\t\"label\": \"Turkmen\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tuvalu\",\n\t\t\t\t\"label\": \"Tuvalu\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Tuvinian\",\n\t\t\t\t\"label\": \"Tuvinian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Twi\",\n\t\t\t\t\"label\": \"Twi\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Udmurt\",\n\t\t\t\t\"label\": \"Udmurt\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ugaritic\",\n\t\t\t\t\"label\": \"Ugaritic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Ukrainian\",\n\t\t\t\t\"label\": \"Ukrainian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Umbundu\",\n\t\t\t\t\"label\": \"Umbundu\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Undetermined\",\n\t\t\t\t\"label\": \"Undetermined\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Upper Sorbian\",\n\t\t\t\t\"label\": \"Upper Sorbian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Urdu\",\n\t\t\t\t\"label\": \"Urdu\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Uyghur\",\n\t\t\t\t\"label\": \"Uyghur\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Uzbek\",\n\t\t\t\t\"label\": \"Uzbek\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Vai\",\n\t\t\t\t\"label\": \"Vai\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Venda\",\n\t\t\t\t\"label\": \"Venda\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Vietnamese\",\n\t\t\t\t\"label\": \"Vietnamese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Volapuk\",\n\t\t\t\t\"label\": \"Volapuk\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Votic\",\n\t\t\t\t\"label\": \"Votic\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Wakashan Languages\",\n\t\t\t\t\"label\": \"Wakashan Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Walamo\",\n\t\t\t\t\"label\": \"Walamo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Walloon\",\n\t\t\t\t\"label\": \"Walloon\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Waray\",\n\t\t\t\t\"label\": \"Waray\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Washo\",\n\t\t\t\t\"label\": \"Washo\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Welsh\",\n\t\t\t\t\"label\": \"Welsh\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Western Frisian\",\n\t\t\t\t\"label\": \"Western Frisian\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Wolof\",\n\t\t\t\t\"label\": \"Wolof\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Xhosa\",\n\t\t\t\t\"label\": \"Xhosa\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Yakut\",\n\t\t\t\t\"label\": \"Yakut\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Yao\",\n\t\t\t\t\"label\": \"Yao\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Yapese\",\n\t\t\t\t\"label\": \"Yapese\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Yiddish\",\n\t\t\t\t\"label\": \"Yiddish\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Yoruba\",\n\t\t\t\t\"label\": \"Yoruba\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Yupik Languages\",\n\t\t\t\t\"label\": \"Yupik Languages\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Zande\",\n\t\t\t\t\"label\": \"Zande\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Zapotec\",\n\t\t\t\t\"label\": \"Zapotec\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Zazaki\",\n\t\t\t\t\"label\": \"Zazaki\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Zenaga\",\n\t\t\t\t\"label\": \"Zenaga\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Zhuang\",\n\t\t\t\t\"label\": \"Zhuang\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Zulu\",\n\t\t\t\t\"label\": \"Zulu\"\n\t\t\t});\n\t\t\tlangs.push(\n\t\t\t{\n\t\t\t\t\"value\": \"Zuni\",\n\t\t\t\t\"label\": \"Zuni\"\n\t\t\t});\n\t\t\treturn langs;\n\t\t};\n\n\t\tservice.getRosterTerminationReasons = function getRosterTerminationReasons()\n\t\t{\n\t\t\tvar reasons = [];\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"39\",\n\t\t\t\t\"label\": \"Assigned member status ended; roster transferred per physician request\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"59\",\n\t\t\t\t\"label\": \"Enrolment ended; patient out of geographic area\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"57\",\n\t\t\t\t\"label\": \"Enrolment terminated by patient\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"12\",\n\t\t\t\t\"label\": \"Health Number error\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"38\",\n\t\t\t\t\"label\": \"Long Term Care enrolment ended; patient has left Long Term Care\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"82\",\n\t\t\t\t\"label\": \"Ministry has not received enrolment/ Consent form\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"60\",\n\t\t\t\t\"label\": \"No current eligibility\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"73\",\n\t\t\t\t\"label\": \"No current eligibility\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"74\",\n\t\t\t\t\"label\": \"No current eligibility\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"37\",\n\t\t\t\t\"label\": \"Original enrolment ended; patient now enrolled as Long Term Care\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"36\",\n\t\t\t\t\"label\": \"Original enrolment ended; patient now re-enroled\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"24\",\n\t\t\t\t\"label\": \"Patient added to roster in error\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"14\",\n\t\t\t\t\"label\": \"Patient identified as deceased on ministry database\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"51\",\n\t\t\t\t\"label\": \"Patient no longer meets selection criteria for your roster\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"41\",\n\t\t\t\t\"label\": \"Patient no longer meets selection criteria for your roster - assigned to another physician\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"61\",\n\t\t\t\t\"label\": \"Patient out of geographic area; address over-ride applied\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"62\",\n\t\t\t\t\"label\": \"Patient out of geographic area; address over-ride removed\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"35\",\n\t\t\t\t\"label\": \"Patient transferred from roster per physician request\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"42\",\n\t\t\t\t\"label\": \"Physician ended enrolment; patient entered Long Term Care facility\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"54\",\n\t\t\t\t\"label\": \"Physician ended enrolment; patient left province\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"53\",\n\t\t\t\t\"label\": \"Physician ended enrolment; patient moved out of geographic area\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"56\",\n\t\t\t\t\"label\": \"Physician ended enrolment; per patient request\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"44\",\n\t\t\t\t\"label\": \"Physician ended patient enrolment\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"40\",\n\t\t\t\t\"label\": \"Physician reported member as deceased\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"32\",\n\t\t\t\t\"label\": \"Pre-member/ Assigned member ended; now enrolled or registered with photo health card\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"30\",\n\t\t\t\t\"label\": \"Pre-member/ Assigned member ended; now enrolled or registered with red and white health card\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"33\",\n\t\t\t\t\"label\": \"Termination reason cannot be released (due to patient confidentiality)\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"84\",\n\t\t\t\t\"label\": \"Termination reason cannot be released (due to patient confidentiality)\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"90\",\n\t\t\t\t\"label\": \"Termination reason cannot be released (due to patient confidentiality)\"\n\t\t\t});\n\t\t\treasons.push(\n\t\t\t{\n\t\t\t\t\"value\": \"91\",\n\t\t\t\t\"label\": \"Termination reason cannot be released (due to patient confidentiality)\"\n\t\t\t});\n\t\t\treturn reasons;\n\t\t};\n\n\t\tservice.getSecurityQuestions = function getSecurityQuestions()\n\t\t{\n\t\t\tvar questions = [];\n\t\t\tquestions.push(\n\t\t\t{\n\t\t\t\t\"value\": \"What was the name of your high school?\",\n\t\t\t\t\"label\": \"What was the name of your high school?\"\n\t\t\t});\n\t\t\tquestions.push(\n\t\t\t{\n\t\t\t\t\"value\": \"What is your spouse's maiden name?\",\n\t\t\t\t\"label\": \"What is your spouse's maiden name?\"\n\t\t\t});\n\t\t\tquestions.push(\n\t\t\t{\n\t\t\t\t\"value\": \"What is the name of the street you grew up on?\",\n\t\t\t\t\"label\": \"What is the name of the street you grew up on?\"\n\t\t\t});\n\t\t\tquestions.push(\n\t\t\t{\n\t\t\t\t\"value\": \"In what city were you born?\",\n\t\t\t\t\"label\": \"In what city were you born?\"\n\t\t\t});\n\t\t\tquestions.push(\n\t\t\t{\n\t\t\t\t\"value\": \"What is the middle name of your oldest child?\",\n\t\t\t\t\"label\": \"What is the middle name of your oldest child?\"\n\t\t\t});\n\t\t\tquestions.push(\n\t\t\t{\n\t\t\t\t\"value\": \"What is your oldest cousin's first name?\",\n\t\t\t\t\"label\": \"What is your oldest cousin's first name?\"\n\t\t\t});\n\t\t\tquestions.push(\n\t\t\t{\n\t\t\t\t\"value\": \"What is your mother's middle name?\",\n\t\t\t\t\"label\": \"What is your mother's middle name?\"\n\t\t\t});\n\t\t\tquestions.push(\n\t\t\t{\n\t\t\t\t\"value\": \"What is your grandmother's first name?\",\n\t\t\t\t\"label\": \"What is your grandmother's first name?\"\n\t\t\t});\n\t\t\tquestions.push(\n\t\t\t{\n\t\t\t\t\"value\": \"What year did you graduate from high school?\",\n\t\t\t\t\"label\": \"What year did you graduate from high school?\"\n\t\t\t});\n\t\t\treturn questions;\n\t\t};\n\n\t\tservice.getConsultUrgencies = function getConsultUrgencies()\n\t\t{\n\t\t\tvar urgencies = [];\n\t\t\turgencies.push(\n\t\t\t{\n\t\t\t\tvalue: \"2\",\n\t\t\t\tname: \"Non-Urgent\"\n\t\t\t});\n\t\t\turgencies.push(\n\t\t\t{\n\t\t\t\tvalue: \"1\",\n\t\t\t\tname: \"Urgent\"\n\t\t\t});\n\t\t\turgencies.push(\n\t\t\t{\n\t\t\t\tvalue: \"3\",\n\t\t\t\tname: \"Return\"\n\t\t\t});\n\t\t\treturn urgencies;\n\t\t};\n\n\t\tservice.getConsultRequestStatuses = function getConsultRequestStatuses()\n\t\t{\n\t\t\tvar statuses = [];\n\t\t\tstatuses.push(\n\t\t\t{\n\t\t\t\tvalue: \"1\",\n\t\t\t\tname: \"Not Complete\"\n\t\t\t});\n\t\t\tstatuses.push(\n\t\t\t{\n\t\t\t\tvalue: \"2\",\n\t\t\t\tname: \"Preliminary Pending Specialist\"\n\t\t\t});\n\t\t\tstatuses.push(\n\t\t\t{\n\t\t\t\tvalue: \"3\",\n\t\t\t\tname: \"Pending Callback\"\n\t\t\t});\n\t\t\tstatuses.push(\n\t\t\t{\n\t\t\t\tvalue: \"4\",\n\t\t\t\tname: \"Completed\"\n\t\t\t});\n\t\t\tstatuses.push(\n\t\t\t{\n\t\t\t\tvalue: \"5\",\n\t\t\t\tname: \"Cancelled\"\n\t\t\t});\n\t\t\tstatuses.push(\n\t\t\t{\n\t\t\t\tvalue: \"6\",\n\t\t\t\tname: \"Appointment Booked\"\n\t\t\t});\n\t\t\tstatuses.push(\n\t\t\t{\n\t\t\t\tvalue: \"7\",\n\t\t\t\tname: \"Deleted\"\n\t\t\t});\n\t\t\treturn statuses;\n\t\t};\n\n\t\tservice.getConsultResponseStatuses = function getConsultResponseStatuses()\n\t\t{\n\t\t\tvar statuses = [];\n\t\t\tstatuses.push(\n\t\t\t{\n\t\t\t\tvalue: 1,\n\t\t\t\tname: \"Not Complete\"\n\t\t\t});\n\t\t\tstatuses.push(\n\t\t\t{\n\t\t\t\tvalue: 2,\n\t\t\t\tname: \"Pending Referring Doctor Callback\"\n\t\t\t});\n\t\t\tstatuses.push(\n\t\t\t{\n\t\t\t\tvalue: 3,\n\t\t\t\tname: \"Pending Patient Callback\"\n\t\t\t});\n\t\t\tstatuses.push(\n\t\t\t{\n\t\t\t\tvalue: 4,\n\t\t\t\tname: \"Completed\"\n\t\t\t});\n\t\t\tstatuses.push(\n\t\t\t{\n\t\t\t\tvalue: 5,\n\t\t\t\tname: \"Cancelled\"\n\t\t\t});\n\t\t\treturn statuses;\n\t\t};\n\n\t\tservice.getHours = function getHours()\n\t\t{\n\t\t\treturn [\"00\", \"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\",\n\t\t\t\t\"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\"\n\t\t\t];\n\t\t};\n\n\t\tservice.getMinutes = function getMinutes()\n\t\t{\n\t\t\treturn [\"00\", \"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\",\n\t\t\t\t\"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\",\n\t\t\t\t\"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\",\n\t\t\t\t\"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \"40\",\n\t\t\t\t\"41\", \"42\", \"43\", \"44\", \"45\", \"46\", \"47\", \"48\", \"49\", \"50\",\n\t\t\t\t\"51\", \"52\", \"53\", \"54\", \"55\", \"56\", \"57\", \"58\", \"59\"\n\t\t\t];\n\t\t};\n\n\t\tservice.getRxInteractionLevels = function getRxInteractionLevels()\n\t\t{\n\t\t\tvar levels = [];\n\t\t\tlevels.push(\n\t\t\t{\n\t\t\t\tvalue: 0,\n\t\t\t\tname: \"Not Specified\"\n\t\t\t});\n\t\t\tlevels.push(\n\t\t\t{\n\t\t\t\tvalue: 1,\n\t\t\t\tname: \"Low\"\n\t\t\t});\n\t\t\tlevels.push(\n\t\t\t{\n\t\t\t\tvalue: 2,\n\t\t\t\tname: \"Medium\"\n\t\t\t});\n\t\t\tlevels.push(\n\t\t\t{\n\t\t\t\tvalue: 3,\n\t\t\t\tname: \"High\"\n\t\t\t});\n\t\t\tlevels.push(\n\t\t\t{\n\t\t\t\tvalue: 4,\n\t\t\t\tname: \"None\"\n\t\t\t});\n\t\t\treturn levels;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"securityService\", [\n\t'$http', '$q',\n\tfunction($http, $q)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/';\n\n\t\tservice.user = null;\n\n\t\tservice.getUser = function getUser()\n\t\t{\n\t\t\treturn service.user;\n\t\t};\n\n\t\tservice.setUser = function setUser(u)\n\t\t{\n\t\t\tservice.user = u;\n\t\t};\n\n\t\tservice.hasRight = function hasRight(objectName, privilege, demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar url = service.apiPath + 'persona/hasRight?objectName=' +\n\t\t\t\tencodeURIComponent(objectName) +\n\t\t\t\t'&privilege=' +\n\t\t\t\tencodeURIComponent(privilege) +\n\t\t\t\t'&demographicNo=' +\n\t\t\t\tencodeURIComponent(demographicNo);\n\n\t\t\t$http.get(url, service.configHeadersWithCache).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data.success);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"securityService::hasRight error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while fetching access right\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.hasRights = function hasRights(listOfItems)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + 'persona/hasRights',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: JSON.stringify(listOfItems),\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"securityService::hasRights error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while fetching access rights\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.isAllowedAccessToPatientRecord = function isAllowedAccessToPatientRecord(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + 'persona/isAllowedAccessToPatientRecord',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: JSON.stringify(\n\t\t\t\t{\n\t\t\t\t\t\"demographicNo\": demographicNo\n\t\t\t\t}),\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"securityService::isAllowedAccessToPatientRecord error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while fetching access rights\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.has_one_of_permissions = function has_one_of_permissions(permission_array)\n\t\t{\n\t\t\treturn true;\n\t\t};\n\n\t\tservice.has_permission = function has_permission(permission)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"scheduleService\", [\n\t'$http',\n\t'$q',\n\t'junoHttp',\n\n\tfunction(\n\t\t$http,\n\t\t$q,\n\t\tjunoHttp\n\t)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/';\n\n\t\tservice.getStatuses = function getStatuses()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + 'schedule/statuses',\n\t\t\t\tservice.configHeadersWithCache).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::getStatuses error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while fetching statuses\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getTypes = function getTypes()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + 'schedule/types',\n\t\t\t\tJuno.Common.ServiceHelper.configHeadersWithCache()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::getStatuses error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while fetching types\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getAppointments = function getAppointments(day)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + 'schedule/day/' +\n\t\t\t\tencodeURIComponent(day)).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::getAppointments error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting appointments\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.addAppointment = function addAppointment(appointment)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + 'schedule/add',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: JSON.stringify(appointment),\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::addAppointment error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while saving appointment\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getAppointment = function getAppointment(apptNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + 'schedule/getAppointment',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata:\n\t\t\t\t{\n\t\t\t\t\t'id': apptNo\n\t\t\t\t},\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data.appointment);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::getAppointment error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting appointment\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.deleteAppointment = function deleteAppointment(apptNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + 'schedule/deleteAppointment',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata:\n\t\t\t\t{\n\t\t\t\t\t'id': apptNo\n\t\t\t\t},\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::deleteAppointment error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while deleting appointment\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.appointmentHistory = function appointmentHistory(demoNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + 'schedule/' +\n\t\t\t\t\tencodeURIComponent(demoNo) + \"/appointmentHistory\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::appointmentHistory error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting appointment history\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.cancelAppointment = function cancelAppointment(apptNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + 'schedule/appointment/' +\n\t\t\t\t\tencodeURIComponent(apptNo) + \"/updateStatus\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata:\n\t\t\t\t{\n\t\t\t\t\tstatus: 'C'\n\t\t\t\t},\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::cancelAppointment error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while cancelling appointment\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.noShowAppointment = function noShowAppointment(apptNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + 'schedule/appointment/' +\n\t\t\t\t\tencodeURIComponent(apptNo) + \"/updateStatus\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata:\n\t\t\t\t{\n\t\t\t\t\tstatus: 'N'\n\t\t\t\t},\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::noShowAppointment error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while setting no show appointment\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getScheduleGroups = function getScheduleGroups()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tjunoHttp.get(\n\t\t\t\tservice.apiPath + 'schedule/groups',\n\t\t\t\t{headers: Juno.Common.ServiceHelper.configHeaders()}\n\t\t\t).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::getScheduleGroups error\", errors);\n\t\t\t\t\tdeferred.reject();\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getSchedulesForCalendar = function getSchedulesForCalendar(\n\t\t\tproviderId,\n\t\t\tstartDate,\n\t\t\tendDate,\n\t\t\tsiteName\n\t\t)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar url = service.apiPath + 'schedule/calendar/';\n\t\t\turl += encodeURIComponent(providerId) + '/';\n\t\t\turl += '?startDate=' + encodeURIComponent(startDate);\n\t\t\turl += '&endDate=' + encodeURIComponent(endDate);\n\n\t\t\tif(siteName != null)\n\t\t\t{\n\t\t\t\turl += '&site=' + encodeURIComponent(siteName);\n\t\t\t}\n\n\t\t\tjunoHttp.get(\n\t\t\t\turl,\n\t\t\t\t{headers: Juno.Common.ServiceHelper.configHeaders()}\n\t\t\t).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::getSchedulesForCalendar error\", errors);\n\t\t\t\t\tdeferred.reject();\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getScheduleTemplateCodes = function getAvailabilityCodes()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tjunoHttp.get(\n\t\t\t\tservice.apiPath + 'schedule/templateCodes',\n\t\t\t\t{headers: Juno.Common.ServiceHelper.configHeaders()}\n\t\t\t).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::getAvailabilityTypes error\", errors);\n\t\t\t\t\tdeferred.reject();\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getAppointmentStatuses = function getAppointmentStatuses()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tjunoHttp.get(\n\t\t\t\tservice.apiPath + 'schedule/calendar/statuses',\n\t\t\t\t{headers: Juno.Common.ServiceHelper.configHeaders()}\n\t\t\t).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::getAppointmentStatuses error\", errors);\n\t\t\t\t\tdeferred.reject();\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getSites = function getSites()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tjunoHttp.get(\n\t\t\t\tservice.apiPath + 'sites',\n\t\t\t\t{headers: Juno.Common.ServiceHelper.configHeaders()}\n\t\t\t).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"scheduleService::getSites error\", errors);\n\t\t\t\t\tdeferred.reject();\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"resultsService\", [\n\tfunction()\n\t{\n\t\tvar service = {};\n\n\t\t/*************************************************************/\n\t\t// Factory\n\t\t// @param {results_hash} Result hash from Clinicaid API\n\t\t// @param {meta_hash} Meta info hash from Clinicaid API\n\t\t/*************************************************************/\n\t\tservice.factory = function factory(results_hash, meta_hash)\n\t\t{\n\n\t\t\t/*************************************************************/\n\t\t\t// Initialize\n\t\t\t/*************************************************************/\n\t\t\tvar results_object = {\n\t\t\t\tdata: {},\n\t\t\t\tmeta: {},\n\t\t\t\thas_results: false,\n\t\t\t\terror_type: null\n\t\t\t};\n\n\t\t\tif(util.exists(results_hash) && !angular.equals(results_hash, {}))\n\t\t\t{\n\t\t\t\tresults_object.data = results_hash;\n\t\t\t\tif(!angular.equals(results_hash, {}) && !angular.equals(results_hash, []))\n\t\t\t\t{\n\t\t\t\t\tresults_object.has_results = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(util.exists(meta_hash))\n\t\t\t{\n\t\t\t\tresults_object.meta = meta_hash;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresults_object.meta = {};\n\t\t\t\tresults_object.meta.pagination = {\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tper_page: 10,\n\t\t\t\t\ttotal: 0,\n\t\t\t\t\ttotal_pages: 0\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn results_object;\n\t\t};\n\n\t\treturn service;\n\t}\n]);\n","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module(\"Common.Services\").service(\"providersService\", [\n\t'$q',\n\t'junoHttp',\n\tfunction($q, junoHttp)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/providers';\n\n\t\tservice.search = function search(searchText, searchMode, page, perPage)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\tsearchText: searchText,\n\t\t\t\tsearchMode: searchMode,\n\t\t\t\tpage: page,\n\t\t\t\tperPage: perPage\n\t\t\t};\n\n\t\t\tjunoHttp.get(service.apiPath, config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"providersService::search error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while getting providers data\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getBySecurityRole = function getBySecurityRole(role)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\trole: role\n\t\t\t};\n\n\t\t\tjunoHttp.get(service.apiPath + '/bySecurityRole', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"providersService::getBySecurityRole error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while getting providers data\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getByType = function getByProviderType(type)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\ttype: type\n\t\t\t};\n\n\t\t\tjunoHttp.get(service.apiPath + '/byType', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"providersService::getByType error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while getting providers data\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module(\"Common.Services\").service(\"providerService\", [\n\t'$http',\n\t'$q',\n\t'junoHttp',\n\tfunction($http, $q, junoHttp)\n\t{\n\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/providerService';\n\n\t\tservice.getMe = function getMe()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/provider/me', service.configHeaders).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"providerService::getMe error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting user data\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getProvider = function getProvider(id)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/provider/' + encodeURIComponent(id),\n\t\t\t\tservice.configHeaders).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"providerService::getProvider error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting user data\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.searchProviders = function searchProviders(filter)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/providers/search',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: JSON.stringify(filter),\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data.content);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"providerService::searchProviders error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while fetching provider list\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getSettings = function getSettings()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/settings/get',\n\t\t\t\tmethod: \"GET\"\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data.content[0]);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"providerService::getSettings error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while fetching provider settings\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.saveSettings = function saveSettings(providerNo, settings)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/settings/' + providerNo + '/save',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: JSON.stringify(settings),\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"providerService::saveSettings error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while saving settings\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getActiveTeams = function getActiveTeams()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/getActiveTeams',\n\t\t\t\tmethod: \"GET\"\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data.content);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"providerService::getActiveTeams error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while fetching provider teams\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getRecentPatientList = function getRecentPatientList()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\n\t\t\tjunoHttp.get(service.apiPath + '/getRecentDemographicsViewed', config).then(\n\t\t\t\tfunction success(response) {\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error) {\n\t\t\t\t\tconsole.log(\"providerService::getRecentDemographicsViewed error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occurred while getting RecentDemographicsViewed\");\n\t\t\t\t});\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"programService\", [\n\t'$http', '$q',\n\tfunction($http, $q)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/';\n\n\t\tservice.getPrograms = function getPrograms()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + 'program/programList',\n\t\t\t\tJuno.Common.ServiceHelper.configHeadersWithCache()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(results.data);\n\t\t\t\t\tdeferred.resolve(results.data.content);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"error fetching program list:\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while fetching program list\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"personaService\", [\n\t'$http', '$q',\n\tfunction($http, $q)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/persona';\n\n\t\tservice.getDashboardMenu = function getDashboardMenu()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/dashboardMenu',\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"personaService::getDashboardMenu error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting the dashboard menu from persona\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getNavBar = function getNavBar()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/navbar',\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"personaService::getNavBar error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting navbar from persona\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getPatientListConfig = function getPatientListConfig()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/patientList/config',\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"personaService::getPatientListConfig error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting getPatientListConfig from persona\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.setPatientListConfig = function setPatientListConfig(patientListConfig)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/patientList/config',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: patientListConfig,\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(result)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(result.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"personaService::setPatientListConfig error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while setting setPatientListConfig from persona\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.setCurrentProgram = function setCurrentProgram(programId)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath +\n\t\t\t\t\t'/setDefaultProgramInDomain?programId=' +\n\t\t\t\t\tencodeURIComponent(programId),\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(result)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(result.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"personaService::setCurrentProgram error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while setting current\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getDashboardPreferences = function getDashboardPreferences()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/preferences',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata:\n\t\t\t\t{\n\t\t\t\t\ttype: 'dashboard'\n\t\t\t\t},\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(result)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(result.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"personaService::getDashboardPreferences error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting preferences from persona\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.updateDashboardPreferences = function updateDashboardPreferences(prefs)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/updatePreferences',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: JSON.stringify(prefs),\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(result)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(result.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"personaService::updateDashboardPreferences error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while updating preferences\");\n\t\t\t\t});\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"patientDetailStatusService\", [\n\t'$http', '$q',\n\tfunction($http, $q)\n\t{\n\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/patientDetailStatusService';\n\n\t\tservice.getStatus = function getStatus(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + \"/getStatus?demographicNo=\" + encodeURIComponent(demographicNo),\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"patientDetailStatusService::getStatus error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching status\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.validateHC = function validateHC(healthCardNo, versionCode)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + \"/validateHC?hin=\" + encodeURIComponent(healthCardNo) +\n\t\t\t\t\"&ver=\" + encodeURIComponent(versionCode),\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"patientDetailStatusService::validateHC error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching health card validation info\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.isUniqueHC = function isUniqueHC(healthCardNo, demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + \"/isUniqueHC?hin=\" +\n\t\t\t\tencodeURIComponent(healthCardNo) + \"&demographicNo=\" +\n\t\t\t\tencodeURIComponent(demographicNo),\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"patientDetailStatusService::isUniqueHC error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while checking health card uniqueness\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"noteService\", [\n\t'$http',\n\t'$q',\n\t'junoHttp',\n\tfunction(\n\t\t$http,\n\t\t$q,\n\t\tjunoHttp)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/notes';\n\n\t\tservice.getNotesFrom = function getNotesFrom(demographicNo, offset, numberToReturn, noteConfig)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\toffset: encodeURIComponent(offset),\n\t\t\t\tnumToReturn: encodeURIComponent(numberToReturn),\n\t\t\t\tnoteConfig: noteConfig\n\t\t\t};\n\n\t\t\tjunoHttp.post(service.apiPath + '/' + encodeURIComponent(demographicNo) + '/all', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::getNotesFrom error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching notes\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.saveNote = function saveNote(demographicNo, note)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tjunoHttp.post(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/save', note).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::saveNote error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while saving note\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.saveIssueNote = function saveIssueNote(demographicNo, note)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.post(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/saveIssueNote', note).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::saveIssueNote error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while saving issue note\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getCurrentNote = function getCurrentNote(demographicNo, config)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.post(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/getCurrentNote', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::getCurrentNote error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching current note\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.tmpSave = function tmpSave(demographicNo, note)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.post(service.apiPath + '/' +\n\t\t\t\tencodeURIComponent(demographicNo) + '/tmpSave', note).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::tmpSave error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while posting tmp save\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getNoteExt = function getNoteExt(noteId)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/getGroupNoteExt/' + encodeURIComponent(noteId)).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::getNoteExt error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching note ext\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getIssueNote = function getIssueNote(noteId)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tjunoHttp.get(service.apiPath + '/getIssueNote/' + encodeURIComponent(noteId),\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::getIssueNote error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching issue note\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getIssueId = function getIssueId(issueCode)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/getIssueId/' + encodeURIComponent(issueCode)).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::getIssueId error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching issue id\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getTicklerNote = function getTicklerNote(ticklerId)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + '/ticklerGetNote/' + encodeURIComponent(ticklerId),\n\t\t\t{\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::getTicklerNote error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching tickler note\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.saveTicklerNote = function saveTicklerNote(ticklerNote)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/ticklerSaveNote',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: JSON.stringify(ticklerNote),\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::saveTicklerNote error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while saving tickler note\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.searchIssues = function searchIssues(search, startIndex, itemsToReturn)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.post(service.apiPath + '/searchIssues?startIndex=' +\n\t\t\t\tencodeURIComponent(startIndex) + \"&itemsToReturn=\" +\n\t\t\t\tencodeURIComponent(itemsToReturn), search).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::searchIssues error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while searching issues\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getIssue = function getIssue(issueId)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.post(service.apiPath + '/getIssueById/' + encodeURIComponent(issueId)).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::getIssue error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching issue\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.setEditingNoteFlag = function setEditingNoteFlag(noteUUID, userId)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.post(service.apiPath + '/setEditingNoteFlag?noteUUID=' +\n\t\t\t\tencodeURIComponent(noteUUID) + \"&userId=\" +\n\t\t\t\tencodeURIComponent(userId)).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::setEditingNoteFlag error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while setting editing note flag\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.checkEditNoteNew = function checkEditNoteNew(noteUUID, userId)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.post(service.apiPath + '/checkEditNoteNew?noteUUID=' +\n\t\t\t\tencodeURIComponent(noteUUID) + \"&userId=\" +\n\t\t\t\tencodeURIComponent(userId)).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::checkEditNoteNew error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while checking edit note new\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.removeEditingNoteFlag = function removeEditingNoteFlag(noteUUID, userId)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.post(service.apiPath + '/removeEditingNoteFlag?noteUUID=' +\n\t\t\t\tencodeURIComponent(noteUUID) + \"&userId=\" +\n\t\t\t\tencodeURIComponent(userId)).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"noteService::removeEditingNoteFlag error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while removing editing note flag\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module(\"Common.Services\").service(\"messageService\", [\n\t'$http', '$q',\n\tfunction($http, $q)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/messaging';\n\n\t\tservice.getUnread = function getUnread(limit)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/unread?startIndex=0&limit=' + encodeURIComponent(limit),\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"messageService::getUnread error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while getting messages\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getUnreadCount = function getUnreadCount()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/count',\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"messageService::getUnreadCount error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while getting messages\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module(\"Common.Services\").service(\"k2aService\", [\n\t'$q',\n\t'junoHttp',\n\tfunction($q, junoHttp)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs';\n\n\t\tservice.getK2aFeed = function getK2aFeed(startPoint, numberOfRows)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\tkey:'k2a',\n\t\t\t\tstartPoint:encodeURIComponent(startPoint),\n\t\t\t\tnumberOfRows:encodeURIComponent(numberOfRows)\n\t\t\t};\n\n\t\t\tjunoHttp.get(service.apiPath + '/rssproxy/rss', config).then(\n\t\t\t\tfunction success(response) {\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error) {\n\t\t\t\t\tconsole.log(\"k2aService::getK2aFeed error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting k2a content\");\n\t\t\t\t});\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.isK2AInit = function isK2AInit()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\n\t\t\tjunoHttp.get(service.apiPath + '/app/K2AActive', config).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"k2aService::isK2AInit error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting k2a content\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.initK2A = function initK2A(clinicName)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tvar transferObj = {\n\t\t\t\tname: clinicName\n\t\t\t};\n\n\t\t\tjunoHttp.post(service.apiPath + '/app/K2AInit', transferObj).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"k2aService::initK2A error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occured while trying to initialize k2a\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.postK2AComment = function postK2AComment(post)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar commentItem = {\n\t\t\t\tpost:post\n\t\t\t};\n\t\t\tjunoHttp.post(service.apiPath + '/app/comment', commentItem).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"k2aService::postK2AComment error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occured while trying to post a comment to k2a\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.removeK2AComment = function removeK2AComment(commentId)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tjunoHttp.del(service.apiPath + '/app/comment/' + encodeURIComponent(commentId)).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"k2aService::removeK2AComment error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occured while trying to remove a comment from k2a\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.preventionRulesList = function preventionRulesList()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tjunoHttp.get(service.apiPath + '/resources/preventionRulesList',\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"k2aService::preventionRulesList error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occured while trying to remove a comment from k2a\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.loadPreventionRuleById = function loadPreventionRuleById(id)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tjunoHttp.post(service.apiPath + '/resources/loadPreventionRulesById/' +\n\t\t\t\tencodeURIComponent(id.id), id).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"k2aService::loadPreventionRuleById error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occured while trying to loadPreventionRulesById\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getCurrentPreventionRulesVersion = function getCurrentPreventionRulesVersion()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tjunoHttp.get(service.apiPath + '/resources/currentPreventionRulesVersion',\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"k2aService::getCurrentPreventionRulesVersion error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occured while trying to getCurrentPreventionRulesVersion\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getNotifications = function getNotifications()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tjunoHttp.get(service.apiPath + '/resources/notifications',\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"k2aService::getNotifications error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occured while trying to getNotifications\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getMoreNotification = function getMoreNotification(id)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tjunoHttp.post(service.apiPath + '/resources/notifications/readmore',\n\t\t\t\tid, Juno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"k2aService::getMoreNotification error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occured while trying to /resources/notifications/readmore\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.ackNotification = function ackNotification(id)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tjunoHttp.post(service.apiPath + '/resources/notifications/' + id + '/ack',\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(response)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(response.data);\n\t\t\t\t},\n\t\t\t\tfunction error(error)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"k2aService::ackNotification error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occured while trying to /resources/notifications/ack\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module(\"Common.Services\").service(\"inboxService\", [\n\t'$http', '$q',\n\tfunction($http, $q)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/inbox';\n\n\t\tservice.getDashboardItems = function getDashboardItems(limit)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/mine?limit=' + encodeURIComponent(limit),\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"inboxService::getDashboardItems error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting inbox content\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getUnAckLabDocCount = function getUnAckLabDocCount()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/mine/count',\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"inboxService::getUnAckLabDocCount error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting inbox content\");\n\t\t\t\t});\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n\tCopyright (c) 2012-2018. CloudPractice Inc. All Rights Reserved.\n    This software is published under the GPL GNU General Public License.\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n\tThis software was written for\n\tCloudPractice Inc.\n\tVictoria, British Columbia\n\tCanada\n\n */\nangular.module(\"Common.Services\").service(\"globalStateService\", [\n\tfunction()\n\t{\n\t\tvar service = {\n\t\t\t\tglobal_settings: {\n\t\t\t\t\tinterface_preferences: {\n\t\t\t\t\t\tscheduler_license_key: \"\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t};\n\n\t\treturn service;\n\t}\n]);\n","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"formService\", [\n\t'$http', '$q', 'junoHttp',\n\tfunction($http, $q, junoHttp)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/forms';\n\n\t\tservice.getAllFormsByHeading = function getAllFormsByHeading(demographicNo, heading)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + '/' + encodeURIComponent(demographicNo) +\n\t\t\t\t'/all?heading=' + encodeURIComponent(heading),\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"formService::getAllFormsByHeading error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching forms\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getAllEncounterForms = function getAllEncounterForms()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + '/allEncounterForms',\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"formService::getAllEncounterForms error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching encounter forms\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getSelectedEncounterForms = function getSelectedEncounterForms()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + '/selectedEncounterForms',\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"formService::getSelectedEncounterForms error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching selected encounter forms\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getCompletedEncounterForms = function getCompletedEncounterForms(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tjunoHttp.get(service.apiPath + '/' + demographicNo + '/completedEncounterForms',\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"formService::getCompletedEncounterForms error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching completed encounter forms\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getAllEForms = function getAllEForms()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + '/allEForms',\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data.content);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"formService::getAllEForms error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching eforms\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getGroupNames = function getGroupNames()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + '/groupNames',\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data.content);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"formService::getGroupNames error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching group names\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getFormGroups = function getFormGroups()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + '/getFormGroups',\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"formService::getFormGroups error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching form groups\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getFavouriteFormGroup = function getFavouriteFormGroup()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + '/getFavouriteFormGroup',\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"formService::getFavouriteFormGroup error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching favourite form groups\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getFormOptions = function getFormOptions(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + '/' + encodeURIComponent(demographicNo) + '/formOptions',\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"formService::getFormOptions error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching form options\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\nangular.module('Common.Services').factory(\n\t'focusService',\n\n\t[\n\t\t'$timeout',\n\t\t'$window',\n\n\t\tfunction (\n\t\t\t$timeout, $window\n\t\t)\n\t\t{\n\t\t\tvar focus = {};\n\n\t\t\t// focuses element\n\t\t\tfocus.element = function element(selector)\n\t\t\t{\n\t\t\t\t$timeout(function()\n\t\t\t\t{\n\t\t\t\t\t$(selector).focus();\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t// focuses first visible and enabled form input\n\t\t\t// if selector is provided, only looks within that selector\n\t\t\tfocus.first_form_input = function first_form_element(selector)\n\t\t\t{\n\t\t\t\tif(!selector)\n\t\t\t\t{\n\t\t\t\t\tselector = \"form:visible:first\";\n\t\t\t\t}\n\n\t\t\t\t$timeout(function()\n\t\t\t\t{\n\t\t\t\t\t$(selector + \" input:enabled, \" +\n\t\t\t\t\t\tselector + \" select:enabled, \" +\n\t\t\t\t\t\tselector + \" textarea:enabled \").first().focus();\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t// focuses first 'has-error' form input and scrolls to alert\n\t\t\t// if opts['selector'] is provided, only looks within that selector\n\t\t\t// if opts['scroll_offset'] is provided, used in first_alert\n\t\t\tfocus.first_error_input = function first_error_input(opts)\n\t\t\t{\n\t\t\t\tif(!angular.isObject(opts))\n\t\t\t\t{\n\t\t\t\t\topts = {};\n\t\t\t\t}\n\t\t\t\tvar selector = opts['selector'] || '';\n\t\t\t\t$timeout(function()\n\t\t\t\t{\n\t\t\t\t\t$(selector + \" .has-error:first input:enabled, \" +\n\t\t\t\t\t\tselector + \" .has-error:first select:enabled, \" +\n\t\t\t\t\t\tselector + \" .has-error:first textarea:enabled \").first().focus();\n\t\t\t\t\tfocus.first_alert(opts);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t// scrolls to the first visible alert (not actually a focus)\n\t\t\t// if modal is open, will just scroll to top of modal\n\t\t\t// if opts['selector'] is provided, only looks within that selector\n\t\t\t// if opts['scroll_offset'] is provided, scrolls to that offset above alert\n\t\t\tfocus.first_alert = function first_alert(opts)\n\t\t\t{\n\t\t\t\tif(!angular.isObject(opts))\n\t\t\t\t{\n\t\t\t\t\topts = {};\n\t\t\t\t}\n\t\t\t\tvar selector = opts['selector'] || '';\n\t\t\t\tvar scroll_offset = opts['scroll_offset'];\n\n\t\t\t\tif(!scroll_offset || scroll_offset < 0)\n\t\t\t\t{\n\t\t\t\t\tscroll_offset = 10;\n\t\t\t\t}\n\n\t\t\t\t$timeout(function()\n\t\t\t\t{\n\t\t\t\t\tif($('body').hasClass('modal-open'))\n\t\t\t\t\t{\n\t\t\t\t\t\t// there's a modal open - scroll to the top\n\t\t\t\t\t\t$('.modal').animate({ scrollTop: 0 });\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t// no modal open - scroll to just above the first alert\n\t\t\t\t\t\t$('html, body').animate({\n\t\t\t\t\t\t\tscrollTop: $(selector + \" .alert:visible:first\").offset().top - scroll_offset\n\t\t\t\t\t\t}, 500);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\treturn focus;\n\n\t\t}]);\n","'use strict';\n\nangular.module('Common.Services').factory(\n\t'fieldHelperService',\n\t[\n\t\t'$timeout',\n\n\t\tfunction(\n\t\t\t$timeout\n\t\t)\n\t\t{\n\t\t\tvar helper = {};\n\n\t\t\thelper.default_scope = {\n\n\t\t\t\tform_group_class: '@caFormGroupClass',\n\t\t\t\tlabel_size: '@caLabelSize',\n\t\t\t\tinput_size: '@caInputSize',\n\t\t\t\ttext_length: '@caTextLength',\n\t\t\t\thide_label_colon: '@caTitleNoColon',\n\t\t\t\ttemplate: '@caTemplate',\n\n\t\t\t\tname: '@caName',\n\n\t\t\t\ttitle: '@caTitle',\n\t\t\t\thint: '@caHint',\n\n\t\t\t\ttab_index: '@caTabindex',\n\n\t\t\t\terror_message: '@caError',\n\t\t\t\twarning_message: '@caWarning',\n\n\t\t\t\tdepends_on_field: '@caDependsOnField',\n\t\t\t\tdepends_on_value: '@caDependsOnValue',\n\n\t\t\t\tmodel: '=caModel',\n\t\t\t\tdisabled: '=caDisabled',\n\t\t\t\thide: '=caHide',\n\t\t\t\tfocus_field: '=caFocusField',\n\n\t\t\t\ton_focus_fn: '&caFocus',\n\t\t\t\tchange_fn: '&caChange',\n\t\t\t\tblur_fn: '&caBlur'\n\t\t\t};\n\n\t\t\thelper.resolve_template = function(attributes, base_default_template)\n\t\t\t{\n\t\t\t\t// if tag has a ca-template on it, add it to the template path\n\t\t\t\tif(Juno.Common.Util.exists(attributes['caTemplate']))\n\t\t\t\t{\n\t\t\t\t\treturn base_default_template + '_' + attributes['caTemplate'] + '.jsp';\n\t\t\t\t}\n\t\t\t\treturn base_default_template + '.jsp';\n\t\t\t};\n\n\t\t\thelper.merge_title_messages = function merge_title_messages($scope)\n\t\t\t{\n\t\t\t\t// Merge error and warning records so they both can be displayed in the hover over\n\t\t\t\t$scope.title_array = [];\n\t\t\t\tif(Juno.Common.Util.exists($scope.error_message))\n\t\t\t\t{\n\t\t\t\t\t$scope.title_array.push($scope.error_message);\n\t\t\t\t}\n\t\t\t\tif(Juno.Common.Util.exists($scope.warning_message))\n\t\t\t\t{\n\t\t\t\t\t$scope.title_array.push($scope.warning_message);\n\t\t\t\t}\n\n\t\t\t\tif($scope.title_array.length == 0 && Juno.Common.Util.exists($scope.hint))\n\t\t\t\t{\n\t\t\t\t\t$scope.title_array.push($scope.hint);\n\t\t\t\t}\n\t\t\t\t$scope.title_string = $scope.title_array.join('|');\n\t\t\t};\n\n\t\t\thelper.default_link_function = function default_link_function(\n\t\t\t\t$scope, element, attribute, controller)\n\t\t\t{\n\t\t\t\thelper.merge_title_messages($scope);\n\t\t\t\t$scope.focus_fn = function on_focus()\n\t\t\t\t{\n\t\t\t\t\tif(angular.isFunction($scope.on_focus_fn))\n\t\t\t\t\t{\n\t\t\t\t\t\t// only call the focus function if the field still has focus after a timeout\n\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\tif(($(element).is(\"input:enabled, select:enabled, textarea:enabled\") &&\n\t\t\t\t\t\t\t\t$(element).is(':focus')) ||\n\t\t\t\t\t\t\t\t$(element).find(\" input:enabled, select:enabled, textarea:enabled \").is(':focus'))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$scope.on_focus_fn();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconsole.log('ignoring on focus function - element is no longer in focus', $scope.name)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// watch the focus field: when it matches the name, focus the element\n\t\t\t\t$scope.$watch('focus_field', function()\n\t\t\t\t{\n\t\t\t\t\tif(Juno.Common.Util.exists($scope.name) &&\n\t\t\t\t\t\t$scope.focus_field == $scope.name)\n\t\t\t\t\t{\n\t\t\t\t\t\t// Focus and select the input element\n\t\t\t\t\t\t$timeout(function()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif($(element).is(\"input:enabled, select:enabled, textarea:enabled\"))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$(element).focus().select();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$(element).find(\n\t\t\t\t\t\t\t\t\t\"input:enabled, select:enabled, textarea:enabled\").first().focus().select();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// listen for focusCaFocusField event: when it matches, focus the element\n\t\t\t\t$scope.$on('focusCaFocusField', function(e, focus)\n\t\t\t\t{\n\t\t\t\t\tif(Juno.Common.Util.exists($scope.name) && $scope.name == focus)\n\t\t\t\t\t{\n\t\t\t\t\t\tif($(element).is(\"input:enabled, select:enabled, textarea:enabled\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(element).focus().select();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(element).find(\n\t\t\t\t\t\t\t\t\"input:enabled, select:enabled, textarea:enabled\").first().focus().select();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\thelper.default_controller = ['$scope', '$element', '$attrs', function default_controller($scope, $element, $attrs)\n\t\t\t{\n\t\t\t\t// These field directives have a built-in handling of the focus field,\n\t\t\t\t// so this tells the caFocusField directive to ignore them.\n\t\t\t\tthis.ignore_focus_field = function ignore_focus_field()\n\t\t\t\t{\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}];\n\n\t\t\treturn helper;\n\t\t}]);\n","'use strict'\n\n\nangular.module('Common.Services').factory(\n\t'errorsService',\n\n\t[\n\n\t\tfunction()\n\t\t{\n\t\t\tvar messages = {};\n\n\t\t\t/*************************************************************/\n\t\t\t// Factory\n\t\t\t// @param {errors_hash} Error hash from Clinicaid API\n\t\t\t// @param {options} Hash\n\t\t\t//\t\t- {display_field_errors} Boolean : Sets flag\n\t\t\t//\t\t- {field_errors_label_map} Hash : Can pass a hash in to get field\n\t\t\t// \t\tlabels for displaying field errors. Assumed to be field => label\n\t\t\t//\t\t- {field_errors_label_map_key} String : Allows for\n\t\t\t// \t\tfield => Hash[key] lookup for label.\n\t\t\t/*************************************************************/\n\t\t\tmessages.factory = function factory(errors_hash, options)\n\t\t\t{\n\t\t\t\treturn new Juno.Common.DisplayMessages(errors_hash, options);\n\t\t\t};\n\n\t\t\treturn messages;\n\t\t}]\n);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"diseaseRegistryService\", [\n\t'$http',\n\t'$q',\n\t'junoHttp',\n\n\tfunction(\n\t\t$http,\n\t\t$q,\n\t\tjunoHttp\n        )\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/dxRegisty/';\n\n\t\tservice.getQuickLists = function getQuickLists()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tjunoHttp.get(service.apiPath + 'quickLists/',\n\t\t\t\tJuno.Common.ServiceHelper.configHeadersWithCache()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"diseaseRegistryService::getQuickLists error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching quick lists\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n        service.getIssueQuickLists = function getIssueQuickLists()\n        {\n            var deferred = $q.defer();\n            junoHttp.get(service.apiPath + 'issueQuickLists/',\n                Juno.Common.ServiceHelper.configHeadersWithCache()).then(\n                function success(results)\n                {\n                    deferred.resolve(results.data);\n                },\n                function error(errors)\n                {\n                    console.log(\"diseaseRegistryService::getIssueQuickLists error\", errors);\n                    deferred.reject(\"An error occurred while fetching quick lists\");\n                });\n\n            return deferred.promise;\n        };\n\n\t\tservice.addToDxRegistry = function addToDxRegistry(demographicNo, disease)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar issueToSend = {};\n\t\t\tissueToSend.id = disease.id;\n\t\t\tissueToSend.type = disease.type;\n\t\t\tissueToSend.code = disease.code;\n\t\t\tissueToSend.description = disease.description;\n\n\t\t\t$http.post(service.apiPath + encodeURIComponent(demographicNo) + '/add', issueToSend).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"diseaseRegistryService::addToDxRegistry error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while adding to dx registry\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.findDxIssue = function findDxIssue(code, codingSystem)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeadersWithCache();\n\t\t\tconfig.params = {\n\t\t\t\tcodingSystem: codingSystem,\n\t\t\t\tcode: code\n            };\n\n            junoHttp.get(service.apiPath + 'findDxIssue', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"diseaseRegistryService::findDxIssue error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while retrieving a dx issue\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"demographicsService\", [\n\t'$q',\n\t'junoHttp',\n\tfunction($q, junoHttp)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/demographics';\n\n\t\tservice.quickSearch = function quickSearch(search)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\tquery: search\n\t\t\t};\n\n\t\t\tjunoHttp.get(service.apiPath + '/quickSearch', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"demographicsService::quickSearch error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while searching\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.search = function search(search, startIndex, itemsToReturn)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\tjsonData: search,\n\t\t\t\tstartIndex: startIndex,\n\t\t\t\titemsToReturn: itemsToReturn\n\t\t\t};\n\n\t\t\tjunoHttp.get(service.apiPath + '/search', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"demographicsService::search error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while searching\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.searchIntegrator = function searchIntegrator(search, itemsToReturn)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\tjsonData: search,\n\t\t\t\titemsToReturn: itemsToReturn\n\t\t\t};\n\n\t\t\tjunoHttp.get(service.apiPath + '/searchIntegrator', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"demographicsService::searchIntegrator error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while searching\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getStatusList = function getStatusList(listType)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\ttype: listType\n\t\t\t};\n\n\t\t\tjunoHttp.get(service.apiPath + '/statusList', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"demographicsService::getStatusList error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while getting status list\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"demographicService\", [\n    '$q',\n    'junoHttp',\n    function($q, junoHttp)\n    {\n        var service = {};\n\n        service.apiPath = '../ws/rs/demographic';\n\n        service.getDemographic = function getDemographic(demographicNo)\n        {\n            var deferred = $q.defer();\n\n\t        junoHttp.get(service.apiPath + '/' + encodeURIComponent(demographicNo),\n                Juno.Common.ServiceHelper.configHeaders()).then(\n                function success(results)\n                {\n                    if(results.data.effDate) results.data.effDate = moment(results.data.effDate).toDate();\n\t                if(results.data.hcRenewDate)results.data.hcRenewDate = moment(results.data.hcRenewDate).toDate();\n\t                if(results.data.endDate)results.data.endDate = moment(results.data.endDate).toDate();\n\t                if(results.data.patientStatusDate)results.data.patientStatusDate = moment(results.data.patientStatusDate).toDate();\n\t                if(results.data.onWaitingListSinceDate)results.data.onWaitingListSinceDate = moment(results.data.onWaitingListSinceDate).toDate();\n\t                if(results.data.scrPaperChartArchivedDate)results.data.scrPaperChartArchivedDate = moment(results.data.scrPaperChartArchivedDate).toDate();\n\t                if(results.data.dateJoined)results.data.dateJoined = moment(results.data.dateJoined).toDate();\n\t                if(results.data.rosterTerminationDate)results.data.rosterTerminationDate = moment(results.data.rosterTerminationDate).toDate();\n\t                if(results.data.rosterDate)results.data.rosterDate = moment(results.data.rosterDate).toDate();\n                    console.log('converted RESULTS: ', results.data);\n                    deferred.resolve(results.data);\n                },\n                function error(errors)\n                {\n                    console.log(\"demographicServices::getDemographic error\", errors);\n                    deferred.reject(\"An error occurred while fetching demographic\");\n                });\n\n            return deferred.promise;\n        };\n\n\t    service.getDemographicContacts = function getDemographicContacts(demographicNo,contactCategory)\n\t    {\n\t\t    var deferred = $q.defer();\n\n\t\t    var config = Juno.Common.ServiceHelper.configHeaders();\n\t\t    config.params = {\n\t\t\t    category: contactCategory\n\t\t    };\n\n\t\t    junoHttp.get(service.apiPath + '/' + encodeURIComponent(demographicNo) + \"/contacts\", config).then(\n\t\t\t    function success(results)\n\t\t\t    {\n\t\t\t\t    deferred.resolve(results.data);\n\t\t\t    },\n\t\t\t    function error(errors)\n\t\t\t    {\n\t\t\t\t    console.log(\"demographicServices::getDemographicContacts error\", errors);\n\t\t\t\t    deferred.reject(\"An error occurred while fetching demographic contacts\");\n\t\t\t    });\n\n\t\t    return deferred.promise;\n\t    };\n\n        service.saveDemographic = function saveDemographic(demographic)\n        {\n            var deferred = $q.defer();\n\n\t        junoHttp.post(service.apiPath, demographic).then(\n                function success(results)\n                {\n                    deferred.resolve(results.data);\n                },\n                function error(errors)\n                {\n                    console.log(\"demographicServices::updateDemographic error\", errors);\n                    deferred.reject(\"An error occurred while saving demographic\");\n                });\n\n            return deferred.promise;\n        };\n\n        service.updateDemographic = function updateDemographic(demographic)\n        {\n            var deferred = $q.defer();\n\n\t        junoHttp.put(service.apiPath, demographic).then(\n                function success(results)\n                {\n                    deferred.resolve(results.data);\n                },\n                function error(errors)\n                {\n                    console.log(\"demographicServices::updateDemographic error\", errors);\n                    deferred.reject(\"An error occurred while updating demographic\");\n                });\n\n            return deferred.promise;\n        };\n\n        return service;\n    }\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"consultService\", [\n\t'$http',\n\t'$q',\n\t'junoHttp',\n\tfunction($http,\n\t         $q,\n\t         junoHttp)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/consults/';\n\n\t\tservice.searchRequests = function searchRequests(search)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = search;\n\t\t\t\n\t\t\tjunoHttp.get(service.apiPath + 'searchRequests', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"consultService::searchRequests error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while searching consult requests\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getRequest = function getRequest(requestId)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\n\t\t\tjunoHttp.get(service.apiPath + 'getRequest/' + encodeURIComponent(requestId), config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.data.referralDate) results.data.referralDate = moment(results.data.referralDate).toDate();\n\t\t\t\t\tif(results.data.appointmentDate) results.data.appointmentDate = moment(results.data.appointmentDate).toDate();\n\t\t\t\t\tif(results.data.followUpDate) results.data.followUpDate = moment(results.data.followUpDate).toDate();\n\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"consultService::getRequest error\", errors);\n\t\t\t\t\tdeferred.reject(\n\t\t\t\t\t\t\"An error occurred while getting consult request (requestId=\" + requestId + \")\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\t\tservice.getNewRequest = function getRequest(demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\tdemographicNo: demographicNo\n\t\t\t};\n\n\t\t\tjunoHttp.get(service.apiPath + 'getNewRequest', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tif(results.data.referralDate) results.data.referralDate = moment(results.data.referralDate).toDate();\n\t\t\t\t\tif(results.data.appointmentDate) results.data.appointmentDate = moment(results.data.appointmentDate).toDate();\n\t\t\t\t\tif(results.data.followUpDate) results.data.followUpDate = moment(results.data.followUpDate).toDate();\n\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"consultService::getNewRequest error\", errors);\n\t\t\t\t\tdeferred.reject(\n\t\t\t\t\t\t\"An error occurred while getting new consult request\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getRequestAttachments = function getRequestAttachments(\n\t\t\trequestId, demographicId, attached)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = {\n\t\t\t\t'demographicId': encodeURIComponent(demographicId),\n\t\t\t\t'attached': encodeURIComponent(attached)\n\t\t\t};\n\n\t\t\tjunoHttp.get(service.apiPath + 'getRequestAttachments/' + encodeURIComponent(requestId), config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"consultService::getRequestAttachments error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting consult attachments (requestId=\" + requestId + \")\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.saveRequest = function saveRequest(request)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\tjunoHttp.post(service.apiPath + 'saveRequest', request).then(\n\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"consultService::saveRequest error\", error);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching consult request after save\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.eSendRequest = function eSendRequest(requestId)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tjunoHttp.get(service.apiPath + 'eSendRequest/' + encodeURIComponent(requestId),\n\t\t\t\tJuno.Common.ServiceHelper.configHeaders()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"consultService::eSendRequest error\", errors);\n\t\t\t\t\tdeferred.reject(\n\t\t\t\t\t\t\"An error occurred while e-sending consult request (requestId=\" + requestId + \")\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.searchResponses = function searchRequests(search)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar config = Juno.Common.ServiceHelper.configHeaders();\n\t\t\tconfig.params = search;\n\t\t\tjunoHttp.get(service.apiPath + 'searchResponses', config).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"consultService::searchRequests error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while searching consult requests\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getResponse = function getResponse(responseId, demographicNo)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tif (responseId === \"new\")\n\t\t\t{\n\t\t\t\tresponseId = 0;\n\t\t\t}\n\n\t\t\t$http.get(service.apiPath + 'getResponse',\n\t\t\t{\n\t\t\t\tparams:\n\t\t\t\t{\n\t\t\t\t\tresponseId: responseId,\n\t\t\t\t\tdemographicNo: demographicNo\n\t\t\t\t}\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\n\t\t\t\t\tif(results.data.responseDate) results.data.responseDate = moment(results.data.responseDate).toDate();\n\t\t\t\t\tif(results.data.referralDate) results.data.referralDate = moment(results.data.referralDate).toDate();\n\t\t\t\t\tif(results.data.appointmentDate) results.data.appointmentDate = moment(results.data.appointmentDate).toDate();\n\t\t\t\t\tif(results.data.followUpDate) results.data.followUpDate = moment(results.data.followUpDate).toDate();\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"consultService::getResponse error\", errors);\n\t\t\t\t\tdeferred.reject(\n\t\t\t\t\t\t\"An error occurred while getting consult response (responseId=\" + responseId + \")\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getResponseAttachments = function getResponseAttachments(\n\t\t\tresponseId, demographicNo, attached)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(\n\t\t\t\tservice.apiPath + 'getResponseAttachments?responseId=' + encodeURIComponent(responseId) +\n\t\t\t\t'&demographicNo=' + encodeURIComponent(demographicNo) +\n\t\t\t\t'&attached=' + encodeURIComponent(attached)).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"consultService::getResponseAttachments error\", errors);\n\t\t\t\t\tdeferred.reject(\n\t\t\t\t\t\t\"An error occurred while getting consult response attachments (responseId=\" +\n\t\t\t\t\t\tresponseId + \")\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.saveResponse = function saveResponse(response)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.post(service.apiPath + 'saveResponse', response).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"consultService::saveResponse error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occurred while fetching consult response after save\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getReferralPathwaysByService = function getReferralPathwaysByService(serviceName)\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\t\t\t$http.get(service.apiPath + 'getReferralPathwaysByService?serviceName=' +\n\t\t\t\tencodeURIComponent(serviceName)).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"consultService::getReferralPathwaysByService error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while fetching referral pathways\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"billingService\", [\n\t'$http', '$q',\n\tfunction($http, $q)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/';\n\n\t\tservice.getUniqueServiceTypes = function getUniqueServiceTypes()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + 'billing/uniqueServiceTypes',\n\t\t\t\tJuno.Common.ServiceHelper.configHeadersWithCache()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data.content);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"billingService::getUniqueServiceTypes error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while fetching billing service types\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getBillingRegion = function getBillingRegion()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + 'billing/billingRegion',\n\t\t\t\tJuno.Common.ServiceHelper.configHeadersWithCache()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"billingService::getBillingRegion error\", errorsz);\n\t\t\t\t\tdeferred.reject(\"An error occured while setting billingRegion\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\tservice.getDefaultView = function getDefaultView()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http.get(service.apiPath + 'billing/defaultView',\n\t\t\t\tJuno.Common.ServiceHelper.configHeadersWithCache()).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"billingService::getDefaultView error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while setting defaultView\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"autoCompleteService\", [\n\t\"$q\",\n\tfunction(\n\t\t$q\n\t)\n\t{\n\t\tvar service = {};\n\n\t\tservice.init_autocomplete_values = function init_autocomplete_values(patient){\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tconsole.log(patient);\n\t\t\tdeferred.resolve({data:{patient:{data:{\n\t\t\t\tuuid: null,\n\t\t\t\tfull_name: null,\n\t\t\t\tpatient_photo_url: '/imageRenderingServlet?source=local_client&clientId=0',\n\t\t\t\tdata: {\n\t\t\t\t\tbirth_date: null,\n\t\t\t\t\thealth_number: null,\n\t\t\t\t\tontario_version_code: null,\n\t\t\t\t\tphone_number_primary: null\n\t\t\t\t}\n\n\t\t\t}}}});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n]);\n","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Services\").service(\"appService\", [\n\t'$http', '$q',\n\tfunction($http, $q)\n\t{\n\t\tvar service = {};\n\n\t\tservice.apiPath = '../ws/rs/app';\n\n\t\tservice.getApps = function getApps()\n\t\t{\n\t\t\tvar deferred = $q.defer();\n\n\t\t\t$http(\n\t\t\t{\n\t\t\t\turl: service.apiPath + '/getApps',\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: Juno.Common.ServiceHelper.configHeaders()\n\t\t\t}).then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tdeferred.resolve(results.data);\n\t\t\t\t},\n\t\t\t\tfunction error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"appServices::getApps error\", errors);\n\t\t\t\t\tdeferred.reject(\"An error occured while getting app content\");\n\t\t\t\t});\n\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\treturn service;\n\t}\n\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Common.Services', ['Common.Util']);","'use strict';\n\nangular.module('Common.Util').service(\"junoHttp\", [\n        '$http',\n        '$window',\n        '$q',\n\n        function (\n            $http,\n            $window,\n            $q\n        )\n        {\n            // This service wraps the methods in $http so that authentication can be added.\n            var http_util = {};\n\n            http_util.request =  function request(request_hash)\n            {\n                var deferred = $q.defer();\n\n                $http(request_hash).then(\n                    function success(response)\n                    {\n                        http_util.success_function(response, request_hash, deferred);\n                    }, function error(errors)\n                    {\n                        http_util.errors_function(errors, request_hash, deferred);\n                    }, function notify(progress)\n                    {\n                        deferred.notify(progress);\n                    });\n\n                return deferred.promise;\n            };\n\n            http_util.success_function = function success_function(response, request_hash, deferred)\n            {\n                var request_result = response;\n                try {\n                    if (request_result.data.status === 'SUCCESS') {\n                        var results = {\n                            meta: angular.copy(request_result.data.headers),\n                            data: angular.copy(request_result.data.body)\n                        };\n                        deferred.resolve(results);\n                    }\n                    else if (request_result.data.status === 'ERROR'){\n                        var errors = {\n                            meta: angular.copy(request_result.data.headers),\n                            data: angular.copy(request_result.data.error.message)\n                        };\n                        deferred.reject(errors);\n                    }\n                    else {\n                        throw \"Invalid Response Status\";\n                    }\n                }\n                catch(e) {\n                    var errors = {\n                        meta: {},\n                        data: \"An Error has occurred. please contact technical support\"\n                    };\n                    deferred.reject(errors);\n                }\n            };\n\n            http_util.errors_function = function errors_function(errors, request_hash, deferred)\n            {\n                deferred.reject(errors);\n            };\n\n            http_util.call = function call(method, url, data)\n            {\n                var request_hash = {\n                    method: method,\n                    url: url,\n                    data: data\n                };\n                return http_util.request(request_hash);\n            };\n\n            http_util.get = function get(url, config)\n            {\n                var request_hash = {\n                    method: 'GET',\n                    url: url\n                };\n                Juno.Common.Util.mergeHash(request_hash, config);\n                return http_util.request(request_hash);\n            };\n\n            http_util.post = function post(url,data)\n            {\n                var request_hash = {\n                    method: 'POST',\n                    url: url,\n                    data: data\n                };\n                return http_util.request(request_hash);\n            };\n\n            http_util.put = function put(url,data)\n            {\n                var request_hash = {\n                    method: 'PUT',\n                    url: url,\n                    data: data\n                };\n                return http_util.request(request_hash);\n            };\n\n            // 'delete' is a reserved keyword -- leave me alone\n            http_util.del = function del(url,data)\n            {\n                var request_hash = {\n                    method: 'DELETE',\n                    url: url,\n                    data: data\n                };\n                return http_util.request(request_hash);\n            };\n\n            return http_util;\n        }\n    ]\n);\n","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\nangular.module(\"Common.Util\").service(\"angularUtil\", [\n\t'$window',\n\n\tfunction($window)\n\t{\n\t\tvar service = {};\n\n\t\t// Set to true if we are in a mobile view (<768px), false if otherwise\n\t\tservice.inMobileView = function inMobileView()\n\t\t{\n\t\t\treturn $window.innerWidth < 768;\n\t\t};\n\n\t\treturn service;\n\t}\n\n]);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Common.Util', []);","'use strict';\n\n/*\n\n Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved.\n This software is published under the GPL GNU General Public License.\n This program is free software; you can redistribute it and/or\n modify it under the terms of the GNU General Public License\n as published by the Free Software Foundation; either version 2\n of the License, or (at your option) any later version.\n\n This program is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n GNU General Public License for more details.\n\n You should have received a copy of the GNU General Public License\n along with this program; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n\n This software was written for the\n Department of Family Medicine\n McMaster University\n Hamilton\n Ontario, Canada\n\n */\n\nangular.module('Common', []);","'use strict';\n\n// Helper functions for cpCalendar\nangular.module('cpCalendar').factory(\n\t'cpCalendar.Util',\n\t[\n\n\t\tfunction (\n\t\t) {\n\t\t\tvar service = {\n\t\t\t\tsettings: {\n\t\t\t\t\tdatetime_format: \"YYYY-MM-DDTHH:mm:ssZ\",\n\t\t\t\t\ttime_format: \"h:mma\",\n\t\t\t\t\tdate_format: \"YYYY-MM-DD\",\n\t\t\t\t\tdayofweek_format: \"dddd\"\n\t\t\t\t}\n\t\t\t};\n\n\n\t\t\t// ===============================================================================================\n\t\t\t// Public Methods\n\t\t\t// ===============================================================================================\n\n\t\t\t// Use this to check for existence of value.  It will allow anything that\n\t\t\t// we want to be written to a text box when prefilling\n\t\t\tservice.exists = function exists(value)\n\t\t\t{\n\t\t\t\t// Don't allow undefined or null\n\t\t\t\tif (value === null || value === undefined)\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Don't allow empty strings\n\t\t\t\tif (value === '')\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t};\n\n\t\t\tservice.is_integer_string = function is_integer_string(string)\n\t\t\t{\n\t\t\t\tvar parsed_string = parseInt(string);\n\n\t\t\t\tif (/^-?\\d+$/.test(string.toString()))\n\t\t\t\t{\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tservice.escape_html = function escape_html(str)\n\t\t\t{\n\t\t\t\tvar entityMap = {\n\t\t\t\t\t\"&\": \"&amp;\",\n\t\t\t\t\t\"<\": \"&lt;\",\n\t\t\t\t\t\">\": \"&gt;\",\n\t\t\t\t\t'\"': '&quot;',\n\t\t\t\t\t\"'\": '&#39;',\n\t\t\t\t\t\"/\": '&#x2F;'\n\t\t\t\t};\n\n\t\t\t\treturn String(str).replace(/[&<>\"'\\/]/g, function (s)\n\t\t\t\t{\n\t\t\t\t\treturn entityMap[s];\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tservice.get_datetime_moment = function get_datetime_moment(datetime_string)\n\t\t\t{\n\t\t\t\treturn moment.utc(datetime_string,\n\t\t\t\t\tservice.settings.datetime_format, true);\n\t\t\t};\n\n\t\t\tservice.get_date_string = function get_date_string(moment)\n\t\t\t{\n\t\t\t\treturn moment.format(service.settings.date_format);\n\t\t\t};\n\n\t\t\tservice.get_date_moment = function get_date_moment(date_string)\n\t\t\t{\n\t\t\t\treturn moment.utc(date_string, service.settings.date_format, true);\n\t\t\t};\n\n\t\t\tservice.get_time_moment = function get_time_moment(time_string)\n\t\t\t{\n\t\t\t\treturn moment.utc(time_string, service.settings.time_format, true);\n\t\t\t};\n\n\t\t\tservice.get_date_and_time_moment = function get_combined_moment(date_string, time_string)\n\t\t\t{\n\t\t\t\treturn moment.utc(date_string + \" \" + time_string,\n\t\t\t\t\tservice.settings.date_format + \" \" +\n\t\t\t\t\tservice.settings.time_format, true);\n\t\t\t};\n\n\t\t\tservice.get_time_string = function get_time_string(moment, format)\n\t\t\t{\n\t\t\t\tif(!format) {\n\t\t\t\t\tformat = service.settings.time_format;\n\t\t\t\t}\n\t\t\t\treturn moment.format(format);\n\t\t\t};\n\n\t\t\tservice.validate_date_string = function validate_date_string(\n\t\t\t\tdate_string, display_errors, field, field_display_name, required)\n\t\t\t{\n\t\t\t\tif(Juno.Common.Util.exists(date_string))\n\t\t\t\t{\n\t\t\t\t\tvar moment = service.get_date_moment(date_string);\n\t\t\t\t\tif(!moment.isValid())\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplay_errors.add_field_error(field, field_display_name + ' is invalid');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(required)\n\t\t\t\t{\n\t\t\t\t\tdisplay_errors.add_field_error(field, field_display_name + 'is required');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tservice.validate_time_string = function validate_time_string(\n\t\t\t\ttime_string, display_errors, field, field_display_name, required)\n\t\t\t{\n\t\t\t\tif (Juno.Common.Util.exists(time_string))\n\t\t\t\t{\n\t\t\t\t\tvar moment = service.get_time_moment(time_string);\n\t\t\t\t\tif (!moment.isValid())\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplay_errors.add_field_error(field, field_display_name + 'is invalid');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (required)\n\t\t\t\t{\n\t\t\t\t\tdisplay_errors.add_field_error(field, field_display_name + 'is required');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tservice.datetime_range_overlaps = function datetime_range_overlaps(\n\t\t\t\tfirst_start_moment, first_end_moment,\n\t\t\t\tsecond_start_moment, second_end_moment)\n\t\t\t{\n\t\t\t\t// the first must start before the second ends,\n\t\t\t\t// and the second must end after the first starts\n\t\t\t\treturn (first_end_moment === null ||\n\t\t\t\t\tsecond_start_moment === null ||\n\t\t\t\t\tsecond_start_moment.isBefore(first_end_moment)) &&\n\t\t\t\t\t(second_end_moment === null ||\n\t\t\t\t\t\tfirst_start_moment === null ||\n\t\t\t\t\t\tsecond_end_moment.isAfter(first_start_moment));\n\t\t\t};\n\n\t\t\tservice.sort_by_property_fn = function sort_by_property_fn(sort_col, sort_dir)\n\t\t\t{\n\t\t\t\tif (['ASC', 'DESC'].indexOf(sort_dir) < 0)\n\t\t\t\t{\n\t\t\t\t\tsort_dir = 'ASC';\n\t\t\t\t}\n\n\t\t\t\treturn function (a, b)\n\t\t\t\t{\n\t\t\t\t\tif (a[sort_col] > b[sort_col])\n\t\t\t\t\t{\n\t\t\t\t\t\treturn (sort_dir == 'ASC') ? 1 : -1;\n\t\t\t\t\t}\n\t\t\t\t\telse if (a[sort_col] < b[sort_col])\n\t\t\t\t\t{\n\t\t\t\t\t\treturn (sort_dir == 'ASC') ? -1 : 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tservice.create_availability_events = function create_availability_events(\n\t\t\t\t\tevent_array, availability, availability_types, start, end)\n\t\t\t{\n\t\t\t\tvar event_start = service.get_datetime_moment(availability.start_time);\n\t\t\t\tvar event_end = service.get_datetime_moment(availability.end_time);\n\n\t\t\t\t// use fullCalendar moment to ensure stripTime is available on object (used by calendar)\n\t\t\t\tevent_start = $.fullCalendar.moment(event_start);\n\t\t\t\tevent_end = $.fullCalendar.moment(event_end);\n\n\t\t\t\tvar availability_type = availability_types[\n\t\t\t\t\t\tavailability.availability_type_uuid];\n\n\t\t\t\tif(service.exists(availability_type) &&\n\t\t\t\t\t\tservice.datetime_range_overlaps(\n\t\t\t\t\t\t\t\tevent_start, event_end, start, end))\n\t\t\t\t{\n\t\t\t\t\tservice.create_background_events(event_array, event_start, event_end,\n\t\t\t\t\t\t\tavailability_type, availability.schedule_uuid);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tservice.create_relation_events = function create_relation_events(\n\t\t\t\t\tevent_array, schedule_templates, availability_types, relation, start, end)\n\t\t\t{\n\t\t\t\tvar template = schedule_templates[relation.schedule_template_uuid];\n\n\t\t\t\tvar relation_start = service.exists(relation.start_date) ?\n\t\t\t\t\t\tmoment(relation.start_date) : null;\n\t\t\t\tvar relation_end = service.exists(relation.end_date) ?\n\t\t\t\t\t\tmoment(relation.end_date) : null;\n\n\t\t\t\t// go through each day that is visible on the calendar\n\t\t\t\t// and if the schedule template relation is on the day,\n\t\t\t\t// create the template events for that day\n\n\t\t\t\tvar processing_date = moment.utc().year(start.year()).month(\n\t\t\t\t\t\tstart.month()).date(start.date()).hour(\n\t\t\t\t\t\t0).minute(0).second(0).milliseconds(0);\n\n\t\t\t\twhile(processing_date.unix() <= end.unix())\n\t\t\t\t{\n\t\t\t\t\tif((relation_start === null ||\n\t\t\t\t\t\t\trelation_start.unix() <= processing_date.unix()) &&\n\t\t\t\t\t\t\t(relation_end === null ||\n\t\t\t\t\t\t\t\t\trelation_end.unix() >= processing_date.unix()))\n\t\t\t\t\t{\n\t\t\t\t\t\tservice.create_template_events(\n\t\t\t\t\t\t\t\tevent_array, availability_types, template, relation, processing_date);\n\t\t\t\t\t}\n\n\t\t\t\t\tprocessing_date.add(1, 'd');\n\t\t\t\t}\n\t\t\t};\n\n\n\t\t\t// ===============================================================================================\n\t\t\t// Private Methods\n\t\t\t// ===============================================================================================\n\n\t\t\tservice.create_background_events = function create_background_events(\n\t\t\t\t\tevent_array, event_start, event_end, availability_type, schedule_uuid)\n\t\t\t{\n\t\t\t\t// get the available time ranges given the existing events and\n\t\t\t\t// the desired time range\n\t\t\t\tvar available_time_ranges = service.get_available_time_ranges(\n\t\t\t\t\t\tevent_array, event_start, event_end);\n\n\t\t\t\tfor(var k = 0; k < available_time_ranges.length; k++)\n\t\t\t\t{\n\t\t\t\t\t// create an event for all the available time gaps\n\t\t\t\t\tevent_array.push(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstart: available_time_ranges[k].start,\n\t\t\t\t\t\t\t\tend: available_time_ranges[k].end,\n\t\t\t\t\t\t\t\tcolor: availability_type.color,\n\t\t\t\t\t\t\t\trendering: 'background',\n\t\t\t\t\t\t\t\tresourceId: schedule_uuid,\n\t\t\t\t\t\t\t\tavailability_type: availability_type\n\t\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tservice.get_available_time_ranges = function get_available_time_ranges(\n\t\t\t\t\tevents, start_time, end_time)\n\t\t\t{\n\t\t\t\tvar overlapping_events = service.get_overlapping_events(\n\t\t\t\t\t\tevents, start_time, end_time);\n\n\t\t\t\t// if there are no overlapping events, then the whole range is available\n\t\t\t\tif(overlapping_events.length === 0)\n\t\t\t\t{\n\t\t\t\t\treturn [ { start: start_time, end: end_time } ];\n\t\t\t\t}\n\n\t\t\t\t// otherwise there are overlapping events: go through and find the gaps\n\t\t\t\tvar available_time_ranges = [];\n\n\t\t\t\tvar available_time_range = {};\n\t\t\t\tfor(var i = 0; i < overlapping_events.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar overlapping = overlapping_events[i];\n\n\t\t\t\t\t// if the overlap starts in the middle of the event,\n\t\t\t\t\t// the last available time slot ends there\n\t\t\t\t\tif(!service.exists(available_time_range.end) &&\n\t\t\t\t\t\t\toverlapping.start.isAfter(start_time))\n\t\t\t\t\t{\n\t\t\t\t\t\tavailable_time_range.end = overlapping.start;\n\n\t\t\t\t\t\t// if ended without a start, the start was the start_time\n\t\t\t\t\t\tif(!service.exists(available_time_range.start))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tavailable_time_range.start = start_time;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// if a valid available time range has been found,\n\t\t\t\t\t// add it and reset the working hash\n\t\t\t\t\tif(service.exists(available_time_range.start) &&\n\t\t\t\t\t\t\tservice.exists(available_time_range.end) &&\n\t\t\t\t\t\t\tavailable_time_range.start.isBefore(available_time_range.end))\n\t\t\t\t\t{\n\t\t\t\t\t\tavailable_time_ranges.push(angular.copy(available_time_range));\n\t\t\t\t\t\tavailable_time_range = {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// if the overlap starts in the middle of the event,\n\t\t\t\t\t// the last available time slot ends there\n\t\t\t\t\tif(!service.exists(available_time_range.start) &&\n\t\t\t\t\t\t\toverlapping.end.isBefore(end_time))\n\t\t\t\t\t{\n\t\t\t\t\t\tavailable_time_range.start = overlapping.end;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// started an availability slot at the end of the range, end it and add\n\t\t\t\tif(!service.exists(available_time_range.end) &&\n\t\t\t\t\t\tservice.exists(available_time_range.start))\n\t\t\t\t{\n\t\t\t\t\tavailable_time_range.end = end_time;\n\t\t\t\t\tavailable_time_ranges.push(angular.copy(available_time_range));\n\t\t\t\t}\n\n\t\t\t\treturn available_time_ranges;\n\t\t\t};\n\n\t\t\tservice.get_overlapping_events = function get_overlapping_events(\n\t\t\t\t\tevents, start_time, end_time)\n\t\t\t{\n\t\t\t\tvar overlaps = [];\n\t\t\t\tfor(var i = 0; i < events.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar bg_event = events[i];\n\t\t\t\t\tif(service.datetime_range_overlaps(\n\t\t\t\t\t\t\tstart_time, end_time, bg_event.start, bg_event.end))\n\t\t\t\t\t{\n\t\t\t\t\t\toverlaps.push(bg_event);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toverlaps.sort(service.sort_by_property_fn('start'));\n\n\t\t\t\treturn overlaps;\n\t\t\t};\n\n\t\t\tservice.create_template_events = function create_template_events(\n\t\t\t\t\tevent_array, availability_types, template, relation, moment_date)\n\t\t\t{\n\t\t\t\tvar day = moment_date.format('dddd').toLowerCase();\n\n\t\t\t\t// find the time periods defined for the template on the\n\t\t\t\t// given day of the week\n\t\t\t\tvar process_time_periods = [];\n\t\t\t\tfor(var i = 0; i < template.schedule_template_days.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar template_day = template.schedule_template_days[i];\n\t\t\t\t\tif(day == template_day.day_of_the_week)\n\t\t\t\t\t{\n\t\t\t\t\t\tprocess_time_periods =\n\t\t\t\t\t\t\t\ttemplate_day.schedule_template_time_periods;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// for each time period, calculate the start and end times\n\t\t\t\t// and create the events for non-overlapping time ranges\n\t\t\t\tfor(var j = 0; j < process_time_periods.length; j++)\n\t\t\t\t{\n\t\t\t\t\tvar time_period = process_time_periods[j];\n\n\t\t\t\t\tvar event_start = moment_date.clone().hour(\n\t\t\t\t\t\t\ttime_period.start_time.split(':')[0]).minute(\n\t\t\t\t\t\t\ttime_period.start_time.split(':')[1]);\n\n\t\t\t\t\tvar event_end = moment_date.clone().hour(\n\t\t\t\t\t\t\ttime_period.end_time.split(':')[0]).minute(\n\t\t\t\t\t\t\ttime_period.end_time.split(':')[1]);\n\n\t\t\t\t\tif(event_end.hour() === 0 && event_end.minute() === 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tevent_end.add(1, 'day');\n\t\t\t\t\t}\n\n\t\t\t\t\tvar availability_type = availability_types[\n\t\t\t\t\t\t\ttime_period.availability_type_uuid];\n\n\t\t\t\t\tif(service.exists(availability_type))\n\t\t\t\t\t{\n\t\t\t\t\t\tservice.create_background_events(\n\t\t\t\t\t\t\t\tevent_array, event_start, event_end,\n\t\t\t\t\t\t\t\tavailability_type, relation.schedule_uuid);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn service;\n\t\t}\n\t]\n);\n","'use strict';\n\n\n//=========================================================================\n// Calendar Event Controller\n//=========================================================================/\n\nangular.module('cpCalendar').controller(\n\t'cpCalendar.EventController',\n\n\t[\n\t\t'$scope',\n\t\t'$q',\n\t\t'$timeout',\n\t\t'$state',\n\t\t'$uibModalInstance',\n\n\t\t'errorsService',\n\t\t'cpCalendar.Util',\n\n\n\t\t'access_control',\n\t\t'key_binding',\n\t\t'focus',\n\t\t'type', 'parent_scope', 'label', 'edit_mode', 'data',\n\n\tfunction (\n\t\t$scope, $q, $timeout, $state, $uibModalInstance,\n\n\t\tmessages_factory, util,\n\n\t\taccess_control,\n\t\tkey_binding, focus,\n\t\ttype, parent_scope, label, edit_mode, data\n\t)\n{\n\t$scope.parent_scope = parent_scope;\n\n\n\t//=========================================================================\n\t// Access Control\n\t//=========================================================================/\n\n\n\t//=========================================================================\n\t// Local scope variables\n\t//=========================================================================/\n\n\t$scope.access_control= access_control;\n\n\t$scope.label = label;\n\t$scope.edit_mode = edit_mode;\n\n\t$scope.key_binding = key_binding;\n\t$scope.event_uuid = data.uuid;\n\t$scope.num_invoices = data.num_invoices;\n\t$scope.tag_names = data.tag_names;\n\n\t$scope.schedule = data.schedule;\n\n\t$scope.availability_types = data.availability_types;\n\t$scope.schedule_templates = data.schedule_templates;\n\n\t$scope.event_data = {\n\t\tstart_time: null,\n\t\tend_time: null,\n\t\treason: null,\n\t\tdescription: null\n\t};\n\n\t$scope.time_interval = data.time_interval;\n\t$scope.start_date = null;\n\t$scope.start_time = null;\n\t$scope.end_date = null;\n\t$scope.end_time = null;\n\n\t$scope.last_event_length = null;\n\n\t$scope.patient = parent_scope.calendar_api_adapter.patient_model;\n\t$scope.autocomplete_values = {};\n\n\t$scope.active_template_events = [];\n\n\t$scope.event_statuses = $scope.parent_scope.event_statuses;\n\t$scope.event_status_options = [];\n\t$scope.selected_event_status = null;\n\t$scope.default_event_status = null;\n\n\t$scope.selected_site_name = null;\n\n\t$scope.timepicker_format = \"h:mm A\";\n\n\t$scope.field_value_mapping = {\n\t\tstart_date: 'Start Date',\n\t\tstart_time: 'Start Time',\n\t\tend_date: 'End Date',\n\t\tend_time: 'End Time'\n\t};\n\t$scope.display_messages = messages_factory.factory();\n\n\t$scope.initialized = false;\n\t$scope.working = false;\n\n\t//=========================================================================\n\t// Init\n\t//=========================================================================/\n\n\t$scope.init = function init()\n\t{\n\t\tif(!access_control.has_permission('scheduling_create'))\n\t\t{\n\t\t\t$timeout(function()\n\t\t\t{\n\t\t\t\t$scope.cancel();\n\t\t\t});\n\t\t}\n\n\t\tvar moment_start = moment(data.start_time);\n\t\tvar moment_end = moment(data.end_time);\n\n\t\t$scope.start_time = util.get_time_string(moment_start, $scope.timepicker_format);\n\t\t$scope.end_time = util.get_time_string(moment_end, $scope.timepicker_format);\n\t\t$scope.start_date = util.get_date_string(moment_start);\n\t\t$scope.end_date = util.get_date_string(moment_end);\n\n\t\t$scope.last_event_length = moment_end.diff(moment_start, 'minutes');\n\n\t\t// maintain a list of the 'active' templates based on start time\n\t\t$scope.set_active_template_events();\n\n\t\tfor(var key in $scope.event_statuses)\n\t\t{\n\t\t\tif($scope.event_statuses.hasOwnProperty(key))\n\t\t\t{\n\t\t\t\t$scope.event_status_options.push($scope.event_statuses[key]);\n\t\t\t}\n\t\t}\n\t\t$scope.default_event_status = data.default_event_status;\n\t\t$scope.set_selected_event_status(data.event_status_uuid);\n\n\t\tif(edit_mode)\n\t\t{\n\t\t\t$scope.event_data.reason = data.reason;\n\t\t\t$scope.event_data.description = data.description;\n\n\t\t\t// either load the patient data and init the autocomplete\n\t\t\t// or ensure the patient model is clear\n\t\t\t$scope.patient.uuid = data.demographics_patient_uuid;\n\t\t\t$scope.init_patient_autocomplete().then(function() {\n\t\t\t\t$scope.initialized = true;\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// create mode: adjust the end date (if needed)\n\t\t\t// and clear the patient model\n\t\t\t$scope.adjust_end_datetime();\n\t\t\t$scope.patient.clear();\n\n\t\t\t// autofocus the patient field\n\t\t\tfocus.element(\"#input-patient\");\n\n\t\t\t$scope.initialized = true;\n\t\t}\n\t};\n\n\t$scope.init_patient_autocomplete = function init_patient_autocomplete()\n\t{\n\t\tvar deferred = $q.defer();\n\n\t\tconsole.log($scope.patient);\n\t\tif(util.exists($scope.patient.uuid) && $scope.patient.uuid != 0)\n\t\t{\n\t\t\tparent_scope.autocomplete.init_autocomplete_values(\n\t\t\t\t{ patient: $scope.patient.uuid },\n\t\t\t\t$scope.autocomplete_values).then(\n\t\t\t\tfunction(results)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(results);\n\t\t\t\t\t$scope.autocomplete_values = results.data;\n\t\t\t\t\t$scope.patient.fill_data($scope.autocomplete_values.patient.data);\n\t\t\t\t\tdeferred.resolve();\n\t\t\t\t},\n\t\t\t\tfunction(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log('error initializing patient autocomplete', errors);\n\t\t\t\t\t$scope.patient.clear();\n\t\t\t\t\tdeferred.resolve();\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$scope.patient.clear();\n\t\t\tdeferred.resolve();\n\t\t}\n\n\t\treturn deferred.promise;\n\t};\n\n\t//=========================================================================\n\t// Private methods\n\t//=========================================================================/\n\n\t$scope.get_inclusive_days = function get_inclusive_days(\n\t\tmoment_start, moment_end)\n\t{\n  \t\tvar days = [];\n  \t\tvar moment_day = moment_start.clone().hour(0).minute(0);\n  \t\twhile(moment_day.isBefore(moment_end))\n  \t\t{\n  \t\t\tdays.push(moment_day.clone());\n  \t\t\tmoment_day.add(1, 'day');\n  \t\t}\n  \t\treturn days;\n\t};\n\n\t$scope.set_selected_event_status = function set_selected_event_status(uuid)\n\t{\n\t\tvar event_status_uuid = $scope.default_event_status;\n\t\tif(util.exists(uuid))\n\t\t{\n\t\t\tevent_status_uuid = uuid;\n\t\t}\n\n\t\tif(!util.exists(event_status_uuid) ||\n\t\t\t!util.exists($scope.event_statuses[event_status_uuid]))\n\t\t{\n\t\t\t// if not set or found just pick the first one\n\t\t\tevent_status_uuid = $scope.event_status_options[0].uuid;\n\t\t}\n\n\t\t$scope.selected_event_status = $scope.event_statuses[event_status_uuid];\n\t};\n\n\t$scope.set_active_template_events = function set_active_template_events()\n\t{\n\t\tvar active_events = [];\n\n\t\t// find the active template events based on the current event date/times\n\t\t// if the date/times are currently valid, otherwise leave as-is\n\n\t\tvar moment_start = util.get_date_and_time_moment(\n\t\t\t$scope.start_date, $scope.formatted_time($scope.start_time));\n\t\tvar moment_end = util.get_date_and_time_moment(\n\t\t\t$scope.end_date, $scope.formatted_time($scope.end_time));\n\n\t\tif(moment_start.isValid() && moment_end.isValid())\n\t\t{\n\t\t\t// use the parent functions to get a list of non-overlapping\n\t\t\t// background events for the day(s) in the range\n\n\t\t\tvar date_start = util.get_date_moment($scope.start_date);\n\t\t\tvar date_end = util.get_date_moment(\n\t\t\t\t$scope.end_date).add(1, 'day');\n\n\t\t\tif(util.exists($scope.schedule.availabilities))\n\t\t\t{\n\t\t\t\tfor(var j = 0; j < $scope.schedule.availabilities.length; j++)\n\t\t\t\t{\n\t\t\t\t\tutil.create_availability_events(\n\t\t\t\t\t\t\tactive_events, $scope.schedule.availabilities[j], $scope.availability_types,\n\t\t\t\t\t\t\tdate_start, date_end);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(util.exists($scope.schedule.relations))\n\t\t\t{\n\t\t\t\tfor(var k = 0; k < $scope.schedule.relations.length; k++)\n\t\t\t\t{\n\t\t\t\t\tutil.create_relation_events(\n\t\t\t\t\t\tactive_events, $scope.schedule_templates, $scope.availability_types,\n\t\t\t\t\t\t$scope.schedule.relations[k], date_start, date_end);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// filter out the ones that aren't in the appointment time range\n\t\tactive_events = $.grep(active_events, function(ev) {\n\t\t\treturn ev.start.isBefore(moment_end) &&\n\t\t\t\tev.end.isAfter(moment_start);\n\t\t});\n\n\t\t// sort them: unavailable first, then by date\n\t\tactive_events.sort(function(a, b)\n\t\t{\n\t\t\tif(a.availability_type.system_code ===\n\t\t\t\tb.availability_type.system_code)\n\t\t\t{\n\t\t\t\treturn a.start.unix() - b.start.unix();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn a.availability_type.system_code -\n\t\t\t\t\tb.availability_type.system_code;\n\t\t\t}\n\n\t\t});\n\n\t\t\t$scope.active_template_events = active_events;\n\t\t}\n\t};\n\n\t$scope.adjust_end_datetime = function adjust_end_datetime(length_minutes)\n\t{\n\t\t// adjusts the end time to the specified length or\n\t\t// adjusts to keep the event length the same as it last was\n\n\t\tvar moment_start = util.get_date_and_time_moment(\n\t\t\t$scope.start_date, $scope.formatted_time($scope.start_time));\n\t\tif(moment_start.isValid())\n\t\t{\n\t\t\tvar new_event_length = util.exists(length_minutes) ?\n\t\t\t\tlength_minutes : $scope.last_event_length;\n\n\t\t\tvar moment_end = moment_start.add(new_event_length, 'minutes');\n\n\t\t\t$scope.end_date = util.get_date_string(moment_end);\n\t\t\t$scope.end_time = util.get_time_string(moment_end, $scope.timepicker_format);\n\t\t}\n\t};\n\n\t$scope.update_last_event_length = function update_last_event_length()\n\t{\n\t\t// saves the current event length, if the date/times are valid\n\n\t\tvar moment_start = util.get_date_and_time_moment(\n\t\t\t$scope.start_date, $scope.formatted_time($scope.start_time));\n\t\tvar moment_end = util.get_date_and_time_moment(\n\t\t\t$scope.end_date, $scope.formatted_time($scope.end_time));\n\n\t\tif(moment_start.isValid() && moment_end.isValid())\n\t\t{\n\t\t\tvar event_length = moment_end.diff(moment_start, 'minutes');\n\t\t\tif(event_length > 0)\n\t\t\t{\n\t\t\t$scope.last_event_length = event_length;\n\t\t\t}\n\t\t}\n\t};\n\n\t$scope.validate_form = function validate_form()\n\t{\n\t\t$scope.display_messages.clear();\n\n\t\tutil.validate_date_string($scope.start_date,\n\t\t\t$scope.display_messages, 'start_date', 'Start Time', true);\n\n\t\tutil.validate_time_string($scope.formatted_time($scope.start_time),\n\t\t\t$scope.display_messages, 'start_time', 'Start Time', true);\n\n\t\tutil.validate_date_string($scope.end_date,\n\t\t\t$scope.display_messages, 'end_date', 'End Time', true);\n\n\t\tutil.validate_time_string($scope.formatted_time($scope.end_time),\n\t\t\t$scope.display_messages, 'end_time', 'End Time', true);\n\n\t\t// if all the date/time fields look good, validate range\n\t\tif(!$scope.display_messages.has_errors())\n\t\t{\n\t\t\tvar start_datetime = util.get_date_and_time_moment(\n\t\t\t\t$scope.start_date, $scope.formatted_time($scope.start_time));\n\t\t\tvar end_datetime = util.get_date_and_time_moment(\n\t\t\t\t$scope.end_date, $scope.formatted_time($scope.end_time));\n\n\t\t\tif(end_datetime.isSame(start_datetime) ||\n\t\t\t\tend_datetime.isBefore(start_datetime))\n\t\t\t{\n\t\t\t\t$scope.display_messages.add_standard_error(\"The appointment must end after it starts\");\n\t\t\t}\n\t\t}\n\n\t\treturn !$scope.display_messages.has_errors();\n\t};\n\n\t$scope.save_event = function save_event()\n\t{\n\t\tvar deferred = $q.defer();\n\n\t\tvar start_datetime = util.get_date_and_time_moment(\n\t\t\t\t$scope.start_date, $scope.formatted_time($scope.start_time));\n\n\t\tvar end_datetime = util.get_date_and_time_moment(\n\t\t\t\t$scope.end_date, $scope.formatted_time($scope.end_time));\n\n\t\tparent_scope.calendar_api_adapter.save_event(\n\t\t\t\tedit_mode,\n\t\t\t\t$scope.event_uuid,\n\t\t\t\tstart_datetime,\n\t\t\t\tend_datetime,\n\t\t\t\t$scope.event_data,\n\t\t\t\t$scope.schedule.uuid,\n\t\t\t\t$scope.selected_event_status.uuid,\n\t\t\t\t$scope.patient.uuid,\n\t\t\t\t$scope.selected_site_name\n\t\t).then(\n\t\t\t\tfunction(results)\n\t\t\t\t{\n\t\t\t\t\tif(parent_scope.calendar_api_adapter.process_save_results(results, $scope.display_messages))\n\t\t\t\t\t{\n\t\t\t\t\t\tdeferred.resolve(results);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdeferred.reject(results);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (results)\n\t\t\t\t{\n\t\t\t\t\tparent_scope.calendar_api_adapter.process_save_results(results, $scope.display_messages);\n\t\t\t\t\tdeferred.reject();\n\t\t\t\t});\n\n\t\treturn deferred.promise;\n\t};\n\n\t$scope.delete_event = function delete_event()\n\t{\n\t\tvar deferred = $q.defer();\n\n\t\tparent_scope.calendar_api_adapter.delete_event($scope.event_uuid).then(function()\n\t\t{\n\t\t\tdeferred.resolve();\n\n\t\t}, function()\n\t\t{\n\t\t\tdeferred.reject();\n\t\t});\n\n\t\treturn deferred.promise;\n\t};\n\n\t$scope.formatted_time = function formatted_time(time_str)\n\t{\n\t\t// the time picker format is HH:MM AM - need to strip spaces\n\t\treturn time_str.replace(/ /g,'');\n\t};\n\n\t//=========================================================================\n\t// Watches\n\t//=========================================================================/\n\n\t// when the start date is changed,\n\t// update the active template events\n\t$scope.$watch('start_date', function(new_start_date, old_start_date)\n\t{\n\t\t// avoid running first time this fires during initialization\n\t\tif(new_start_date !== old_start_date)\n\t\t{\n\t\t\t$scope.set_active_template_events();\n\t\t\t$scope.adjust_end_datetime();\n\t\t}\n\t});\n\n\t// when the start time is changed,\n\t// update the active template events and adjust the end time\n\t$scope.$watch('start_time', function(new_start_time, old_start_time)\n\t{\n\t\t// avoid running first time this fires during initialization\n\t\tif(new_start_time !== old_start_time)\n\t\t{\n\t\t\t$scope.set_active_template_events();\n\t\t\t$scope.adjust_end_datetime();\n\t\t}\n\t});\n\n\t// when the end date is changed, track the event length\n\t$scope.$watch('end_date', function(new_end_date, old_end_date)\n\t{\n\t\t// avoid running first time this fires during initialization\n\t\tif(new_end_date !== old_end_date)\n\t\t{\n\t\t\t$scope.set_active_template_events();\n\t\t\t$scope.update_last_event_length();\n\t\t}\n\t});\n\n\t// when the end time is changed, track the event length\n\t$scope.$watch('end_time', function(new_end_time, old_end_time)\n\t{\n\t\t// avoid running first time this fires during initialization\n\t\tif(new_end_time !== old_end_time)\n\t\t{\n\t\t\t$scope.set_active_template_events();\n\t\t\t$scope.update_last_event_length();\n\t\t}\n\t});\n\n\t//=========================================================================\n\t// Public methods\n\t//=========================================================================/\n\n\t$scope.loaded_new_photo = function loaded_new_photo(file, event)\n\t{\n\t\tif(file == null)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\t$scope.preview_patient_image = file;\n\t\t$scope.new_photo = true;\n\t\t$scope.patient.has_photo = true;\n\t\t$scope.patient.upload_photo(file);\n\t};\n\n\t$scope.is_working = function()\n\t{\n\t\treturn $scope.working;\n\t};\n\n\t$scope.is_initialized = function()\n\t{\n\t\treturn $scope.initialized;\n\t};\n\n\t$scope.is_patient_selected = function()\n\t{\n\t\treturn util.exists($scope.patient.uuid);\n\t};\n\n\t$scope.clear_patient = function()\n\t{\n\t\t$scope.autocomplete_values.patient = null;\n\t\t$scope.patient.clear();\n\t};\n\n\t$scope.on_select_patient = function on_select_patient($item, $model, $label, $event)\n\t{\n\t\t// $item is a Patient pojo\n\t\t$scope.patient.uuid = $item.data[$item.value_field];\n\t\t$scope.patient.fill_data($item.data);\n\t};\n\n\t$scope.set_event_length = function set_event_length(minutes)\n\t{\n\t\t$scope.adjust_end_datetime(minutes);\n\t};\n\n\t$scope.save = function save()\n\t{\n\t\tif(!$scope.validate_form())\n\t\t{\n\t\t\t\treturn false;\n\t\t}\n\n\t\t$scope.working = true;\n\t\t$scope.save_event().then(function()\n\t\t{\n\t\t\t$scope.parent_scope.refetch_events();\n\t\t\t$uibModalInstance.close();\n\t\t\t$scope.working = false;\n\t\t}, function()\n\t\t{\n\t\t\tif(!$scope.display_messages.has_standard_errors())\n\t\t\t{\n\t\t\t\t$scope.display_messages.add_generic_fatal_error();\n\t\t\t}\n\t\t\t$scope.working = false;\n\t\t});\n\t};\n\n\t$scope.delete = function()\n\t{\n\t\t$scope.working = true;\n\t\t$scope.delete_event().then(function()\n\t\t{\n\t\t\t$scope.parent_scope.refetch_events();\n\t\t\t$uibModalInstance.close();\n\t\t\t$scope.working = false;\n\t\t}, function()\n\t\t{\n\t\t\t$scope.display_messages.add_generic_fatal_error();\n\t\t\t$scope.working = false;\n\t\t});\n\t};\n\n\t$scope.cancel = function()\n\t{\n\t\t$uibModalInstance.dismiss('cancel');\n\t};\n\n\t$scope.save_and_bill = function()\n\t{\n\t\tif(!$scope.validate_form())\n\t\t{\n\t  \t\treturn false;\n\t\t}\n\n\t\t$scope.working = true;\n\t\t$scope.save_event().then(function()\n\t\t{\n\t\t\t$scope.parent_scope.refetch_events();\n\t\t\t$uibModalInstance.close();\n\t\t\t$scope.working = false;\n\t\t\t$scope.parent_scope.open_create_invoice(\n\t\t\t\t$scope.event_uuid,\n\t\t\t\t$scope.schedule.uuid,\n\t\t\t\t$scope.patient.uuid);\n\t\t}, function()\n\t\t{\n\t\t\t$scope.display_messages.add_generic_fatal_error();\n\t\t\t$scope.working = false;\n\t\t});\n\t};\n\n\t$scope.view_invoices = function()\n\t{\n\t\t$scope.parent_scope.open_view_invoices($scope.event_uuid);\n\t};\n\n\t$scope.create_patient = function create_patient()\n\t{\n\t\tvar edit_mode_callback = function() { return false; };\n\t\tvar on_save_callback = function() { return $scope.on_patient_modal_save; };\n\t\tvar load_error_link_patient_fn = function() { return $scope.on_patient_modal_save; };\n\n\t\t$scope.create_patient_dialog = parent_scope.calendar_api_adapter.open_patient_dialog(\n\t\t\t\tedit_mode_callback, on_save_callback, load_error_link_patient_fn);\n\t};\n\n\t$scope.modify_patient = function modify_patient()\n\t{\n\t\tif(!$scope.patient.uuid)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tvar edit_mode_callback = function() { return true; };\n\t\tvar on_save_callback = function() { return $scope.on_patient_modal_save; };\n\t\tvar load_error_link_patient_fn = function() { return $scope.on_patient_modal_save; };\n\n\t\t$scope.modify_patient_dialog = parent_scope.calendar_api_adapter.open_patient_dialog(\n\t\t\t\tedit_mode_callback, on_save_callback, load_error_link_patient_fn);\n\t};\n\n\t// for callback on create/edit patient modal\n\t$scope.on_patient_modal_save = function on_patient_modal_save(uuid)\n\t{\n\t\t// load the newly created/updated patient\n\t\t$scope.patient.uuid = uuid;\n\t\t$scope.init_patient_autocomplete();\n\t};\n\n\t//=========================================================================\n\t//  Key Bindings\n\t//=========================================================================\n\n\t$scope.key_bind_settings =\n\t{\n\t\t\"ctrl+enter\": {\n\t\t\ttitle: 'Ctrl+Enter',\n\t\t\ttooltip: 'Save',\n\t\t\tdescription: 'Save appointment',\n\t\t\tcallback_fn: function enter_callback()\n\t\t\t{\n\t\t\t\tif(!$scope.is_working())\n\t\t\t\t{\n\t\t\t\t\t$scope.save();\n\t\t\t\t}\n\t\t\t},\n\t\t\ttarget: null\n\t\t},\n\t\t\"ctrl+shift+enter\": {\n\t\t\ttitle: 'Ctrl+Shift+Enter',\n\t\t\ttooltip: 'Save And Bill',\n\t\t\tdescription: 'Save and bill for appointment',\n\t\t\tcallback_fn: function enter_callback()\n\t\t\t{\n\t\t\t\tif(!$scope.is_working())\n\t\t\t\t{\n\t\t\t\t\t$scope.save_and_bill();\n\t\t\t\t}\n\t\t\t},\n\t\t\ttarget: null\n\t\t}\n\t};\n\t$scope.key_binding.bind_key_global(\"ctrl+enter\", $scope.key_bind_settings[\"ctrl+enter\"]);\n\t$scope.key_binding.bind_key_global(\"ctrl+shift+enter\", $scope.key_bind_settings[\"ctrl+shift+enter\"]);\n}]);\n","angular.module('cpCalendar')\n\n\n//=========================================================================\n// Main Calendar Controller\n//=========================================================================/\n\n.controller('cpCalendar.Controller', [\n\t'$scope',\n\t'$q',\n\t'$stateParams',\n\t'$uibModal',\n\t'$window',\n\t'cpCalendar.Util',\n\t'uiCalendarConfig',\n\nfunction(\n\t\t$scope,\n\t\t$q,\n\t\t$stateParams,\n\t\t$uibModal,\n\t\t$window,\n\t\tutil,\n\t\tuiCalendarConfig)\n{\n\n\t//$scope.global_state = global_state;\n\n\t$scope.availability_type_model = null;\n\n\t$scope.calendar_name = 'cpCalendar';\n\t$scope.event_sources = [];\n\n\t$scope.min_height = 650;\n\n\t$scope.default_calendar_view = 'agendaWeek';\n\t$scope.default_time_interval = '00:15:00';\n\t$scope.default_event_color = \"#333\";\n\t$scope.default_auto_refresh_minutes = 3;\n\n\t$scope.time_interval_options =\n\t\t\t['00:05:00','00:10:00','00:15:00','00:30:00'];\n\t$scope.selected_time_interval = $scope.default_time_interval;\n\n\t$scope.default_date = null;\n\n\tif($stateParams.default_date)\n\t{\n\t\tvar default_moment =\n\t\t\t\tutil.get_date_moment($stateParams.default_date);\n\t\tif( default_moment.isValid() )\n\t\t{\n\t\t\t$scope.default_date =\n\t\t\t\t\tutil.get_date_moment($stateParams.default_date);\n\t\t}\n\t}\n\n\t$scope.selected_schedule = null;\n\t$scope.selected_site_name = null;\n\t$scope.schedule_options = [];\n\t$scope.resource_options = [];\n\t$scope.resource_option_hash = {};\n\t$scope.selected_resources = [];\n\n\t$scope.event_statuses = {};\n\t$scope.sites = {};\n\t$scope.site_options = [];\n\t$scope.rotate_statuses = [];\n\t$scope.availability_types = {};\n\t$scope.schedule_templates = {};\n\n\t$scope.schedules = [];\n\t$scope.events = [];\n\n\t$scope.calendar_loading = false;\n\t$scope.initialized = false;\n\n\t$scope.opening_dialog = false;\n\t$scope.dialog = null;\n\n\t$scope.calendar = function calendar()\n\t{\n\t\treturn uiCalendarConfig.calendars[$scope.calendar_name];\n\t};\n\n\t$scope.is_initialized = function()\n\t{\n\t\treturn $scope.initialized;\n\t};\n\n\t$scope.show_schedule_select = function()\n\t{\n\t\treturn $scope.view_name() !== 'resourceDay';\n\t};\n\n\t$scope.show_time_intervals = function()\n\t{\n\t\treturn $scope.view_name() !== 'month';\n\t};\n\n\n\n\n\t//=========================================================================\n\t// Init\n\t//=========================================================================/\n\n\t$scope.init = function init()\n\t{\n\t\t$scope.default_date = $scope.global_state.selected_date;\n\t\t$scope.ui_config.calendar.schedulerlicensekey = \"0752822575-fcs-1459294728\";\n\t\t\t\t//$scope.global_state.global_settings.interface_preferences.scheduler_license_key,\n\t\t$scope.ui_config.calendar.defaultView = $scope.calendar_view_name();\n\n\t\t$scope.load_schedule_templates().then(\n\t\t\t$scope.load_availability_types).then(\n\t\t\t$scope.load_event_statuses).then(\n\t\t\t$scope.load_schedule_options).then(\n\t\t\t$scope.load_site_options).then(\n\t\t\t$scope.load_default_selections).then(\n\t\t\t$scope.load_selected_schedules).then(\n\t\t\t$scope.set_calendar_resources).then(\n\t\t\t$scope.set_event_sources).then(\n\t\t\t$scope.init_events_auto_refresh).then(\n\t\t\t\tfunction success()\n\t\t\t\t{\n\t\t\t\t\t$scope.initialized = true;\n\t\t\t\t});\n\t};\n\n\t$scope.init_events_auto_refresh = function init_events_auto_refresh()\n\t{\n\t\t// if there is already a refresh set up, stop it\n\t\tvar refresh = $scope.get_global_state('schedule_auto_refresh');\n\t\tif(refresh !== null)\n\t\t{\n\t\t\tclearInterval(refresh);\n\t\t}\n\n\t\t// get the refresh interval from preferences, or use default\n\t\tvar minutes = $scope.get_global_preference_setting(\n\t\t\t\t'schedule_auto_refresh_minutes');\n\t\tif(!util.exists(minutes) || !util.is_integer_string(minutes))\n\t\t{\n\t\t\tminutes = $scope.default_auto_refresh_minutes;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tminutes = parseInt(minutes);\n\t\t}\n\n\t\tif(minutes > 0)\n\t\t{\n\t\t\t// start the auto refresh and save its ID to global state\n\t\t\t$scope.save_global_state('schedule_auto_refresh',\n\t\t\t\t\tsetInterval($scope.refetch_events, minutes * 60 * 1000));\n\t\t}\n\t};\n\n\n\t//=========================================================================\n\t// Global State Manipulation\n\t//=========================================================================/\n\n\t$scope.get_global_preference_setting = function get_global_preference_setting(key)\n\t{\n\t\tif(util.exists($scope.global_state.preferences) &&\n\t\t\t\tutil.exists($scope.global_state.preferences.settings))\n\t\t{\n\t\t\treturn $scope.global_state.preferences.settings[key];\n\t\t}\n\n\t\treturn null;\n\t};\n\n\t$scope.get_global_state = function get_global_setting(key)\n\t{\n\t\tvar setting = $scope.global_state[key];\n\t\tif(!util.exists(setting))\n\t\t{\n\t\t\tsetting = null;\n\t\t}\n\t\treturn setting;\n\t};\n\n\t$scope.save_global_state = function save_global_setting(key, value)\n\t{\n\t\t$scope.global_state[key] = value;\n\t};\n\n\n\t//=========================================================================\n\t// Event Handlers\n\t//=========================================================================/\n\n\t$scope.on_schedule_changed = function on_schedule_changed(selected_schedule, selected_site_name)\n\t{\n\t\tif(!util.exists(selected_schedule))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tvar schedule_uuid = selected_schedule.uuid;\n\n\t\t$scope.save_global_state('schedule_default', schedule_uuid);\n\t\t$scope.selected_schedule = $scope.calendar_api_adapter.get_selected_schedule(\n\t\t\t\t$scope.schedule_options);\n\n\t\tif(util.exists(selected_site_name))\n\t\t{\n\t\t\t$scope.selected_site_name = selected_site_name;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$scope.selected_site_name = null;\n\t\t}\n\n\t\t// reload the schedule and then events data, triggering a rerender\n\t\t$scope.load_selected_schedules().then($scope.refetch_events);\n\t};\n\n\t$scope.on_time_interval_changed = function()\n\t{\n\t\t$scope.save_global_state(\n\t\t\t\t'schedule_time_interval', $scope.selected_time_interval);\n\n\t\t// updating the config will automatically trigger an events refresh\n\t\t$scope.ui_config.calendar.slotDuration = $scope.selected_time_interval;\n\t\t$scope.ui_config.calendar.slotLabelInterval = $scope.selected_time_interval;\n\t};\n\n\t$scope.on_resources_changed = function(selected_resource_uuids)\n\t{\n\t\t$scope.save_global_state('schedule_resources', selected_resource_uuids);\n\n\t\tvar updated_resources = [];\n\t\tfor(var i = 0; i < $scope.resource_options.length; i++)\n\t\t{\n\t\t\tvar schedule = $scope.resource_options[i];\n\t\t\tif(selected_resource_uuids.indexOf(schedule.uuid) > -1)\n\t\t\t{\n\t\t\t\tschedule.name = schedule.display_name;\n\t\t\t\tupdated_resources.push(schedule);\n\t\t\t}\n\t\t}\n\t\t$scope.selected_resources = updated_resources;\n\n\t\t// reload the schedules and then update the calendar config,\n\t\t// triggering a refetch events and rerender\n\t\t$scope.load_selected_schedules().then($scope.set_calendar_resources);\n\t};\n\n\t$scope.on_view_render = function on_view_render()\n\t{\n\t\tif($scope.is_initialized() && $scope.calendar())\n\t\t{\n\t\t\t$scope.global_state.selected_date = moment(util.get_date_string(\n\t\t\t\t\tmoment($scope.calendar().fullCalendar('getDate'))));\n\t\t}\n\n\t\t// Voodoo to set the resource view column width from https://stackoverflow.com/a/39297864\n\t\t$(\"#ca-calendar\").css('min-width',$('.fc-resource-cell').length*125);\n\t};\n\n\t$scope.after_render = function after_render()\n\t{\n\t\t// Voodoo to set the resource view column width from https://stackoverflow.com/a/39297864\n\t\t$('.fc-agendaDay-button').click(function(){$(\"#schedule_container\").css('min-width',$('.fc-resource-cell').length*125);});\n\t};\n\n\t$scope.on_event_clicked = function on_event_clicked(calEvent, jsEvent, view)\n\t{\n\t\tconsole.log(jsEvent.target);\n\t\tif($(jsEvent.target).is(\".event-status.rotate\"))\n\t\t{\n\t\t\t$scope.rotate_event_status(calEvent);\n\t\t}\n\t\telse if($(jsEvent.target).is(\".event-invoice.edit\"))\n\t\t{\n\t\t\t$scope.open_view_invoices(calEvent.data.uuid);\n\t\t}\n\t\telse if($(jsEvent.target).is(\".event-invoice\"))\n\t\t{\n\t\t\t$scope.open_create_invoice(\n\t\t\t\t\tcalEvent.data.uuid,\n\t\t\t\t\tcalEvent.data.schedule_uuid,\n\t\t\t\t\tcalEvent.data.demographics_patient_uuid);\n\t\t}\n\t\telse if($(jsEvent.target).is(\".event-demographic\") ||\n\t\t\t\t$(jsEvent.target).parent().is(\".event-demographic\"))\n\t\t{\n\t\t\t$scope.open_patient_demographic(calEvent);\n\t\t}\n\t\telse if($(jsEvent.target).is(\".event-note\") ||\n\t\t\t\t$(jsEvent.target).parent().is(\".event-note\"))\n\t\t{\n\t\t\t$scope.open_create_chart_note(calEvent);\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$scope.open_edit_event_dialog(calEvent);\n\t\t}\n\t};\n\n\t$scope.on_event_drop = function on_event_drop(\n\t\t\tcalEvent, delta, revertFunc, jsEvent, ui, view)\n\t{\n\t\tif(!$scope.access_control.has_permission('scheduling_create') )\n\t\t{\n\t\t\trevertFunc();\n\t\t\treturn;\n\t\t}\n\n\t\t// event was dragged and dropped on the calendar:\n\t\t// load then update the start and end time based on the delta\n\t\t$scope.set_calendar_loading(true);\n\n\t\t$scope.calendar_api_adapter.drop_event(calEvent.data.uuid, calEvent.resourceId, delta).then(\n\t\t\tfunction success(event_data)\n\t\t\t{\n\t\t\t\tcalEvent.data.start_time = event_data.start_time;\n\t\t\t\tcalEvent.data.end_time = event_data.end_time;\n\t\t\t\tcalEvent.data.schedule_uuid = event_data.schedule_uuid;\n\n\t\t\t\t$scope.update_event(calEvent);\n\n\t\t\t\t$scope.set_calendar_loading(false);\n\n\t\t\t}, function error(errors)\n\t\t\t{\n\t\t\t\tconsole.log('failed to save event', errors);\n\n\t\t\t\t// revert on fail\n\t\t\t\trevertFunc();\n\t\t\t\t$scope.set_calendar_loading(false);\n\t\t\t});\n\t};\n\n\t$scope.on_event_resize = function on_event_resize(\n\t\t\tcalEvent, delta, revertFunc, jsEvent, ui, view)\n\t{\n\t\tif(!$scope.access_control.has_permission('scheduling_create') )\n\t\t{\n\t\t\trevertFunc();\n\t\t\treturn;\n\t\t}\n\n\t\t// event was extended by dragging the end of the event on the calendar:\n\t\t// load then update the end time based on the delta\n\t\t$scope.set_calendar_loading(true);\n\n\t\t$scope.calendar_api_adapter.resize_event(calEvent.data.uuid, delta).then(\n\t\t\t\tfunction success(event_data)\n\t\t\t\t{\n\t\t\t\t\tcalEvent.data.end_time = event_data.end_time;\n\n\t\t\t\t\t$scope.update_event(calEvent);\n\n\t\t\t\t\t$scope.set_calendar_loading(false);\n\n\t\t\t\t}, function error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log('failed to resize event', errors);\n\n\t\t\t\t\t// revert on fail\n\t\t\t\t\trevertFunc();\n\t\t\t\t\t$scope.set_calendar_loading(false);\n\t\t\t\t});\n\t};\n\n\t$scope.get_icon_path = function get_icon_path(icon, status_modifier)\n\t{\n\t\tif(!util.exists(icon))\n\t\t{\n\t\t\treturn \"\";\n\t\t}\n\n\t\tvar modifier_string = \"\";\n\n\t\tif(util.exists(status_modifier))\n\t\t{\n\t\t\tmodifier_string = status_modifier;\n\t\t}\n\n\t\treturn \"../images/\" + modifier_string + icon;\n\t};\n\n\t$scope.on_event_render = function(event, element, view)\n\t{\n\t\tif(event.rendering !== 'background')\n\t\t{\n\t\t\tvar event_site_html = '';\n\t\t\tvar event_site = $scope.sites[event.data.site];\n\n\t\t\tif(util.exists(event_site))\n\t\t\t{\n\t\t\t\tevent_site_html += \"<span style='background-color: \" + event_site.color + \"'>&nbsp;</span>\"\n\t\t\t}\n\n\n\t\t\tvar event_status_html = '';\n\t\t\tvar event_status =\n\t\t\t\t\t$scope.event_statuses[event.data.event_status_uuid];\n\n\t\t\tif(util.exists(event_status) && util.exists(event_status.icon) &&\n\t\t\t\tutil.exists(event) && util.exists(event.data))\n\t\t\t{\n\t\t\t\tevent_status_html += \"<img src='\" + $scope.get_icon_path(event_status.icon, event.data.event_status_modifier) + \"' />\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tevent_status_html = '<span class=\"event-status';\n\t\t\t\tif(util.exists(event_status))\n\t\t\t\t{\n\t\t\t\t\tvar event_status_rotate = util.exists(event_status.sort_order);\n\t\t\t\t\tif(event_status_rotate)\n\t\t\t\t\t{\n\t\t\t\t\t\tevent_status_html += ' rotate ';\n\t\t\t\t\t}\n\t\t\t\t\tevent_status_html += '\"' + ' title=\"' + util.escape_html(event_status.name) + '\">' +\n\t\t\t\t\t\t\tutil.escape_html(event_status.display_letter) + '</span>';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tevent_status_html += '\" title=\"Unknown\">?</span>';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar event_invoice_html = '<span class=\"event-invoice';\n\t\t\tif(event.data.num_invoices > 0)\n\t\t\t{\n\t\t\t\tevent_invoice_html += ' edit\" title=\"View Invoice' +\n\t\t\t\t\t\t(event.data.num_invoices > 1 ? \"s\" : \"\") + '\">B</span>';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tevent_invoice_html += '\" title=\"Create Invoice\">$</span>';\n\t\t\t}\n\n\t\t\tvar event_details = \"\";\n\t\t\tif(util.exists(event.data.demographics_patient_name))\n\t\t\t{\n\t\t\t\tevent_details = util.escape_html(event.data.demographics_patient_name);\n\t\t\t\tif(util.exists(event.data.reason))\n\t\t\t\t{\n\t\t\t\t\tevent_details += \" (\" + util.escape_html(event.data.reason) + \")\"\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(util.exists(event.data.reason))\n\t\t\t{\n\t\t\t\tevent_details = util.escape_html(event.data.reason);\n\t\t\t}\n\n\t\t\tvar event_details_html = \"<span class='event-details' title='\" + event_details + \"'>\" +\n\t\t\t\t\tevent_details + \"</span>\";\n\n\t\t\tvar event_demographic_html = \"\";\n\t\t\tif($scope.access_control.has_one_of_permissions(['patient_view', 'patient_manage']) &&\n\t\t\t\t\tutil.exists(event.data.demographics_patient_uuid))\n\t\t\t{\n\t\t\t\tevent_demographic_html =\n\t\t\t\t\t\t'<span class=\"event-demographic\" title=\"View Patient\">' +\n\t\t\t\t\t\t'<i class=\"fa fa-user\"></i></span>';\n\t\t\t}\n\n\t\t\tvar event_note_html = \"\";\n\t\t\tif($scope.access_control.has_one_of_permissions(['chart_note_view', 'chart_note_manage']) &&\n\t\t\t\t\tutil.exists(event.data.demographics_patient_uuid))\n\t\t\t{\n\t\t\t\tevent_note_html =\n\t\t\t\t\t\t'<span class=\"event-note\" title=\"Add Patient Note\">' +\n\t\t\t\t\t\t'<i class=\"fa fa-file-text-o\"></i></span>';\n\t\t\t}\n\n\t\t\tvar event_tags_html = '';\n\t\t\tvar tag_class = element.hasClass('text-light') ? 'icon-white' : '';\n\n\t\t\tif(util.exists(event.data.tag_names))\n\t\t\t{\n\t\t\t\tevent_tags_html = '<span class=\"event-tags\" title=\"' +\n\t\t\t\t\t\tevent.data.tag_names.join(\", \") +\n\t\t\t\t\t\t'\"><i class=\"icon ' + tag_class + ' icon-tags\"/></span>';\n\t\t\t}\n\n\t\t\t$(element).find('.fc-content').html(event_site_html + event_status_html + event_invoice_html +\n\t\t\t\t\tevent_demographic_html + event_note_html + event_tags_html + event_details_html);\n\t\t}\n\t};\n\n\n\t//=========================================================================\n\t// Control Methods\n\t//=========================================================================/\n\n\t$scope.change_view = function(view)\n\t{\n\t\t// if switching to or from resourceDay view, need to update schedules\n\t\tvar reload_schedules = false;\n\t\tif(view === 'resourceDay' ||\n\t\t\t\t$scope.get_global_state('schedule_view_name') === 'resourceDay')\n\t\t{\n\t\t\treload_schedules = true;\n\t\t}\n\n\t\t// save the new view to global state so it gets picked up in rendering\n\t\t$scope.save_global_state('schedule_view_name', view);\n\n\t\tif(reload_schedules)\n\t\t{\n\t\t\t$scope.load_selected_schedules().then(\n\t\t\t\t\tfunction success()\n\t\t\t\t\t{\n\t\t\t\t\t\t$scope.set_calendar_resources();\n\t\t\t\t\t\t$scope.update_calendar_view();\n\t\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$scope.update_calendar_view();\n\t\t}\n\t};\n\n\t$scope.select_resources = function()\n\t{\n\t\t// if already opening a dialog or have one open, ignore and return\n\t\tif($scope.opening_dialog || $scope.dialog)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\t$scope.opening_dialog = true;\n\n\t\tvar preselections = [];\n\t\tfor(var i = 0; i < $scope.selected_resources.length; i++)\n\t\t{\n\t\t\tpreselections.push($scope.selected_resources[i].uuid);\n\t\t}\n\n\t\t$scope.dialog = $uibModal.open({\n\t\t\tanimation: false,\n\t\t\tbackdrop: 'static',\n\t\t\tcontroller: 'Schedule.SelectResourcesController',\n\t\t\ttemplateUrl: 'code/schedule/select_resources.html',\n\t\t\tresolve: {\n\t\t\t\tresource_options: function() { return $scope.resource_options; },\n\t\t\t\tselected_resources: function() { return preselections; },\n\t\t\t\ton_update_callback: function() { return $scope.on_resources_changed; }\n\t\t\t}\n\t\t});\n\n\t\t// when the dialog closes clear the variable\n\t\t$scope.dialog.closed.then(function() {\n\t\t\t$scope.dialog = null;\n\t\t});\n\n\t\t$scope.opening_dialog = false;\n\t};\n\n\t$scope.show_legend = function()\n\t{\n\t\t// if already opening a dialog or have one open, ignore and return\n\t\tif($scope.opening_dialog || $scope.dialog)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\t$scope.opening_dialog = true;\n\n\t\tvar data = {\n\t\t\tevent_statuses: $scope.event_statuses,\n\t\t\tavailability_types: $scope.availability_types\n\t\t};\n\n\t\t$scope.dialog = $uibModal.open({\n\t\t\tanimation: false,\n\t\t\tbackdrop: 'static',\n\t\t\tcontroller: 'Schedule.LegendController',\n\t\t\ttemplateUrl: 'code/schedule/legend.html',\n\t\t\tresolve: {\n\t\t\t\tdata: function() { return data }\n\t\t\t}\n\t\t});\n\n\t\t// when the dialog closes clear the variable\n\t\t$scope.dialog.closed.then(function() {\n\t\t\t$scope.dialog = null;\n\t\t});\n\n\t\t$scope.opening_dialog = false;\n\t};\n\n\t$scope.refetch_events = function()\n\t{\n\t\t$scope.calendar().fullCalendar('refetchEvents');\n\t};\n\n\t$scope.update_event = function update_event(cal_event)\n\t{\n\t\t$scope.calendar().fullCalendar('updateEvent', cal_event);\n\t};\n\n\t$scope.update_calendar_view = function update_calendar_view()\n\t{\n\t\t$scope.ui_config.calendar.defaultView = $scope.calendar_view_name();\n\t};\n\n\t$scope.open_create_event_dialog = function open_create_event_dialog(\n\t\t\tstart, end, jsEvent, view, resource)\n\t{\n\t\tif(!$scope.access_control.has_permission('scheduling_create') )\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\t// if already opening a dialog or have one open, ignore and return\n\t\tif($scope.opening_dialog || $scope.dialog)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\t$scope.opening_dialog = true;\n\n\t\tvar schedule_uuid = null;\n\t\tvar display_name = \"\";\n\t\tif(util.exists(resource))\n\t\t{\n\t\t\tschedule_uuid = resource.id;\n\t\t\tdisplay_name = resource.display_name;\n\t\t}\n\t\telse if($scope.selected_schedule !== null)\n\t\t{\n\t\t\tschedule_uuid = $scope.selected_schedule.uuid;\n\t\t}\n\n\t\tvar schedule = $scope.get_loaded_schedule(schedule_uuid);\n\t\tif(schedule !== null)\n\t\t{\n\t\t\tvar default_event_status = schedule.new_event_status_uuid;\n\n\t\t\tvar modal_schedule = angular.copy(schedule);\n\t\t\tmodal_schedule.display_name = display_name;\n\n\t\t\tvar data = {\n\t\t\t\tschedule: modal_schedule,\n\t\t\t\tdefault_event_status: default_event_status,\n\t\t\t\tstart_time: start,\n\t\t\t\tend_time: end,\n\t\t\t\ttime_interval: $scope.time_interval_minutes(),\n\t\t\t\tschedule_templates: $scope.schedule_templates,\n\t\t\t\tavailability_types: $scope.availability_types,\n\t\t\t\tsites: $scope.sites\n\t\t\t};\n\n\t\t\t$scope.dialog = $uibModal.open({\n\t\t\t\tanimation: false,\n\t\t\t\tbackdrop: 'static',\n\t\t\t\tcontroller: 'cpCalendar.EventController',\n\t\t\t\ttemplateUrl: 'src/schedule/event.jsp',\n\t\t\t\tresolve: {\n\t\t\t\t\ttype: [function() { return 'create_edit_event' }],\n\t\t\t\t\tlabel: [function() { return 'Appointment' }],\n\t\t\t\t\tparent_scope: [function() { return $scope }],\n\t\t\t\t\tdata: [function() { return data }],\n\t\t\t\t\tedit_mode: [function() { return false }],\n\t\t\t\t\taccess_control: [function() {return $scope.access_control}],\n\t\t\t\t\tkey_binding: [function() {return {bind_key_global: function(){}}}],\n\t\t\t\t\tfocus: [function() {return $scope.calendar_api_adapter.focus}],\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.dialog.result.catch(function(res) {\n\t\t\t\tif(!(res === 'cancel' || res === 'escape key press'))\n\t\t\t\t{\n\t\t\t\t\tthrow res;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// when the dialog closes clear the variable\n\t\t\t$scope.dialog.closed.then(function() {\n\t\t\t\t$scope.dialog = null;\n\t\t\t});\n\t\t}\n\n\t\t$scope.opening_dialog = false;\n\t};\n\n\t$scope.open_edit_event_dialog = function open_edit_event_dialog(calEvent)\n\t{\n\t\tif(!$scope.access_control.has_permission('scheduling_create') )\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\t// if already opening a dialog or have one open, ignore and return\n\t\tif($scope.opening_dialog || $scope.dialog)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\t$scope.opening_dialog = true;\n\n\t\tvar data = angular.extend({}, calEvent.data);\n\n\t\tdata.start_time = util.get_datetime_moment(\n\t\t\t\tcalEvent.data.start_time);\n\t\tdata.end_time = util.get_datetime_moment(\n\t\t\t\tcalEvent.data.end_time);\n\t\tdata.num_invoices = calEvent.data.num_invoices;\n\n\t\tdata.schedule =\n\t\t\t\t$scope.get_loaded_schedule(calEvent.data.schedule_uuid);\n\n\t\tdata.time_interval = $scope.time_interval_minutes();\n\n\t\tdata.schedule_templates = $scope.schedule_templates;\n\t\tdata.availability_types = $scope.availability_types;\n\n\t\t$scope.dialog = $uibModal.open({\n\t\t\tanimation: false,\n\t\t\tbackdrop: 'static',\n\t\t\tcontroller: 'cpCalendar.EventController',\n\t\t\ttemplateUrl: 'src/schedule/event.jsp',\n\t\t\tresolve: {\n\t\t\t\ttype: function() { return 'create_edit_event' },\n\t\t\t\tlabel: function() { return 'Appointment' },\n\t\t\t\tparent_scope: function() { return $scope },\n\t\t\t\tdata: function() { return data },\n\t\t\t\tedit_mode: function() { return true },\n\t\t\t\taccess_control: function() {return $scope.access_control},\n\t\t\t\tkey_binding: function() {return {bind_key_global: function(){}}},\n\t\t\t\tfocus: function() {return $scope.calendar_api_adapter.focus},\n\t\t\t}\n\t\t});\n\n\t\t// when the dialog closes clear the variable\n\t\t$scope.dialog.closed.then(function() {\n\t\t\t$scope.dialog = null;\n\t\t});\n\n\t\t$scope.opening_dialog = false;\n\t};\n\n\t$scope.rotate_event_status = function rotate_event_status(calEvent)\n\t{\n\t\tif(!$scope.access_control.has_permission('scheduling_create') )\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\t$scope.set_calendar_loading(true);\n\n\t\t$scope.calendar_api_adapter.rotate_event_status(calEvent.data.uuid, $scope.rotate_statuses).then(\n\t\t\t\tfunction success(event_data)\n\t\t\t\t{\n\n\t\t\t\t\tvar event_status_uuid = event_data.event_status_uuid;\n\t\t\t\t\tvar event_status_color =\n\t\t\t\t\t\t\t$scope.event_statuses[event_status_uuid] ?\n\t\t\t\t\t\t\t\t\t$scope.event_statuses[event_status_uuid].color :\n\t\t\t\t\t\t\t\t\t$scope.default_event_color;\n\n\t\t\t\t\tcalEvent.data.event_status_uuid = event_status_uuid;\n\t\t\t\t\tcalEvent.color = event_status_color;\n\t\t\t\t\t// This is being set to an array because of a bug:\n\t\t\t\t\t// https://github.com/fullcalendar/fullcalendar/issues/4011\n\t\t\t\t\tcalEvent.className = [$scope.calendar_api_adapter.event_class(event_status_color)];\n\n\t\t\t\t\t$scope.update_event(calEvent);\n\n\t\t\t\t\t$scope.set_calendar_loading(false);\n\t\t\t\t});\n\t};\n\n\t$scope.open_create_invoice = function open_create_invoice(\n\t\t\tevent_uuid, schedule_uuid, demographics_patient_uuid)\n\t{\n\t\tvar schedule =\n\t\t\t\t$scope.get_loaded_schedule(schedule_uuid);\n\t\t\n\t\tvar url = $scope.calendar_api_adapter.get_create_invoice_url(event_uuid,\n\t\t\t\tschedule.demographics_practitioner_uuid, demographics_patient_uuid);\n\n\t\twindow.window_scope = $scope;\n\t\t$window.open(url, '_blank');\n\t};\n\n\t$scope.open_patient_demographic = function open_patient_demographic(event)\n\t{\n\t\tvar url = $scope.calendar_api_adapter.get_patient_demographic_url(event);\n\t\t$window.open(url, '_blank');\n\t};\n\n\t$scope.open_create_chart_note = function open_create_chart_note(event)\n\t{\n\t\tvar url = $scope.calendar_api_adapter.get_create_chart_note_url(event);\n\t\t$window.open(url, '_blank');\n\t};\n\n\n\t//=========================================================================\n\t// Get information\n\t//=========================================================================/\n\n\t$scope.get_schedule_height = function get_schedule_height()\n\t{\n\t\tif ($scope.calendar_api_adapter)\n\t\t{\n\t\t\t$scope.calendar_api_adapter.get_schedule_height();\n\t\t}\n\t};\n\n\t// This gets the view name, but if it's resourceDay, it will get agendaDay.\n\t// TODO Not sure why this works this way.  Maybe it uses it to get a day of events for each\n\t//      resource in the resource list?\n\t$scope.calendar_view_name = function calendar_view_name()\n\t{\n\t\tvar view = $scope.view_name();\n\t\tif(view == 'resourceDay')\n\t\t{\n\t\t\tview = 'agendaDay';\n\t\t}\n\t\treturn view;\n\t};\n\n\t$scope.set_calendar_loading = function set_calendar_loading(is_loading)\n\t{\n\t\t$scope.calendar_loading = is_loading;\n\t};\n\n\t$scope.get_loaded_schedule = function get_loaded_schedule(uuid)\n\t{\n\t\tvar schedule = null;\n\t\tfor(var i = 0; i < $scope.schedules.length; i++)\n\t\t{\n\t\t\tif($scope.schedules[i].uuid === uuid)\n\t\t\t{\n\t\t\t\tschedule = $scope.schedules[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn schedule;\n\t};\n\n\n\t//=========================================================================\n\t// Get information and maybe do something\n\t//=========================================================================/\n\n\t$scope.view_name = function view_name()\n\t{\n\t\tvar view_name = $scope.get_global_state('schedule_view_name');\n\n\t\tif(!util.exists(view_name))\n\t\t{\n\t\t\tview_name = $scope.get_global_preference_setting(\n\t\t\t\t\t'schedule_view_name');\n\t\t}\n\n\t\tif(!util.exists(view_name))\n\t\t{\n\t\t\tview_name = $scope.default_calendar_view;\n\t\t}\n\n\t\t$scope.save_global_state('schedule_view_name', view_name);\n\n\t\treturn view_name;\n\t};\n\n\t$scope.calendar_events = function(start, end, timezone, callback)\n\t{\n\t\t// load the events for each of the loaded schedules\n\t\tvar promise_array = [];\n\t\tfor(var i = 0; i < $scope.schedules.length; i++)\n\t\t{\n\t\t\tpromise_array.push(\n\t\t\t\t\t$scope.calendar_api_adapter.load_schedule_events(\n\t\t\t\t\t\t\t$scope.schedules[i], $scope.selected_site_name, start, end, $scope.view_name(), $scope.schedule_templates,\n\t\t\t\t\t\t\t$scope.event_statuses, $scope.default_event_color, $scope.availability_types));\n\t\t}\n\n\t\t// once all the events are loaded, concat them together and callback\n\t\t$q.all(promise_array).then(\n\t\t\t\tfunction success(results_array)\n\t\t\t\t{\n\t\t\t\t\tvar schedule_events = [];\n\t\t\t\t\tfor(var i=0; i<results_array.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tschedule_events.push(results_array[i].data);\n\t\t\t\t\t}\n\t\t\t\t\t$scope.events = Array.prototype.concat.apply([], schedule_events);\n\n\t\t\t\t\ttry\n\t\t\t\t\t{\n\t\t\t\t\t\tcallback($scope.events);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(err)\n\t\t\t\t\t{\n\t\t\t\t\t\t// the callback throws an error on first load, ignore\n\t\t\t\t\t}\n\t\t\t\t});\n\t};\n\n\n\n\t// ===============================================================================================\n\t// Data retrieval methods\n\t// ===============================================================================================\n\n\t$scope.load_schedule_templates = function load_schedule_templates()\n\t{\n\t\tvar deferred = $q.defer();\n\n\t\t$scope.calendar_api_adapter.load_schedule_templates().then(function success(results)\n\t\t{\n\t\t\t$scope.schedule_templates = results;\n\t\t\tdeferred.resolve($scope.schedule_templates);\n\t\t});\n\n\t\treturn deferred.promise;\n\t};\n\n\t// Loads the list of availability types.  Sets the following:\n\t// $scope.availability_types - hash of availability types with uuid as key.\n\t$scope.load_availability_types = function load_availability_types()\n\t{\n\t\tvar deferred = $q.defer();\n\n\t\t$scope.calendar_api_adapter.load_availability_types().then(function success(results)\n\t\t{\n\t\t\t$scope.availability_types = results;\n\t\t\tdeferred.resolve($scope.availability_types);\n\t\t});\n\n\t\treturn deferred.promise;\n\t};\n\n\t// Loads the list of event statuses from the API (i.e. appointment statuses).  Sets the following:\n\t// $scope.event_statuses - a table to look up a status by uuid.\n\t// $scope.rotate_statuses - an array to describe how to cycle through statuses.\n\t$scope.load_event_statuses = function load_event_statuses()\n\t{\n\t\tvar deferred = $q.defer();\n\n\t\t$scope.event_statuses = {};\n\t\t$scope.rotate_statuses = [];\n\t\t$scope.calendar_api_adapter.load_event_statuses().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\tfor(var i = 0; i < results.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar result = results[i];\n\t\t\t\t\t$scope.event_statuses[result.uuid] = result;\n\t\t\t\t\tif(result.rotates)\n\t\t\t\t\t{\n\t\t\t\t\t\t$scope.rotate_statuses.push(result);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdeferred.resolve(results);\n\t\t\t});\n\n\t\treturn deferred.promise;\n\t};\n\n\t// Load the list of available sites from the API.  Sets the following:\n\t// $scope.sites - a table to lookup a site's info by name\n\t// $scope.site_options - the options for the site selection dropdown\n\t$scope.load_site_options = function load_site_options()\n\t{\n\t\tvar deferred = $q.defer();\n\n\t\t$scope.calendar_api_adapter.load_sites().then(\n\t\t\tfunction success(results)\n\t\t\t{\n\t\t\t\t$scope.sites = {};\n\t\t\t\t$scope.site_options = [];\n\t\t\t\tif(angular.isArray(results) && results.length > 0)\n\t\t\t\t{\n\t\t\t\t\t// Fill up lookup table\n\t\t\t\t\tfor(var i = 0; i < results.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\t$scope.sites[results[i].name] = results[i];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Create the dropdown options\n\t\t\t\t\t$scope.site_options = [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tuuid: null,\n\t\t\t\t\t\t\tname: null,\n\t\t\t\t\t\t\tdisplay_name: \"All\",\n\t\t\t\t\t\t}\n\t\t\t\t\t];\n\n\t\t\t\t\t$scope.site_options = $scope.site_options.concat(results);\n\t\t\t\t}\n\n\t\t\t\tdeferred.resolve(results);\n\t\t\t});\n\n\t\treturn deferred.promise;\n\t};\n\n\t// Loads the schedule dropdown options from the API.  Sets the following:\n\t// $scope.schedule_options - the array used to build the schedule selection dropdown.\n\t// $scope.resource_option_hash - table to look up schedule information by providerNo.  This is\n\t//                               used to create the resource view headers.\n\t$scope.load_schedule_options = function load_schedule_options()\n\t{\n\t\tvar deferred = $q.defer();\n\n\t\t$scope.calendar_api_adapter.load_schedule_options().then(\n\t\t\t\tfunction success(results)\n\t\t\t\t{\n\t\t\t\t\tfor(var i = 0; i < results.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar schedule_data = results[i];\n\n\t\t\t\t\t\t$scope.schedule_options.push(schedule_data);\n\n\t\t\t\t\t\t// Get the possible resources by inferring that the group is a provider\n\t\t\t\t\t\t// by checking if the array has one entry and matches the identifier\n\t\t\t\t\t\t// Also uses fields specific to Juno.\n\t\t\t\t\t\t// TODO: CHANGE THIS!!\n\t\t\t\t\t\tif(\n\t\t\t\t\t\t\tangular.isArray(schedule_data.providerNos) &&\n\t\t\t\t\t\t\tschedule_data.providerNos.length == 1 &&\n\t\t\t\t\t\t\tschedule_data.providerNos[0].toString() == schedule_data.identifier\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar providerNo = schedule_data.providerNos[0];\n\n\t\t\t\t\t\t\t$scope.resource_option_hash[providerNo] = {\n\t\t\t\t\t\t\t\t'id': providerNo,\n\t\t\t\t\t\t\t\t'uuid': providerNo,\n\t\t\t\t\t\t\t\t'name': providerNo,\n\t\t\t\t\t\t\t\t'title': schedule_data.name,\n\t\t\t\t\t\t\t\t'display_name': schedule_data.name\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdeferred.resolve(results);\n\t\t\t\t});\n\n\t\treturn deferred.promise;\n\t};\n\n\t// TODO: change this, perhaps?  It is getting the resource details from the groups\n\t$scope.build_selected_resources = function build_selected_resources(providerNos)\n\t{\n\t\tvar selected_resources = [];\n\n\t\tfor(var i = 0; i < providerNos.length; i++)\n\t\t{\n\t\t\tselected_resources.push($scope.resource_option_hash[providerNos[i]]);\n\t\t}\n\n\t\treturn selected_resources;\n\t};\n\n\t$scope.load_selected_schedules = function load_selected_schedules()\n\t{\n\t\tvar deferred = $q.defer();\n\n\t\tvar promise_array = [];\n\n\t\tif(\n\t\t\tutil.exists($scope.selected_schedule.providerNos) &&\n\t\t\tangular.isArray($scope.selected_schedule.providerNos)\n\t\t)\n\t\t{\n\t\t\t// TODO: this is really gross and I don't like it\n\t\t\t// Potentially put this in the calendarApiAdapter\n\t\t\tangular.forEach($scope.selected_schedule.providerNos, function(providerNo)\n\t\t\t{\n\t\t\t\tpromise_array.push($scope.calendar_api_adapter.load_schedule(providerNo.toString()));\n\t\t\t});\n\n\t\t\tif($scope.selected_schedule.providerNos.length > 1)\n\t\t\t{\n\t\t\t\t// Set the calendar to resource mode.  All of these values need to be set.\n\t\t\t\t$scope.selected_resources = $scope.build_selected_resources($scope.selected_schedule.providerNos);\n\t\t\t\t$scope.ui_config.calendar.resources = $scope.selected_resources;\n\t\t\t\t$scope.ui_config.calendar.defaultView = \"resourceDay\";\n\n\t\t\t\t// save the new view to global state so it gets picked up in rendering\n\t\t\t\t$scope.save_global_state(\"schedule_view_name\", \"resourceDay\");\n\t\t\t\t$scope.update_calendar_view();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Reset everything to single-provider view mode\n\t\t\t\t$scope.ui_config.calendar.defaultView = \"agendaWeek\";\n\t\t\t\t$scope.save_global_state(\"schedule_view_name\", \"agendaWeek\");\n\t\t\t\t$scope.ui_config.calendar.resources = false;\n\t\t\t}\n\t\t}\n\t\telse if(\n\t\t\t$scope.view_name() !== 'resourceDay' &&\n\t\t\t$scope.selected_schedule !== null\n\t\t)\n\t\t{\n\t\t\tpromise_array.push(\n\t\t\t\t$scope.calendar_api_adapter.load_schedule($scope.selected_schedule.uuid));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tangular.forEach($scope.selected_resources, function(selected)\n\t\t\t{\n\t\t\t\tpromise_array.push($scope.calendar_api_adapter.load_schedule(selected.uuid));\n\t\t\t});\n\t\t}\n\n\t\t// Loop through the schedules added above and add them to the schedule list.\n\t\t$q.all(promise_array).then(\n\t\t\t\tfunction success(results_array)\n\t\t\t\t{\n\t\t\t\t\t$scope.schedules = [];\n\t\t\t\t\tfor(var i=0; i<results_array.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\t$scope.schedules[i] = results_array[i].data;\n\t\t\t\t\t}\n\t\t\t\t\tdeferred.resolve(results_array);\n\t\t\t\t}, function error(errors)\n\t\t\t\t{\n\t\t\t\t\tconsole.log('errors');\n\t\t\t\t});\n\n\t\treturn deferred.promise;\n\t};\n\n\n\n\n\t// ===============================================================================================\n\t// Schedule config methods\n\t// ===============================================================================================\n\n\t$scope.set_schedule_hour_range = function set_schedule_hour_range()\n\t{\n\t\t// restrict day view if user preferences are set\n\n\t\tvar min_time = $scope.get_global_preference_setting('schedule_min_time');\n\t\tif(util.exists(min_time))\n\t\t{\n\t\t\t// format: HH24:MM:SS - expect HH24:MM in preference\n\t\t\t$scope.ui_config.calendar.minTime = min_time + \":00\";\n\t\t}\n\n\t\tvar max_time = $scope.get_global_preference_setting('schedule_max_time');\n\t\tif(util.exists(max_time))\n\t\t{\n\t\t\t// format: HH24:MM:SS - expect HH24:MM in preference\n\t\t\t$scope.ui_config.calendar.maxTime = max_time + \":00\";\n\t\t}\n\n\t\t// scroll so that one hour ago is the top of the calendar\n\t\t$scope.ui_config.calendar.scrollTime = moment().subtract(1, 'hours').format('HH:mm:ss');\n\t};\n\n\t$scope.load_default_selections = function load_default_selections()\n\t{\n\t\t$scope.selected_schedule = $scope.calendar_api_adapter.get_selected_schedule(\n\t\t\t\t$scope.schedule_options);\n\n\t\t$scope.selected_resources = $scope.calendar_api_adapter.get_selected_resources(\n\t\t\t\t$scope.resource_options);\n\n\t\t$scope.selected_time_interval = $scope.calendar_api_adapter.get_selected_time_interval(\n\t\t\t\t$scope.time_interval_options, $scope.default_time_interval);\n\t\t$scope.ui_config.calendar.slotDuration = $scope.selected_time_interval;\n\t\t$scope.ui_config.calendar.slotLabelInterval = $scope.selected_time_interval;\n\n\t\t$scope.ui_config.calendar.minTime = $scope.calendar_api_adapter.get_schedule_min_time();\n\t\t$scope.ui_config.calendar.maxTime = $scope.calendar_api_adapter.get_schedule_max_time();\n\n\t\t// scroll so that one hour ago is the top of the calendar\n\t\t$scope.ui_config.calendar.scrollTime = moment().subtract(1, 'hours').format('HH:mm:ss');\n\t};\n\n\t$scope.set_calendar_resources = function set_calendar_resources()\n\t{\n\t\tif($scope.view_name() === 'resourceDay')\n\t\t{\n\t\t\t$scope.ui_config.calendar.resources = $scope.selected_resources;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$scope.ui_config.calendar.resources = false;\n\t\t}\n\t};\n\n\t$scope.set_event_sources = function set_event_sources()\n\t{\n\t\t$scope.event_sources.push($scope.calendar_events);\n\t};\n\n\t$scope.time_interval_minutes = function time_interval_minutes()\n\t{\n\t\treturn parseInt($scope.selected_time_interval.split(\":\")[1]);\n\t};\n\n\t$scope.create_invoice_callback = function create_invoice_callback()\n\t{\n\t\t// check that the calendar exists before running refetch,\n\t\t// in case the window was closed before the callback\n\t\tif($scope.calendar())\n\t\t{\n\t\t\t$scope.refetch_events();\n\t\t}\n\t};\n\n\t$scope.open_view_invoices = function open_view_invoices(event_uuid)\n\t{\n\t\t$window.open(\n\t\t\t\t\"#/invoice/list?schedule_event_uuid=\" +\n\t\t\t\tencodeURIComponent(event_uuid),\n\t\t\t\t'_blank');\n\t};\n\n\n\t//=========================================================================\n\t// Watches\n\t//=========================================================================/\n\n\t$scope.$watch(\n\t\t\tfunction() { return $scope.global_state.selected_date },\n\t\t\tfunction(date)\n\t\t\t{\n\t\t\t\tif($scope.calendar())\n\t\t\t\t{\n\t\t\t\t\t$scope.calendar().fullCalendar('gotoDate', date);\n\t\t\t\t}\n\t\t\t});\n\n\n\t//=========================================================================\n\t// Config Array\n\t//=========================================================================/\n\t$scope.ui_config = {\n\t\tcalendar: {\n\t\t\theight: $scope.get_schedule_height(),\n\t\t\tnowIndicator: true,\n\t\t\theader: {\n\t\t\t\tleft: 'title',\n\t\t\t\tcenter: '',\n\t\t\t\tright: 'today prev,next'\n\t\t\t},\n\n\t\t\tallDaySlot: false,\n\n\t\t\tdefaultView: null,\n\t\t\tdefaultDate: $scope.default_date,\n\t\t\tslotDuration: $scope.selected_time_interval,\n\t\t\tslotLabelInterval: $scope.selected_time_interval,\n\t\t\tslotLabelFormat: 'h:mma',\n\n\t\t\tloading: $scope.set_calendar_loading,\n\n\t\t\tselectable: true,\n\t\t\tselect: $scope.open_create_event_dialog,\n\t\t\teventClick: $scope.on_event_clicked,\n\t\t\teventRender: $scope.on_event_render,\n\t\t\tviewRender: $scope.on_view_render,\n\t\t\teventAfterAllRender: $scope.after_render,\n\n\t\t\teditable: true,\n\t\t\teventDrop: $scope.on_event_drop,\n\t\t\teventResize: $scope.on_event_resize\n\t\t}\n\t};\n}]);\n","angular.module('cpCalendar')\n\n\n//=========================================================================\n// cpCalendar Directive\n//=========================================================================/\n\n.directive(\n\t\t'cpCalendar',\n\n\t\t[\n\t\t\t'$parse',\n\t\t\t'$injector',\n\t\t\t'$timeout',\n\n\t\t\tfunction(\n\t\t\t\t\t$parse,\n\t\t\t\t\t$injector,\n\t\t\t\t\t$timeout\n\t\t\t)\n\t\t\t{\n\n\t\t\t\tvar scope = {\n\t\t\t\t\tui_config: '=cpCalendar',\n\t\t\t\t\tcontrol: '=cpCalendarControl',\n\t\t\t\t\tselected_schedule: '=cpCalendarSelectedSchedule',\n\t\t\t\t\tselected_time_interval: '=cpCalendarSelectedTimeInterval',\n\t\t\t\t\tcalendarWatchEvent : '&'\n\t\t\t\t};\n\n\t\t\t\tvar link_function = function link_function($scope, element, attributes, controller) {\n\n\t\t\t\t\t//=========================================================================\n\t\t\t\t\t// Control methods\n\t\t\t\t\t//=========================================================================/\n\n\t\t\t\t\tthis.is_initialized = function is_initialized() {\n\t\t\t\t\t\treturn $scope.is_initialized();\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.has_schedules = function has_schedules() {\n\t\t\t\t\t\treturn $scope.schedules.length > 0;\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.has_sites = function has_sites() {\n\t\t\t\t\t\treturn $scope.site_options.length > 0;\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.get_schedule_options = function get_schedule_options()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn $scope.schedule_options;\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.get_site_options = function get_site_options()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn $scope.site_options;\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.on_schedule_changed = function on_schedule_changed(schedule_uuid, site)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn $scope.on_schedule_changed(schedule_uuid, site);\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.change_view = function change_view(view)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn $scope.change_view(view);\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.view_name = function view_name()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn $scope.view_name();\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.get_time_interval_options = function get_time_interval_options()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn $scope.time_interval_options;\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.show_legend = function show_legend()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn $scope.show_legend();\n\t\t\t\t\t};\n\n\t\t\t\t\t// Create the API to communicate from the outside\n\t\t\t\t\t$parse(attributes.cpCalendarControl).assign($scope.$parent, this);\n\n\n\t\t\t\t\t//=========================================================================\n\t\t\t\t\t// External models\n\t\t\t\t\t//=========================================================================/\n\n\t\t\t\t\t// Link up all of the models\n\t\t\t\t\t$scope.calendar_api_adapter = $injector.get(attributes.cpCalendarCalendarApiAdapter);\n\t\t\t\t\t$scope.access_control = $injector.get(attributes.cpCalendarAccessControl);\n\t\t\t\t\t$scope.autocomplete = $injector.get(attributes.cpCalendarAutoComplete);\n\t\t\t\t\t$scope.global_state = $injector.get(attributes.cpCalendarGlobalState);\n\t\t\t\t\t$scope.patient_model = $injector.get(attributes.cpCalendarPatientModel);\n\n\n\t\t\t\t\t//=========================================================================\n\t\t\t\t\t// Start the scheduler\n\t\t\t\t\t//=========================================================================/\n\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t$scope.init();\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\treturn {\n\t\t\t\t\trestrict: 'A',\n\t\t\t\t\tscope: scope,\n\t\t\t\t\tcontroller: 'cpCalendar.Controller',\n\t\t\t\t\ttemplate: '<div><div id=\"cp-calendar\" class=\"calendar\" ng-model=\"event_sources\" calendar=\"cpCalendar\" ui-calendar=\"ui_config.calendar\"></div></div>',\n\t\t\t\t\treplace: true,\n\t\t\t\t\tlink: link_function\n\t\t\t\t};\n\t\t\t}\n\t\t]\n);\n","'use strict';\n\nangular.module('cpCalendar', [\n\t'Common',\n]);\n","\nrequire('jquery');\nrequire('jquery-ui/ui/widgets/draggable')\nrequire('jquery-ui/themes/base/draggable.css');\nrequire('jquery-ui/ui/widgets/resizable')\nrequire('jquery-ui/themes/base/resizable.css');\nrequire('moment');\nrequire('angular');\nrequire('angular-ui-bootstrap');\nrequire('angular-ui-router');\nrequire('angular-ui-router/release/stateEvents');\nrequire('angular-ui-calendar');\nrequire('fullcalendar-scheduler');\nrequire('fullcalendar/dist/fullcalendar.min.css');\nrequire('fullcalendar-scheduler/dist/scheduler.min.css');\nrequire('ng-table/bundles/ng-table');\nrequire('ng-table/bundles/ng-table.css');\nrequire('angular-resource');\nrequire('ng-infinite-scroll');\nrequire('angular-loading-bar');\nrequire('angular-loading-bar/build/loading-bar.min.css');\nrequire('bootstrap-datepicker');\nrequire('bootstrap-datepicker/dist/css/bootstrap-datepicker.css');\nrequire('bootstrap-timepicker');\nrequire('ngstorage');\nrequire('./scss/juno.scss')\nrequire('font-awesome/css/font-awesome.min.css');\n// TODO: make sure this works, fix if it doesn't\n//require('components-font-awesome');\n\n\nvar oscarApp = angular.module('oscarProviderViewModule', [\n\t'ui.router',\n\t'ui.router.state.events',\n\t'ngResource',\n\t'ui.bootstrap',\n\t'ui.calendar',\n\t'cpCalendar',\n\t'angular-loading-bar',\n\t'ngTable',\n\t'ngStorage',\n\t'Common',\n\t'Common.Services',\n\t'Common.Filters',\n\t'Common.Directives',\n\t'Common.Util',\n\t'Layout',\n\t'Tickler',\n\t'Record',\n\t'Record.Summary',\n\t'Record.Tracker',\n\t'Record.Details',\n\t'Record.PHR',\n\t'Record.Forms',\n\t'Schedule',\n\t'Settings',\n\t'Report',\n\t'Patient',\n\t'Patient.Search',\n\t'PatientList',\n\t'Inbox',\n\t'Help',\n\t'Document',\n\t'Dashboard',\n\t'Consults',\n\t'Admin',\n\t'Admin.Integration',\n\t'Admin.Integration.Know2act'\n]);\n\noscarApp.config(['$stateProvider', '$urlRouterProvider', function($stateProvider, $urlRouterProvider)\n{\n\t//\n\t// For any unmatched url, redirect to /state1\n\t$urlRouterProvider.otherwise(\"/dashboard\");\n\t//\n\t// Now set up the states\n\t$stateProvider\n\t\t.state('dashboardManager',\n\t\t{\n\t\t\turl: '/dashboard/admin',\n\t\t\ttemplateUrl: 'src/dashboard/admin/DashboardManager.jsp',\n\t\t\tcontroller: 'dashboardManagerController'\n\t\t})\n\t\t.state('dashboard',\n\t\t{\n\t\t\turl: '/dashboard',\n\t\t\ttemplateUrl: 'src/dashboard/dashboard.jsp',\n\t\t\tcontroller: 'Dashboard.DashboardController'\n\t\t})\n\t\t.state('inbox',\n\t\t{\n\t\t\turl: '/inbox',\n\t\t\ttemplateUrl: 'src/inbox/inbox_popup.jsp',\n\t\t\t// templateUrl: 'src/inbox/inbox.jsp',\n\t\t\tcontroller: 'Inbox.InboxController'\n\t\t})\n\t\t.state('consultRequests',\n\t\t{\n\t\t\turl: '/consults',\n\t\t\ttemplateUrl: 'src/consults/consultRequestList.jsp',\n\t\t\tcontroller: 'Consults.ConsultRequestListController as consultRequestListCtrl'\n\t\t})\n\t\t.state('consultResponses',\n\t\t{\n\t\t\turl: '/consultResponses',\n\t\t\ttemplateUrl: 'src/consults/consultResponseList.jsp',\n\t\t\tcontroller: 'Consults.ConsultResponseListController as consultResponseListCtrl'\n\t\t})\n\t\t.state('billing',\n\t\t{\n\t\t\turl: '/billing',\n\t\t\ttemplateUrl: 'src/billing/billing_popup.jsp',\n\t\t\tcontroller: 'BillingCtrl'\n\t\t})\n\t\t.state('schedule',\n\t\t{\n\t\t\turl: '/schedule',\n\t\t\ttemplateUrl: 'src/schedule/view.jsp',\n\t\t\tcontroller: 'Schedule.ScheduleController'\n\t\t})\n\t\t.state('admin',\n\t\t{\n\t\t\turl: '/admin',\n\t\t\ttemplateUrl: 'src/admin/admin_popup.jsp',\n\t\t\tcontroller: 'AdminCtrl'\n\t\t})\n\t\t.state('ticklers',\n\t\t{\n\t\t\turl: '/ticklers',\n\t\t\ttemplateUrl: 'src/tickler/ticklerList.jsp',\n\t\t\tcontroller: 'Tickler.TicklerListController as ticklerListCtrl',\n\t\t\tresolve:\n\t\t\t{\n\t\t\t\tproviders: ['providerService', function(providerService)\n\t\t\t\t{\n\t\t\t\t\treturn providerService.searchProviders(\n\t\t\t\t\t{\n\t\t\t\t\t\tactive: true\n\t\t\t\t\t});\n\t\t\t\t}],\n\t\t\t}\n\t\t})\n\t\t.state('search',\n\t\t{\n\t\t\turl: '/search',\n\t\t\ttemplateUrl: 'src/patient/search/patientSearch.jsp',\n\t\t\tcontroller: 'Patient.Search.PatientSearchController as patientSearchCtrl',\n\t\t\tparams:\n\t\t\t{\n\t\t\t\tterm: null\n\t\t\t}\n\t\t})\n\t\t.state('reports',\n\t\t{\n\t\t\turl: '/reports',\n\t\t\ttemplateUrl: 'src/report/reports.jsp',\n\t\t\t//templateUrl: 'src/report/reports_classic.jsp',\n\t\t\tcontroller: 'Report.ReportsController as reportsCtrl',\n\t\t})\n\t\t.state('documents',\n\t\t{\n\t\t\turl: '/documents',\n\t\t\ttemplateUrl: 'src/document/documents_classic.jsp',\n\t\t\tcontroller: 'Document.DocumentsController'\n\t\t})\n\t\t.state('settings',\n\t\t{\n\t\t\turl: '/settings',\n\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\tresolve:\n\t\t\t{\n\t\t\t\tuser: ['providerService', function(providerService)\n\t\t\t\t{\n\t\t\t\t\treturn providerService.getMe();\n\t\t\t\t}],\n\t\t\t\tbillingServiceTypes: ['billingService', function(billingService)\n\t\t\t\t{\n\t\t\t\t\treturn billingService.getUniqueServiceTypes();\n\t\t\t\t}],\n\t\t\t\tproviderList: ['providerService', function(providerService)\n\t\t\t\t{\n\t\t\t\t\treturn providerService.searchProviders(\n\t\t\t\t\t{\n\t\t\t\t\t\t'active': true\n\t\t\t\t\t});\n\t\t\t\t}],\n\t\t\t\tloadedSettings: ['providerService', function(providerService)\n\t\t\t\t{\n\t\t\t\t\treturn providerService.getSettings();\n\t\t\t\t}],\n\t\t\t\tencounterForms: ['formService', function(formService)\n\t\t\t\t{\n\t\t\t\t\treturn formService.getAllEncounterForms();\n\t\t\t\t}],\n\t\t\t\teforms: ['formService', function(formService)\n\t\t\t\t{\n\t\t\t\t\treturn formService.getAllEForms();\n\t\t\t\t}],\n\t\t\t\tteams: ['providerService', function(providerService)\n\t\t\t\t{\n\t\t\t\t\treturn providerService.getActiveTeams();\n\t\t\t\t}],\n\t\t\t\tgroupNames: ['formService', function(formService)\n\t\t\t\t{\n\t\t\t\t\treturn formService.getGroupNames();\n\t\t\t\t}],\n\t\t\t\tloadedApps: ['appService', function(appService)\n\t\t\t\t{\n\t\t\t\t\treturn appService.getApps();\n\t\t\t\t}]\n\t\t\t}\n\t\t})\n\t\t.state('settings.persona',\n\t\t\t{\n\t\t\t\turl: '/persona',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'persona'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('settings.general',\n\t\t\t{\n\t\t\t\turl: '/general',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'general'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('settings.schedule',\n\t\t\t{\n\t\t\t\turl: '/schedule',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'schedule'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('settings.billing',\n\t\t\t{\n\t\t\t\turl: '/billing',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'billing'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('settings.rx',\n\t\t\t{\n\t\t\t\turl: '/rx',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'rx'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('settings.masterdemo',\n\t\t\t{\n\t\t\t\turl: '/masterdemo',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'masterdemo'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('settings.consults',\n\t\t\t{\n\t\t\t\turl: '/consults',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'consults'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('settings.documents',\n\t\t\t{\n\t\t\t\turl: '/documents',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'documents'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('settings.summary',\n\t\t\t{\n\t\t\t\turl: '/summary',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'summary'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('settings.eforms',\n\t\t\t{\n\t\t\t\turl: '/eforms',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'eforms'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('settings.inbox',\n\t\t\t{\n\t\t\t\turl: '/inbox',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'inbox'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('settings.programs',\n\t\t\t{\n\t\t\t\turl: '/programs',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'programs'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('settings.integration',\n\t\t\t{\n\t\t\t\turl: '/integration',\n\t\t\t\ttemplateUrl: 'src/settings/settings.jsp',\n\t\t\t\tcontroller: 'Settings.SettingsController as settingsCtrl',\n\t\t\t\tdata: {\n\t\t\t\t\ttab: 'integration'\n\t\t\t\t}\n\t\t\t})\n\t\t.state('support',\n\t\t{\n\t\t\turl: '/support',\n\t\t\ttemplateUrl: 'src/help/support.jsp',\n\t\t\tcontroller: 'Help.SupportController'\n\t\t})\n\t\t.state('help',\n\t\t{\n\t\t\turl: '/help',\n\t\t\ttemplateUrl: 'src/help/help.jsp',\n\t\t\tcontroller: 'Help.HelpController'\n\t\t})\n\t\t.state('record',\n\t\t{\n\t\t\turl: '/record/:demographicNo',\n\t\t\ttemplateUrl: 'src/record/record.jsp',\n\t\t\tcontroller: 'Record.RecordController as recordCtrl',\n\t\t\tresolve:\n\t\t\t{\n\t\t\t\tdemo: ['$stateParams', 'demographicService', function($stateParams, demographicService)\n\t\t\t\t{\n\t\t\t\t\treturn demographicService.getDemographic($stateParams.demographicNo);\n\t\t\t\t}],\n\t\t\t\tuser: ['providerService', function(providerService)\n\t\t\t\t{\n\t\t\t\t\treturn providerService.getMe();\n\t\t\t\t}],\n\t\t\t\tproperties: ['uxService', function(uxService)\n\t\t\t\t{\n\t\t\t\t\treturn uxService.getDisplayProperties();\n\t\t\t\t}]\n\t\t\t}\n\t\t})\n\t\t.state('record.details',\n\t\t{\n\t\t\turl: '/details',\n\t\t\ttemplateUrl: 'src/record/details/details.jsp',\n\t\t\tcontroller: 'Record.Details.DetailsController as detailsCtrl'\n\t\t})\n\t\t.state('record.summary',\n\t\t{\n\t\t\turl: '/summary?appointmentNo&encType',\n\t\t\ttemplateUrl: 'src/record/summary/summary.jsp',\n\t\t\tcontroller: 'Record.Summary.SummaryController as summaryCtrl'\n\t\t})\n\t\t.state('record.forms',\n\t\t{\n\t\t\turl: '/forms',\n\t\t\ttemplateUrl: 'src/record/forms/forms.jsp',\n\t\t\tcontroller: 'Record.Forms.FormController as formCtrl',\n\t\t\tparams: {\n\t\t\t\tformListId: 0\n\t\t\t}\n\t\t})\n\t\t.state('record.forms.view',\n\t\t{\n\t\t\turl: '/view/:type/:id?name',\n\t\t\ttemplateUrl: 'src/record/forms/forms.jsp',\n\t\t\tparams: { name: { dynamic: true } },\n\t\t\tcontroller: 'Record.Forms.FormController as formCtrl'\n\t\t})\n\t\t.state('record.forms.add',\n\t\t{\n\t\t\turl: '/add/:type/:id',\n\t\t\ttemplateUrl: 'src/record/forms/forms.jsp',\n\t\t\tcontroller: 'Record.Forms.FormController as formCtrl'\n\t\t})\n\t\t.state('record.consultRequests',\n\t\t{\n\t\t\turl: '/consults',\n\t\t\ttemplateUrl: 'src/consults/consultRequestList.jsp',\n\t\t\tcontroller: 'Consults.ConsultRequestListController as consultRequestListCtrl'\n\t\t})\n\t\t.state('record.consultResponses',\n\t\t{\n\t\t\turl: '/consultResponses',\n\t\t\ttemplateUrl: 'src/consults/consultResponseList.jsp',\n\t\t\tcontroller: 'Consults.ConsultResponseListController as consultResponseListCtrl'\n\t\t})\n\t\t.state('record.consultRequest',\n\t\t{\n\t\t\turl: '/consult/:requestId',\n\t\t\ttemplateUrl: 'src/consults/consultRequest.jsp',\n\t\t\tcontroller: 'Consults.ConsultRequestController as consultRequestCtrl',\n\t\t\tresolve:\n\t\t\t{\n\t\t\t\tconsult: ['$stateParams', 'consultService', function($stateParams, consultService)\n\t\t\t\t{\n\t\t\t\t\tif($stateParams.requestId === \"new\") {\n\t\t\t\t\t\treturn consultService.getNewRequest($stateParams.demographicNo);\n\t\t\t\t\t}\n\t\t\t\t\treturn consultService.getRequest($stateParams.requestId);\n\t\t\t\t}],\n\t\t\t\tuser: ['providerService', function(providerService)\n\t\t\t\t{\n\t\t\t\t\treturn providerService.getMe();\n\t\t\t\t}]\n\t\t\t}\n\t\t})\n\t\t.state('record.consultResponse',\n\t\t{\n\t\t\turl: '/consultResponse/:responseId',\n\t\t\ttemplateUrl: 'src/consults/consultResponse.jsp',\n\t\t\tcontroller: 'Consults.ConsultResponseController as consultResponseCtrl',\n\t\t\tresolve:\n\t\t\t{\n\t\t\t\tconsult: ['$stateParams', 'consultService', function($stateParams, consultService)\n\t\t\t\t{\n\t\t\t\t\treturn consultService.getResponse($stateParams.responseId, $stateParams.demographicNo);\n\t\t\t\t}],\n\t\t\t\tuser: ['providerService', function(providerService)\n\t\t\t\t{\n\t\t\t\t\treturn providerService.getMe();\n\t\t\t\t}]\n\t\t\t}\n\t\t})\n\t\t.state('record.tickler',\n\t\t{\n\t\t\turl: '/tickler',\n\t\t\ttemplateUrl: 'src/tickler/ticklerList.jsp',\n\t\t\tcontroller: 'Tickler.TicklerListController as ticklerListCtrl',\n\t\t\tresolve:\n\t\t\t{\n\t\t\t\tproviders: ['providerService', function(providerService)\n\t\t\t\t{\n\t\t\t\t\treturn providerService.searchProviders(\n\t\t\t\t\t{\n\t\t\t\t\t\tactive: true\n\t\t\t\t\t});\n\t\t\t\t}]\n\t\t\t}\n\t\t}).state('record.tracker',\n\t\t{\n\t\t\turl: '/tracker',\n\t\t\ttemplateUrl: 'src/record/tracker/tracker.jsp',\n\t\t\tcontroller: 'Record.Tracker.TrackerController as trackerCtrl'\n\t\t})\n\t\t.state('record.phr',\n\t\t{\n\t\t\turl: '/phr',\n\t\t\ttemplateUrl: 'src/record/phr/phr.jsp',\n\t\t\tcontroller: 'Record.PHR.PHRController as phrCtrl'\n\t\t})\n\t\t// .state('admin.integration',\n\t\t.state('k2aConfig',\n\t\t\t{\n\t\t\t// url: '/admin/integration',\n\t\t\turl:'/k2aConfig',\n\t\t\ttemplateUrl: 'src/admin/integration/know2act/Know2actConfiguration.jsp',\n\t\t\tcontroller: 'Admin.Integration.Know2act.k2aConfigController as k2aConfigCtrl'\n\t\t})\n\t\t.state('k2aTemplate',\n\t\t\t{\n\t\t\t\t// url: '/admin/integration',\n\t\t\t\turl:'/k2aTemplate',\n\t\t\t\ttemplateUrl: 'src/admin/integration/know2act/Know2actTemplate.jsp',\n\t\t\t\tcontroller: 'Admin.Integration.Know2act.k2aTemplateController as k2aTemplateCtrl'\n\t\t\t})\n\t\t.state('k2aNotification',\n\t\t{\n\t\t\turl:'/k2aNotification',\n\t\t\ttemplateUrl: 'src/admin/integration/know2act/Know2actNotifications.jsp',\n\t\t\tcontroller: 'Admin.Integration.Know2act.k2aNotificationController as k2aNoteCtrl'\n\t\t});\n\n}]);\n\n// For debugging purposes\n/*\noscarApp.run( function($rootScope, $location) {\n\n$rootScope.$on('$stateChangeStart',function(event, toState, toParams, fromState, fromParams){\n\t  console.log('$stateChangeStart to '+toState.to+'- fired when the transition begins. toState,toParams : \\n',toState, toParams);\n\t});\n\t$rootScope.$on('$stateChangeError',function(event, toState, toParams, fromState, fromParams){\n\t  console.log('$stateChangeError - fired when an error occurs during transition.');\n\t  console.log(arguments);\n\t});\n\t$rootScope.$on('$stateChangeSuccess',function(event, toState, toParams, fromState, fromParams){\n\t  console.log('$stateChangeSuccess to '+toState.name+'- fired once the state transition is complete.');\n\t});\n\t// $rootScope.$on('$viewContentLoading',function(event, viewConfig){\n\t//   // runs on individual scopes, so putting it in \"run\" doesn't work.\n\t//   console.log('$viewContentLoading - view begins loading - dom not rendered',viewConfig);\n\t// });\n\t$rootScope.$on('$viewContentLoaded',function(event){\n\t  console.log('$viewContentLoaded - fired after dom rendered',event);\n\t});\n\t$rootScope.$on('$stateNotFound',function(event, unfoundState, fromState, fromParams){\n\t  console.log('$stateNotFound '+unfoundState.to+'  - fired when a state cannot be found by its name.');\n\t  console.log(unfoundState, fromState, fromParams);\n\t});\n\n});\n*/\n\n\n\n/*\n\n user: function($stateParams, UserService) {\n\t  return UserService.find($stateParams.id);\n\t},\noscarApp.config(['$routeProvider',\n\t\t\t\t\tfunction($routeProvider) {\n\n\t\t\t\t\t\twhen('/settings', {\n\t\t\t\t\t\t\ttemplateUrl: 'src/partials/settings-classic.jsp',\n\t\t\t\t\t\t\tcontroller: 'Settings.SettingsController'\n\t\t\t\t\t\t}).\n\t\t\t\t\t\twhen('/support', {\n\t\t\t\t\t\t\ttemplateUrl: 'src/partials/support.jsp',\n\t\t\t\t\t\t\tcontroller: 'Help.SupportController'\n\t\t\t\t\t\t}).\n\t\t\t\t\t\twhen('/help', {\n\t\t\t\t\t\t\ttemplateUrl: 'src/partials/help.jsp',\n\t\t\t\t\t\t\tcontroller: 'Help.HelpController'\n\t\t\t\t\t\t}).\n\n\t\t\t\t\t\twhen('/messenger', {\n\t\t\t\t\t\t\ttemplateUrl: 'src/partials/messenger.jsp',\n\t\t\t\t\t\t\tcontroller: 'MessengerCtrl'\n\t\t\t\t\t\t}).\n\t\t\t\t\t\twhen('/eform', {\n\t\t\t\t\t\t\ttemplateUrl: 'src/partials/eform.jsp',\n\t\t\t\t\t\t\tcontroller: 'EformFullCtrl'\n\t\t\t\t\t\t}).\n\t\t\t\t\t\twhen('/eform2', {\n\t\t\t\t\t\t\ttemplateUrl: 'src/partials/eform2.jsp',\n\t\t\t\t\t\t\tcontroller: 'EformFull2Ctrl'\n\t\t\t\t\t\t}).\n\n\t\t\t\t\t}\n]);\n*/\n\n\n\n//for dev - just to keep the cache clear\n/*\noscarApp.run(function($rootScope, $templateCache) {\n\t$rootScope.$on('$viewContentLoaded', function() {\n\t\t$templateCache.removeAll();\n\t\tconsole.log(\"onclick of tab\");\n\t});\n});\n\n\n//reset the left nav back\noscarApp.run( function($rootScope, $location) {\n\t$rootScope.$on( \"$routeChangeStart\", function(event, next, current) {\n\t\t$(\"#left_pane\").addClass(\"col-md-2\");\n\t\t$(\"#left_pane\").show();\n\t\t$(\"#right_pane\").removeClass(\"col-md-12\");\n\t\t$(\"#right_pane\").addClass(\"col-md-10\");\n\t});\n});\n\n*/\n\n//this is for the patient list control. Tells us which template to load\n/*angular.module('oscarProviderViewModule').factory('Navigation', function($rootScope)\n{\n\treturn {\n\t\tlocation: '',\n\n\t\tload: function(msg)\n\t\t{\n\t\t\tthis.location = msg;\n\t\t}\n\t};\n});*/\nangular.module('oscarProviderViewModule').factory('Navigation', [\n\tfunction()\n\t{\n\t\treturn {\n\t\t\tlocation: '',\n\n\t\t\tload: function(msg)\n\t\t\t{\n\t\t\t\tthis.location = msg;\n\t\t\t}\n\t\t};\n\t}\n]);\n\n/*\n\nangular.module('oscarProviderViewModule').directive('oscarSecurityShow', function ($animate, securityService) {\n\t  return function(scope, element, attr) {\n\t\t\tscope.$watch(attr.oscarSecurityShow, function ngShowWatchAction(value){\n\t\t\t\t//console.log('valuee='+value.toSource());\n\n\t\t\t\tif(value.objectName != null && value.privilege != null) {\n\t\t\t\t\t//securityService.hasHigh(value.objectName,value.privilege,null);\n\t\t\t\t\tconsole.log('gtg');\n\t\t\t\t}\n\n\t\t\t  //set value to true to show, or else hide\n\t\t\t  $animate[value ? 'removeClass' : 'addClass'](element, 'ng-hide');\n\t\t\t});\n\t  };\n});\n*/","'use strict';\n\nwindow.Juno = window.Juno ||\n{};\nJuno.Consults = Juno.Consults ||\n{};\n\nJuno.Consults.Common = {};\n\nJuno.Consults.Common.sortAttachmentDocs = function sortAttachmentDocs(arrayOfDocs)\n{\n\tarrayOfDocs.sort(function(doc1, doc2)\n\t{\n\t\tif (doc1.documentType < doc2.documentType) return -1;\n\t\telse if (doc1.documentType > doc2.documentType) return 1;\n\t\telse\n\t\t{\n\t\t\tif (doc1.displayName < doc2.displayName) return -1;\n\t\t\telse if (doc1.displayName > doc2.displayName) return 1;\n\t\t}\n\t\treturn 0;\n\t});\n};","'use strict';\n\nwindow.Juno = window.Juno || {};\nJuno.Common = Juno.Common || {};\n\nJuno.Common.ServiceHelper = {};\n\nJuno.Common.ServiceHelper.configHeaders = function configHeaders() {\n\treturn {\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Accept\": \"application/json\"\n\t\t}\n\t};\n};\n\nJuno.Common.ServiceHelper.configHeadersWithCache = function configHeadersWithCache()\n{\n\treturn {\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Accept\": \"application/json\"\n\t\t},\n\t\tcache: true\n\t};\n};\n","'use strict';\n\nif (!window.Juno) window.Juno = {};\n\n\nif (!Juno.Common) Juno.Common = {};\n\nJuno.Common.Util = {};\n\nJuno.Common.Util.exists = function exists(object) {\n\t// not undefined and not null\n\treturn angular.isDefined(object) && object !== null;\n};\n\nJuno.Common.Util.isBlank = function isBlank(object) {\n\t// undefined or null or empty string\n\treturn !Juno.Common.Util.exists(object) || object === \"\";\n};\n\nJuno.Common.Util.toArray = function toArray(obj) { //convert single object to array\n\tif (obj instanceof Array) return obj;\n\telse if (obj == null) return [];\n\telse return [obj];\n};\n\nJuno.Common.Util.pad0 = function pad0(n) {\n\tvar s = n.toString();\n\tif (s.length == 1) s = \"0\" + s;\n\treturn s;\n};\n\nJuno.Common.Util.toTrimmedString = function toTrimmedString(s) {\n\tif (s == null) s = \"\";\n\tif (s instanceof String) s = s.trim();\n\treturn s;\n};\n\nJuno.Common.Util.formatDate = function formatDate(d) {\n\td = Juno.Common.Util.toTrimmedString(d);\n\tif (d) {\n\t\tif (!(d instanceof Date)) d = new Date(d);\n\t\td = d.getFullYear() + \"-\" + Juno.Common.Util.pad0(d.getMonth() + 1) + \"-\" + Juno.Common.Util.pad0(d.getDate());\n\t}\n\treturn d;\n};\n\nJuno.Common.Util.formatTime = function formatTime(d) {\n\td = Juno.Common.Util.toTrimmedString(d);\n\tif (d) {\n\t\tif (!(d instanceof Date)) d = new Date(d);\n\t\td = Juno.Common.Util.pad0(d.getHours()) + \":\" + Juno.Common.Util.pad0(d.getMinutes());\n\t}\n\treturn d;\n};\n\nJuno.Common.Util.addNewLine = function addNewLine(line, mssg) {\n\tif (line == null || line.trim() == \"\") return mssg;\n\n\tif (mssg == null || mssg.trim() == \"\") mssg = line.trim();\n\telse mssg += \"\\n\" + line.trim();\n\n\treturn mssg;\n};\n\nJuno.Common.Util.calcAge = function calcAge(dobYear, dobMonth, dobDay)\n {\n\n\tvar dateOfBirth = new Date(parseInt(dobYear, 10), parseInt(dobMonth, 10), parseInt(dobDay, 10));\n\tvar currDate = new Date();\n\n\tvar years = (currDate.getFullYear() - dateOfBirth.getFullYear());\n\n\tif (currDate.getMonth() < dateOfBirth.getMonth() ||\n\t\tcurrDate.getMonth() == dateOfBirth.getMonth() && currDate.getDate() < dateOfBirth.getDate())\n\t{\n\t\tyears--;\n\t}\n\treturn years;\n};\n\nJuno.Common.Util.isInArray = function isInArray(value, array) \n{\n\treturn array.indexOf(value) > -1;\n};\n\n/**\n * recursively merges two js hashes. the baseHash will be modified\n * @param baseHash\n * @param toMerge\n */\nJuno.Common.Util.mergeHash = function mergeHash(baseHash, toMerge)\n{\n\tif (toMerge === 'undefined') {\n\t\treturn false;\n\t}\n\t$.extend(true, baseHash, toMerge);\n\treturn true;\n};\n\nJuno.Common.Util.noNull = function noNull(val)\n{\n    if (typeof val === 'string')\n    {\n        val =  val.trim();\n    }\n    else if ( val === null)\n    {\n\t\tval = \"\";\n    }\n\n    return val;\n};\n\nJuno.Common.Util.isUndefinedOrNull = function isUndefinedOrNull(val)\n{\n\treturn angular.isUndefined(val) || val === null;\n};\n\nJuno.Common.Util.isDefinedAndNotNull = function isDefinedAndNotNull(val)\n{\n\treturn (angular.isDefined(val) && val !== null);\n};\n\nJuno.Common.Util.objectArrayIndexOf = function objectArrayIndexOf(array, searchTerm, property)\n{\n\tfor(var i = 0, len = array.length; i < len; i++) {\n\t\tif (array[i][property] === searchTerm) return i;\n\t}\n\treturn -1;\n};\n\nJuno.Common.Util.isIntegerString = function isIntegerString(string)\n{\n\tvar parsed_string = parseInt(string);\n\n\tif (/^-?\\d+$/.test(string.toString()))\n\t{\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n","'use strict'\n\n\nwindow.Juno = window.Juno || {};\nwindow.Juno.Common = window.Juno.Common || {};\n\nwindow.Juno.Common.DisplayMessages = function DisplayMessages(messages_hash, options)\n{\n\tvar me = this;\n\n\t/*************************************************************/\n\t// Local Variables\n\t/*************************************************************/\n\n\tme.messages_hash = {};\n\tme.display_field_errors = true;\n\tme.field_errors_label_map = {};\n\tme.field_errors_label_map_key = null;\n\tme.extra_info = {};\n\tme.meta = {};\n\n\tme.saving_message = 'Saving...';\n\n\t/*************************************************************/\n\t// Initialize\n\t// @param {messages_hash} Error hash from Juno API\n\t// @param {options} Hash\n\t//\t\t- {display_field_errors} Boolean : Sets flag\n\t//\t\t- {field_errors_label_map} Hash : Can pass a hash in to get field\n\t// \t\tlabels for displaying field errors. Assumed to be field => label\n\t//\t\t- {field_errors_label_map_key} String : Allows for\n\t// \t\tfield => Hash[key] lookup for label.\n\t/*************************************************************/\n\n\tme.init = function init()\n\t{\n\t\tif (Juno.Common.Util.exists(messages_hash))\n\t\t{\n\t\t\tme.messages_hash = messages_hash;\n\t\t}\n\n\t\t// Datamapper field errors are inconsistent and can return either a\n\t\t// hash -> array or hash -> string\n\t\tme.force_field_error_arrays();\n\n\t\t// Parse options\n\t\tif (Juno.Common.Util.exists(options))\n\t\t{\n\t\t\tif (Juno.Common.Util.exists(options.display_field_errors) && options.display_field_errors === false)\n\t\t\t{\n\t\t\t\tme.display_field_errors = false;\n\t\t\t}\n\t\t\tif (Juno.Common.Util.exists(options.field_errors_label_map))\n\t\t\t{\n\t\t\t\tme.field_errors_label_map = options.field_errors_label_map;\n\t\t\t\tif (Juno.Common.Util.exists(options.field_errors_label_map_key))\n\t\t\t\t{\n\t\t\t\t\tme.field_errors_label_map_key = options.field_errors_label_map_key;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// merge another display messages object into this one\n\tme.merge = function merge(display_messages)\n\t{\n\t\t// does not merge extra_info or meta - just messages\n\n\t\tme.messages_hash = angular.merge(me.messages_hash, display_messages.messages_hash);\n\t};\n\n\t/*************************************************************/\n\t// Alert Warnings\n\t/*************************************************************/\n\n\tme.has_alert_warnings = function has_alert_warnings()\n\t{\n\t\treturn me.alert_warnings().length > 0;\n\t};\n\n\tme.alert_warnings = function alert_warnings()\n\t{\n\t\tif (Juno.Common.Util.exists(me.messages_hash) &&\n\t\t\t\tJuno.Common.Util.exists(me.messages_hash.alert_warnings))\n\t\t{\n\t\t\treturn me.messages_hash.alert_warnings;\n\t\t}\n\t\treturn [];\n\t};\n\n\tme.add_alert_warning = function add_alert_warning(message)\n\t{\n\t\tif (!me.has_alert_warnings())\n\t\t{\n\t\t\tme.messages_hash.alert_warnings = [];\n\t\t}\n\t\tme.messages_hash.alert_warnings.push(message);\n\t};\n\n\t/*************************************************************/\n\t// Standard Errors\n\t// Generic errors not tied to any specific element.\n\t/*************************************************************/\n\n\t// Returns true if there are any field errors\n\tme.has_validation_warnings = function has_validation_warnings()\n\t{\n\t\treturn me.validation_warnings().length > 0;\n\t};\n\n\tme.add_validation_warning = function add_validation_warning(message)\n\t{\n\t\tif (!me.has_validation_warnings())\n\t\t{\n\t\t\tme.messages_hash.validation_warnings = [];\n\t\t}\n\t\tme.messages_hash.validation_warnings.push(message);\n\t};\n\n\tme.validation_warnings = function validation_warnings()\n\t{\n\t\tif (Juno.Common.Util.exists(me.messages_hash) &&\n\t\t\t\tJuno.Common.Util.exists(me.messages_hash.validation_warnings))\n\t\t{\n\t\t\treturn me.messages_hash.validation_warnings;\n\t\t}\n\t\treturn [];\n\t};\n\n\t/*************************************************************/\n\t// Standard Errors\n\t// Generic errors not tied to any specific element.\n\t/*************************************************************/\n\n\tme.has_standard_errors = function has_standard_errors()\n\t{\n\t\treturn me.standard_errors().length > 0;\n\t};\n\n\tme.standard_errors = function standard_errors()\n\t{\n\t\tif (Juno.Common.Util.exists(me.messages_hash) &&\n\t\t\t\tJuno.Common.Util.exists(me.messages_hash.standard_errors))\n\t\t{\n\t\t\treturn me.messages_hash.standard_errors;\n\t\t}\n\t\treturn [];\n\t};\n\n\tme.add_standard_error = function add_standard_error(message)\n\t{\n\t\tif (!me.has_standard_errors())\n\t\t{\n\t\t\tme.messages_hash.standard_errors = [];\n\t\t}\n\t\tme.messages_hash.standard_errors.push(message);\n\t};\n\n\tme.add_generic_fatal_error = function add_generic_fatal_error()\n\t{\n\t\t// TODO: change this\n\t\tme.add_standard_error(\"Fatal Error\");\n\t\t//\t\tJuno.Context.Settings.interface_preferences.generic_fatal_error_message);\n\t};\n\n\t/*************************************************************/\n\t// Standard Warnings\n\t// Generic warnings not tied to any specific element.\n\t/*************************************************************/\n\n\tme.has_standard_warnings = function has_standard_warnings()\n\t{\n\t\treturn me.standard_warnings().length > 0;\n\t};\n\n\tme.standard_warnings = function standard_warnings()\n\t{\n\t\tif (Juno.Common.Util.exists(me.messages_hash) &&\n\t\t\t\tJuno.Common.Util.exists(me.messages_hash.standard_warnings))\n\t\t{\n\t\t\treturn me.messages_hash.standard_warnings;\n\t\t}\n\t\treturn [];\n\t};\n\n\tme.add_standard_warning = function add_standard_warning(message)\n\t{\n\t\tif (!me.has_standard_warnings())\n\t\t{\n\t\t\tme.messages_hash.standard_warnings = [];\n\t\t}\n\t\tme.messages_hash.standard_warnings.push(message);\n\t};\n\n\t/*************************************************************/\n\t// Standard Info Message\n\t// Generic info message not tied to any specific element.\n\t/*************************************************************/\n\n\tme.has_standard_info = function has_standard_info()\n\t{\n\t\treturn me.standard_info().length > 0;\n\t};\n\n\tme.standard_info = function standard_info()\n\t{\n\t\tif (Juno.Common.Util.exists(me.messages_hash) &&\n\t\t\t\tJuno.Common.Util.exists(me.messages_hash.standard_info))\n\t\t{\n\t\t\treturn me.messages_hash.standard_info;\n\t\t}\n\t\treturn [];\n\t};\n\n\tme.add_standard_info = function add_standard_info(message)\n\t{\n\t\tif (!me.has_standard_info())\n\t\t{\n\t\t\tme.messages_hash.standard_info = [];\n\t\t}\n\t\tme.messages_hash.standard_info.push(message);\n\t};\n\n\t/*************************************************************/\n\t// Standard Success Message\n\t// Generic success message not tied to any specific element.\n\t/*************************************************************/\n\n\tme.has_standard_success = function has_standard_success()\n\t{\n\t\treturn me.standard_success().length > 0;\n\t};\n\n\tme.standard_success = function standard_success()\n\t{\n\t\tif (Juno.Common.Util.exists(me.messages_hash) &&\n\t\t\t\tJuno.Common.Util.exists(me.messages_hash.standard_success))\n\t\t{\n\t\t\treturn me.messages_hash.standard_success;\n\t\t}\n\t\treturn [];\n\t};\n\n\tme.add_standard_success = function add_standard_success(message)\n\t{\n\t\tif (!me.has_standard_success())\n\t\t{\n\t\t\tme.messages_hash.standard_success = [];\n\t\t}\n\t\tme.messages_hash.standard_success.push(message);\n\t};\n\n\t/*************************************************************/\n\t// Field Errors\n\t// These errors are directly related to form fields.\n\t/*************************************************************/\n\n\t// Returns true if there are any field errors\n\tme.has_field_errors = function has_field_errors()\n\t{\n\t\treturn me.field_errors() && !angular.equals(me.field_errors(), {});\n\t};\n\n\t// Returns a hash of field errors\n\tme.field_errors = function field_errors(prepend_label)\n\t{\n\t\tvar field_errors = {}\n\t\tif (Juno.Common.Util.exists(me.messages_hash) &&\n\t\t\t\tJuno.Common.Util.exists(me.messages_hash.field_errors))\n\t\t{\n\t\t\tif (Juno.Common.Util.exists(prepend_label) && prepend_label === true)\n\t\t\t{\n\t\t\t\tfor (var key in me.messages_hash.field_errors)\n\t\t\t\t{\n\t\t\t\t\tfield_errors[key] = me.prepend_label(\n\t\t\t\t\t\t\tkey, me.messages_hash.field_errors[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfield_errors = me.messages_hash.field_errors;\n\t\t\t}\n\t\t}\n\t\treturn field_errors;\n\t};\n\n\t// Returns true if there is a field error for any of the passed in keys\n\tme.has_one_of_field_error = function has_one_of_field_error(keys)\n\t{\n\t\tif (!angular.isArray(keys))\n\t\t{\n\t\t\tkeys = [keys];\n\t\t}\n\n\t\tfor (var i in keys)\n\t\t{\n\t\t\tif (me.has_field_error(keys[i]))\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t// Returns true if this field error exists and this error object has the matching index.\n\t// Used for invoice multi post which posts multiple invoices line items, and returns an index\n\t// corresponding to the line item with the error\n\tme.has_indexed_field_error = function has_indexed_field_error(key, index)\n\t{\n\t\tif(Juno.Common.Util.exists(me.extra_info) &&\n\t\t\t\tJuno.Common.Util.exists(me.extra_info.index) &&\n\t\t\t\tme.extra_info.index == index)\n\t\t{\n\t\t\treturn me.has_field_error(key);\n\t\t}\n\t\treturn false;\n\t};\n\n\t// Returns true if this field error exists\n\tme.has_field_error = function has_field_error(key)\n\t{\n\t\tif (me.has_field_errors())\n\t\t{\n\t\t\tif (key in me.field_errors())\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t// Converts all field errors to strings. Concatinates arrays. Useful for our ca-field\n\t// directives that use ca-error as it doesn't accept a boolean value.\n\tme.field_error_string = function field_error_string(key, concat_string)\n\t{\n\t\tif (me.has_field_error(key))\n\t\t{\n\t\t\tif (!Juno.Common.Util.exists(concat_string))\n\t\t\t{\n\t\t\t\tconcat_string = \", \";\n\t\t\t}\n\t\t\treturn me.field_errors()[key].join(concat_string);\n\t\t}\n\t\treturn \"\";\n\t};\n\n\t// Adds a new field error with the given message\n\tme.add_field_error = function add_field_error(key, message)\n\t{\n\t\tif (!me.has_field_errors())\n\t\t{\n\t\t\tme.messages_hash.field_errors = {};\n\t\t}\n\t\tif (!me.has_field_error(key))\n\t\t{\n\t\t\tme.messages_hash.field_errors[key] = [];\n\t\t}\n\t\tme.messages_hash.field_errors[key].push(message)\n\t};\n\n\t// Removes a field error.\n\tme.remove_field_error = function remove_field_error(key)\n\t{\n\t\tif(me.has_field_error(key))\n\t\t{\n\t\t\tdelete me.messages_hash.field_errors[key];\n\t\t}\n\t};\n\n\t/*************************************************************/\n\t// Error links\n\t// These are error messages that have an embeded link in them\n\t// Eg: This patient already exists. Press \"here\" to view patient.\n\t/*************************************************************/\n\n\tme.has_error_links = function has_error_links()\n\t{\n\t\treturn me.error_links().length > 0;\n\t};\n\n\tme.add_error_link = function add_error_link(message)\n\t{\n\t\tif (!me.has_error_links())\n\t\t{\n\t\t\tme.messages_hash.error_links = [];\n\t\t}\n\t\tme.messages_hash.error_links.push(message);\n\t};\n\n\tme.error_links = function error_links()\n\t{\n\t\tif (Juno.Common.Util.exists(me.messages_hash) &&\n\t\t\t\tJuno.Common.Util.exists(me.messages_hash.error_links))\n\t\t{\n\t\t\treturn me.messages_hash.error_links;\n\t\t}\n\t\treturn [];\n\t};\n\n\t/*************************************************************/\n\t// Helpers\n\t/*************************************************************/\n\n\tme.has_errors = function has_errors()\n\t{\n\t\tif (me.has_field_errors() ||\n\t\t\t\tme.has_standard_errors() ||\n\t\t\t\tme.has_error_links())\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\tme.clear = function clear()\n\t{\n\t\tme.messages_hash = {};\n\t};\n\n\t// Make sure each field error value is an array of messages even if there\n\t// is only one element.\n\tme.force_field_error_arrays = function force_field_error_arrays()\n\t{\n\t\tif (me.has_field_errors())\n\t\t{\n\t\t\tfor (var i in me.messages_hash.field_errors)\n\t\t\t{\n\t\t\t\tif (!angular.isArray(me.messages_hash.field_errors[i]))\n\t\t\t\t{\n\t\t\t\t\tme.messages_hash.field_errors[i] = [\n\t\t\t\t\t\tangular.copy(me.messages_hash.field_errors[i])\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// Prepend field label to all field error messages\n\tme.prepend_label = function prepend_label(field, field_errors)\n\t{\n\t\tvar label = \"\";\n\t\tvar out_field_errors = [];\n\t\tif (field in me.field_errors_label_map)\n\t\t{\n\t\t\t// Lookup label in basic key -> label map\n\t\t\tlabel = me.field_errors_label_map[field];\n\n\t\t\t// If label map is a hash of hashes, grab the label from the\n\t\t\t// provided label field\n\t\t\tif (Juno.Common.Util.exists(me.field_errors_label_map_key))\n\t\t\t{\n\t\t\t\tlabel = me.field_errors_label_map[field][\n\t\t\t\t\t\tme.field_errors_label_map_key];\n\t\t\t}\n\n\t\t\t// Append label\n\t\t\tfor (var i in field_errors)\n\t\t\t{\n\t\t\t\tvar error_message = [label, field_errors[i]].join(\" \").trim();\n\t\t\t\tout_field_errors.push(error_message);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tout_field_errors = field_errors;\n\t\t}\n\t\treturn out_field_errors;\n\t};\n\n\tme.merge_messages = function merge_messages(merge_display_messages)\n\t{\n\t\tvar field_errors = merge_display_messages.field_errors();\n\t\tvar error_links = merge_display_messages.error_links();\n\t\tvar standard_infos = merge_display_messages.standard_info();\n\t\tvar standard_warnings = merge_display_messages.standard_warnings();\n\t\tvar standard_errors = merge_display_messages.standard_errors();\n\t\tvar alert_warnings = merge_display_messages.alert_warnings();\n\t\tvar validation_warnings = merge_display_messages.validation_warnings();\n\t\tvar standard_success = merge_display_messages.standard_success();\n\n\t\tfor(var i = 0; i < standard_success.length; i++)\n\t\t{\n\t\t\tme.add_standard_success(standard_success[i]);\n\t\t}\n\n\t\tfor(i = 0; i < standard_infos.length; i++)\n\t\t{\n\t\t\tme.add_standard_info(standard_infos[i]);\n\t\t}\n\n\t\tfor(i = 0; i < standard_warnings.length; i++)\n\t\t{\n\t\t\tme.add_standard_warning(standard_warnings[i]);\n\t\t}\n\n\t\tfor(i = 0; i < standard_errors.length; i++)\n\t\t{\n\t\t\tme.add_standard_error(standard_errors[i]);\n\t\t}\n\n\t\tfor(i = 0; i < alert_warnings.length; i++)\n\t\t{\n\t\t\tme.add_alert_warning(alert_warnings[i]);\n\t\t}\n\n\t\tfor(i = 0; i < validation_warnings.length; i++)\n\t\t{\n\t\t\tme.add_validation_warning(validation_warnings[i]);\n\t\t}\n\n\t\tfor(i = 0; i < error_links.length; i++)\n\t\t{\n\t\t\tme.add_error_link(error_links[i]);\n\t\t}\n\n\t\tfor(var key in field_errors)\n\t\t{\n\t\t\tif(field_errors.hasOwnProperty(key))\n\t\t\t{\n\t\t\t\tfor(i = 0; i < field_errors[key].length; i++)\n\t\t\t\t{\n\t\t\t\t\tme.add_field_error(key, field_errors[key][i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tme.init();\n};\n\n","/*\n * \n * Copyright (c) 2001-2002. Department of Family Medicine, McMaster University. All Rights Reserved. *\n * This software is published under the GPL GNU General Public License. \n * This program is free software; you can redistribute it and/or \n * modify it under the terms of the GNU General Public License \n * as published by the Free Software Foundation; either version 2 \n * of the License, or (at your option) any later version. * \n * This program is distributed in the hope that it will be useful, \n * but WITHOUT ANY WARRANTY; without even the implied warranty of \n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \n * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License \n * along with this program; if not, write to the Free Software \n * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * \n * \n * <OSCAR TEAM>\n * \n * This software was written for the \n * Department of Family Medicine \n * McMaster University \n * Hamilton \n * Ontario, Canada \n */\n\nfunction popup(height, width, url, windowName) {\n  return popup2(height, width, 0, 0, url, windowName);\n}\n\nfunction newWindow(url,windowName){\n    //this way the w&d works with older browsers as well\n    var w = document.getElementsByTagName('body')[0].clientWidth;//window.innerWidth;\n    var h = document.getElementsByTagName('body')[0].clientHeight;//window.innerHeight;\n    w = Math.max(w, window.innerWidth);\n    h = Math.max(h, window.innerHeight);\n    \n    return popup2(h, w, 0, 0, url, windowName);\n }\n\n\nfunction popup2(height, width, top, left, url, windowName){\n  if ( typeof popup2.winRefs == 'undefined' ) {\t  \n\t    popup2.winRefs = {};\n  }\n  if ( typeof popup2.winRefs[windowName] == 'undefined' || popup2.winRefs[windowName].closed ) {  \n\t  windowprops = \"height=\"+height+\",width=\"+width+\",location=no,scrollbars=yes,menubars=no,toolbars=no,resizable=yes,screenX=0,screenY=0,top=\" + top + \",left=\" + left;\n\t  popup2.winRefs[windowName]=window.open(url, windowName, windowprops);\n  }\n  else {\n\t  popup2.winRefs[windowName].location.href = url;\n\t  popup2.winRefs[windowName].resizeTo(width,height);\n\t  popup2.winRefs[windowName].focus();\n  }\n  \n  return popup2.winRefs[windowName];  \n}\n\nfunction confirmNGo(url, message) {\n    if (confirm(message)) {\n        location.href = url;\n    }\n    return false;\n}\n\n\nfunction showHideItem(id){ \n    if(document.getElementById(id).style.display == 'none')\n        showItem(id);        \n    else\n        hideItem(id);        \n}\n\nfunction showItem(id){\n        document.getElementById(id).style.display = ''; \n}\n\nfunction hideItem(id){\n        document.getElementById(id).style.display = 'none'; \n}\n\n/*\noElm - Mandatory. This is element in whose children you will look for the attribute.\nstrTagName - Mandatory. This is the name of the HTML elements you want to look in. Use wildcard (*) if you want to look in all elements.\nstrAttributeName - Mandatory. The name of the attribute youre looking for.\nstrAttributeValue - Optional. If you want the attribute youre looking for to have a certain value as well. (don't specify it if you don't know it)\n*/\ndocument.getElementsByAttribute = function(oElm, strTagName, strAttributeName, strAttributeValue){\n    var arrElements = (strTagName == \"*\" && oElm.all)? oElm.all : oElm.getElementsByTagName(strTagName);\n    var arrReturnElements = new Array();\n    var oAttributeValue = (typeof strAttributeValue != \"undefined\")? new RegExp(\"(^|\\\\s)\" + strAttributeValue + \"(\\\\s|$)\") : null;\n    var oCurrent;\n    var oAttribute;\n    for(var i=0; i<arrElements.length; i++){\n        oCurrent = arrElements[i];\n        oAttribute = oCurrent.getAttribute && oCurrent.getAttribute(strAttributeName);\n        if(typeof oAttribute == \"string\" && oAttribute.length > 0){\n            if(typeof strAttributeValue == \"undefined\" || (oAttributeValue && oAttributeValue.test(oAttribute))){\n                arrReturnElements.push(oCurrent);\n            }\n        }\n    }\n    return arrReturnElements;\n}\n\nfunction validDate(id) {\n   //checks if the <input type=\"text\"> has a valid date format yyyy/mm/dd\n   var completeRawDate = document.getElementById(id).value;\n   return validDateText(completeRawDate);\n}\n\nfunction validDateText(completeRawDate) {\n//Just another method that validates date in a string, useful if you want to make your own\n//date checking script.\n   var delimiter = '/';\n   if (completeRawDate.indexOf('/') == -1)\n       delimiter = '-';\n   var dateArray = completeRawDate.split(delimiter);\n   if (dateArray.length != 3) return false;\n   year = (dateArray[0] - 0);\n   month = (dateArray[1] - 1);\n   day = (dateArray[2] - 0);\n   //alert(\"year: \" + year + \", \" + month + \", \" + day);\n   dateObject = new Date(year,month,day);\n   return ((day==dateObject.getDate()) && (month==dateObject.getMonth()) && (year==dateObject.getFullYear()));\n}\n\nfunction validDateFieldsByClass(className, parentEle) {\n//Checks if the dates are valid, identifies date fields by class name; datefield preferrably type=\"text\"\n// parentEle is any object that encloses the fields, usually the form element\n   var datefields = document.getElementsByClassName(className, parentEle)\n   for (var i=0; i<datefields.length; i++) {\n      if (!validDateText(datefields[i].value)) {\n        datefields[i].focus();\n        return false;\n      }\n   }\n   return true;\n}\n\n//returns mouse coordinates\nfunction getMouseCoords(e) {\n        var array = new Array(2);\n\tvar posx = 0;\n\tvar posy = 0;\n\tif (!e) var e = window.event;\n\tif (e.pageX || e.pageY) \t{\n\t\tposx = e.pageX;\n\t\tposy = e.pageY;\n\t}\n\telse if (e.clientX || e.clientY) \t{\n        posx = e.clientX + document.body.scrollLeft\n\t\t\t+ document.documentElement.scrollLeft;\n\t\tposy = e.clientY + document.body.scrollTop\n\t\t\t+ document.documentElement.scrollTop;\n\t}\n        array[0] = posx;\n        array[1] = posy;\n        return array;\n}\n\n//example  <input type=\"checkbox\" onclick=\"checkAll(this, 'parentEle', 'checkclass')\">\nfunction checkAll(master, parentEle, className){\n   var val = master.checked;\n   var chkList = document.getElementsByClassName(className, parentEle);\n   for (i =0; i < chkList.length; i++){\n      chkList[i].checked = val;\n   }\n}\n\n//Calls firebugs console log if it's available.  A safer way to use the console because if firebug is not enabled the javascript will error on the console.log line.\nfunction oscarLog(str){\n    if(window.console){\n       console.log(str);\n    }\n    \n}\n\n\n//Can be use the enter key in a text box and call javacript function\n//example:  <itput type=\"text\" onkeypress=\"return grabEnter(event,'ReferralScriptAttach1()')\"/>\nfunction grabEnter(event,callb){\n  if( (window.event && window.event.keyCode == 13) || (event && event.which == 13) )  {\n     eval(callb);\n     return false;\n  }\n}\n\n\n\n//Checks to see if a String is numeric integer ie. No decimal aloud\nfunction isNumericInt(sText){\n   var validNumChars = \"0123456789\";\n   var isNumber=true;\n   var chara;\n   for (i = 0; i < sText.length && isNumber == true; i++) {\n      chara = sText.charAt(i);\n      if (validNumChars.indexOf(chara) == -1) {\n         isNumber = false;\n      }\n   }\n   return isNumber;\n}\n\n//Checks to see if a String is numeric\nfunction isNumeric(sText){\n   var validNumChars = \"0123456789.\";\n   var isNumber=true;\n   var chara;\n   for (i = 0; i < sText.length && isNumber == true; i++) {\n      chara = sText.charAt(i);\n      if (validNumChars.indexOf(chara) == -1) {\n         isNumber = false;\n      }\n   }\n   return isNumber;\n}\n//remove leading and trailing white space\nfunction trim(str){\n   str=str.replace(/^\\s+/g,\"\");\n   str=str.replace(/\\s+$/g,\"\");//trim str\n   return str;\n}"],"sourceRoot":""}